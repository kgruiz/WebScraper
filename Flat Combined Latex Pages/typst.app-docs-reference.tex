\title{typst.app/docs/reference/model}

\begin{itemize}
\tightlist
\item
  \href{/docs}{\includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-docs-dark.svg}}
\item
  \includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-arrow-right.svg}
\item
  \href{/docs/reference/}{Reference}
\item
  \includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-arrow-right.svg}
\item
  \href{/docs/reference/model/}{Model}
\end{itemize}

\section{Model}\label{summary}

Document structuring.

Here, you can find functions to structure your document and interact
with that structure. This includes section headings, figures,
bibliography management, cross-referencing and more.

\subsection{Definitions}\label{definitions}

\begin{itemize}
\tightlist
\item
  \href{/docs/reference/model/bibliography/}{\texttt{\ bibliography\ }}
  { A bibliography / reference listing. }
\item
  \href{/docs/reference/model/cite/}{\texttt{\ cite\ }} { Cite a work
  from the bibliography. }
\item
  \href{/docs/reference/model/document/}{\texttt{\ document\ }} { The
  root element of a document and its metadata. }
\item
  \href{/docs/reference/model/emph/}{\texttt{\ emph\ }} { Emphasizes
  content by toggling italics. }
\item
  \href{/docs/reference/model/enum/}{\texttt{\ enum\ }} { A numbered
  list. }
\item
  \href{/docs/reference/model/figure/}{\texttt{\ figure\ }} { A figure
  with an optional caption. }
\item
  \href{/docs/reference/model/footnote/}{\texttt{\ footnote\ }} { A
  footnote. }
\item
  \href{/docs/reference/model/heading/}{\texttt{\ heading\ }} { A
  section heading. }
\item
  \href{/docs/reference/model/link/}{\texttt{\ link\ }} { Links to a URL
  or a location in the document. }
\item
  \href{/docs/reference/model/list/}{\texttt{\ list\ }} { A bullet list.
  }
\item
  \href{/docs/reference/model/numbering/}{\texttt{\ numbering\ }} {
  Applies a numbering to a sequence of numbers. }
\item
  \href{/docs/reference/model/outline/}{\texttt{\ outline\ }} { A table
  of contents, figures, or other elements. }
\item
  \href{/docs/reference/model/par/}{\texttt{\ par\ }} { Arranges text,
  spacing and inline-level elements into a paragraph. }
\item
  \href{/docs/reference/model/parbreak/}{\texttt{\ parbreak\ }} { A
  paragraph break. }
\item
  \href{/docs/reference/model/quote/}{\texttt{\ quote\ }} { Displays a
  quote alongside an optional attribution. }
\item
  \href{/docs/reference/model/ref/}{\texttt{\ ref\ }} { A reference to a
  label or bibliography. }
\item
  \href{/docs/reference/model/strong/}{\texttt{\ strong\ }} { Strongly
  emphasizes content by increasing the font weight. }
\item
  \href{/docs/reference/model/table/}{\texttt{\ table\ }} { A table of
  items. }
\item
  \href{/docs/reference/model/terms/}{\texttt{\ terms\ }} { A list of
  terms and their descriptions. }
\end{itemize}

\href{/docs/reference/foundations/version/}{\pandocbounded{\includesvg[keepaspectratio]{/assets/icons/16-arrow-right.svg}}}

{ Version } { Previous page }

\href{/docs/reference/model/bibliography/}{\pandocbounded{\includesvg[keepaspectratio]{/assets/icons/16-arrow-right.svg}}}

{ Bibliography } { Next page }


\title{typst.app/docs/reference/symbols}

\begin{itemize}
\tightlist
\item
  \href{/docs}{\includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-docs-dark.svg}}
\item
  \includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-arrow-right.svg}
\item
  \href{/docs/reference/}{Reference}
\item
  \includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-arrow-right.svg}
\item
  \href{/docs/reference/symbols/}{Symbols}
\end{itemize}

\section{Symbols}\label{summary}

These two modules give names to symbols and emoji to make them easy to
insert with a normal keyboard. Alternatively, you can also always
directly enter Unicode symbols into your text and formulas. In addition
to the symbols listed below, math mode defines \texttt{\ dif\ } and
\texttt{\ Dif\ } . These are not normal symbol values because they also
affect spacing and font style.

\subsection{Definitions}\label{definitions}

\begin{itemize}
\tightlist
\item
  \href{/docs/reference/symbols/sym/}{\texttt{\ sym\ }} { These two
  modules give names to symbols and emoji to make them easy to }
\item
  \href{/docs/reference/symbols/emoji/}{\texttt{\ emoji\ }} { These two
  modules give names to symbols and emoji to make them easy to }
\item
  \href{/docs/reference/symbols/symbol/}{\texttt{\ symbol\ }} { A
  Unicode symbol. }
\end{itemize}

\subsection{Shorthands}\label{shorthands}

Shorthands are concise sequences of characters that evoke specific
glyphs. Shorthands and other ways to produce symbols can be used
interchangeably. You can use different sets of shorthands in math and
markup mode. Some shorthands, like \texttt{\ \textasciitilde{}\ } for a
non-breaking space produce non-printing symbols, which are indicated
with gray placeholder text.

You can deactivate a shorthand\textquotesingle s interpretation by
escaping any of its characters. If you escape a single character in a
shorthand, the remaining unescaped characters may form a different
shorthand.

\subsubsection{Within Markup Mode}\label{within-markup-mode}

\begin{itemize}
\tightlist
\item
  \phantomsection\label{symbol-space.nobreak}{{ nbsp }
  \texttt{\ \textasciitilde{}\ }}
\item
  \phantomsection\label{symbol-dash.en}{{ â€`` } \texttt{\ -\/-\ }}
\item
  \phantomsection\label{symbol-dash.em}{{ â€'' } \texttt{\ -\/-\/-\ }}
\item
  \phantomsection\label{symbol-hyph.soft}{{ shy } \texttt{\ -?\ }}
\item
  \phantomsection\label{symbol-dots.h}{{ â€¦ } \texttt{\ .\ .\ .\ }}
\item
  \phantomsection\label{symbol-minus}{{ âˆ' } \texttt{\ -\ }}
\end{itemize}

{ }

\subsubsection{\texorpdfstring{{ }}{ }}\label{section}

Name: \texttt{\ }
\includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-copy.svg}

Escape: \texttt{\ \textbackslash{}u\ \{\ }{\texttt{\ }}\texttt{\ \}\ }
\includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-copy.svg}

Shorthand: \texttt{\ }
\includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-copy.svg}
{ }

Accent:
\includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-close.svg}

LaTeX: \texttt{\ }

{ }

\subsubsection{Within Math Mode}\label{within-math-mode}

\begin{itemize}
\tightlist
\item
  \phantomsection\label{symbol-bracket.l.double}{{ âŸ¦ }
  \texttt{\ {[}\textbar{}\ }}
\item
  \phantomsection\label{symbol-bracket.r.double}{{ âŸ§ }
  \texttt{\ \textbar{}{]}\ }}
\item
  \phantomsection\label{symbol-bar.v.double}{{ â€-- }
  \texttt{\ \textbar{}\textbar{}\ }}
\item
  \phantomsection\label{symbol-ast.op}{{ âˆ--- } \texttt{\ *\ }}
\item
  \phantomsection\label{symbol-colon.eq}{{ â‰'' } \texttt{\ :=\ }}
\item
  \phantomsection\label{symbol-colon.double.eq}{{ â©´ }
  \texttt{\ ::=\ }}
\item
  \phantomsection\label{symbol-dots.h}{{ â€¦ } \texttt{\ .\ .\ .\ }}
\item
  \phantomsection\label{symbol-tilde.op}{{ âˆ¼ }
  \texttt{\ \textasciitilde{}\ }}
\item
  \phantomsection\label{symbol-prime}{{ â€² }
  \texttt{\ \textquotesingle{}\ }}
\item
  \phantomsection\label{symbol-minus}{{ âˆ' } \texttt{\ -\ }}
\item
  \phantomsection\label{symbol-eq.colon}{{ â‰• } \texttt{\ =:\ }}
\item
  \phantomsection\label{symbol-eq.not}{{ â‰ } \texttt{\ !=\ }}
\item
  \phantomsection\label{symbol-gt.double}{{ â‰« }
  \texttt{\ \textgreater{}\textgreater{}\ }}
\item
  \phantomsection\label{symbol-gt.eq}{{ â‰¥ }
  \texttt{\ \textgreater{}=\ }}
\item
  \phantomsection\label{symbol-gt.triple}{{ â‹™ }
  \texttt{\ \textgreater{}\textgreater{}\textgreater{}\ }}
\item
  \phantomsection\label{symbol-lt.double}{{ â‰ª }
  \texttt{\ \textless{}\textless{}\ }}
\item
  \phantomsection\label{symbol-lt.eq}{{ â‰¤ } \texttt{\ \textless{}=\ }}
\item
  \phantomsection\label{symbol-lt.triple}{{ â‹˜ }
  \texttt{\ \textless{}\textless{}\textless{}\ }}
\item
  \phantomsection\label{symbol-arrow.r}{{ â†' }
  \texttt{\ -\textgreater{}\ }}
\item
  \phantomsection\label{symbol-arrow.r.bar}{{ â†¦ }
  \texttt{\ \textbar{}-\textgreater{}\ }}
\item
  \phantomsection\label{symbol-arrow.r.double}{{ â‡' }
  \texttt{\ =\textgreater{}\ }}
\item
  \phantomsection\label{symbol-arrow.r.double.bar}{{ â¤‡ }
  \texttt{\ \textbar{}=\textgreater{}\ }}
\item
  \phantomsection\label{symbol-arrow.r.double.long}{{ âŸ¹ }
  \texttt{\ ==\textgreater{}\ }}
\item
  \phantomsection\label{symbol-arrow.r.long}{{ âŸ¶ }
  \texttt{\ -\/-\textgreater{}\ }}
\item
  \phantomsection\label{symbol-arrow.r.long.squiggly}{{ âŸ¿ }
  \texttt{\ \textasciitilde{}\textasciitilde{}\textgreater{}\ }}
\item
  \phantomsection\label{symbol-arrow.r.squiggly}{{ â‡? }
  \texttt{\ \textasciitilde{}\textgreater{}\ }}
\item
  \phantomsection\label{symbol-arrow.r.tail}{{ â†£ }
  \texttt{\ \textgreater{}-\textgreater{}\ }}
\item
  \phantomsection\label{symbol-arrow.r.twohead}{{ â† }
  \texttt{\ -\textgreater{}\textgreater{}\ }}
\item
  \phantomsection\label{symbol-arrow.l}{{ â†? }
  \texttt{\ \textless{}-\ }}
\item
  \phantomsection\label{symbol-arrow.l.double.long}{{ âŸ¸ }
  \texttt{\ \textless{}==\ }}
\item
  \phantomsection\label{symbol-arrow.l.long}{{ âŸµ }
  \texttt{\ \textless{}-\/-\ }}
\item
  \phantomsection\label{symbol-arrow.l.long.squiggly}{{ â¬³ }
  \texttt{\ \textless{}\textasciitilde{}\textasciitilde{}\ }}
\item
  \phantomsection\label{symbol-arrow.l.squiggly}{{ â‡œ }
  \texttt{\ \textless{}\textasciitilde{}\ }}
\item
  \phantomsection\label{symbol-arrow.l.tail}{{ â†¢ }
  \texttt{\ \textless{}-\textless{}\ }}
\item
  \phantomsection\label{symbol-arrow.l.twohead}{{ â†ž }
  \texttt{\ \textless{}\textless{}-\ }}
\item
  \phantomsection\label{symbol-arrow.l.r}{{ â†'' }
  \texttt{\ \textless{}-\textgreater{}\ }}
\item
  \phantomsection\label{symbol-arrow.l.r.double}{{ â‡'' }
  \texttt{\ \textless{}=\textgreater{}\ }}
\item
  \phantomsection\label{symbol-arrow.l.r.double.long}{{ âŸº }
  \texttt{\ \textless{}==\textgreater{}\ }}
\item
  \phantomsection\label{symbol-arrow.l.r.long}{{ âŸ· }
  \texttt{\ \textless{}-\/-\textgreater{}\ }}
\end{itemize}

{ }

\subsubsection{\texorpdfstring{{ }}{ }}\label{section-1}

Name: \texttt{\ }
\includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-copy.svg}

Escape: \texttt{\ \textbackslash{}u\ \{\ }{\texttt{\ }}\texttt{\ \}\ }
\includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-copy.svg}

Shorthand: \texttt{\ }
\includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-copy.svg}
{ }

Accent:
\includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-close.svg}

LaTeX: \texttt{\ }

{ }

\href{/docs/reference/math/vec/}{\pandocbounded{\includesvg[keepaspectratio]{/assets/icons/16-arrow-right.svg}}}

{ Vector } { Previous page }

\href{/docs/reference/symbols/sym/}{\pandocbounded{\includesvg[keepaspectratio]{/assets/icons/16-arrow-right.svg}}}

{ General } { Next page }


\title{typst.app/docs/reference/introspection}

\begin{itemize}
\tightlist
\item
  \href{/docs}{\includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-docs-dark.svg}}
\item
  \includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-arrow-right.svg}
\item
  \href{/docs/reference/}{Reference}
\item
  \includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-arrow-right.svg}
\item
  \href{/docs/reference/introspection/}{Introspection}
\end{itemize}

\section{Introspection}\label{summary}

Interactions between document parts.

This category is home to Typst\textquotesingle s introspection
capabilities: With the \texttt{\ counter\ } function, you can access and
manipulate page, section, figure, and equation counters or create custom
ones. Meanwhile, the \texttt{\ query\ } function lets you search for
elements in the document to construct things like a list of figures or
headers which show the current chapter title.

Most of the functions are \emph{contextual.} It is recommended to read
the chapter on \href{/docs/reference/context/}{context} before
continuing here.

\subsection{Definitions}\label{definitions}

\begin{itemize}
\tightlist
\item
  \href{/docs/reference/introspection/counter/}{\texttt{\ counter\ }} {
  Counts through pages, elements, and more. }
\item
  \href{/docs/reference/introspection/here/}{\texttt{\ here\ }} {
  Provides the current location in the document. }
\item
  \href{/docs/reference/introspection/locate/}{\texttt{\ locate\ }} {
  Determines the location of an element in the document. }
\item
  \href{/docs/reference/introspection/location/}{\texttt{\ location\ }}
  { Identifies an element in the document. }
\item
  \href{/docs/reference/introspection/metadata/}{\texttt{\ metadata\ }}
  { Exposes a value to the query system without producing visible
  content. }
\item
  \href{/docs/reference/introspection/query/}{\texttt{\ query\ }} {
  Finds elements in the document. }
\item
  \href{/docs/reference/introspection/state/}{\texttt{\ state\ }} {
  Manages stateful parts of your document. }
\end{itemize}

\href{/docs/reference/visualize/stroke/}{\pandocbounded{\includesvg[keepaspectratio]{/assets/icons/16-arrow-right.svg}}}

{ Stroke } { Previous page }

\href{/docs/reference/introspection/counter/}{\pandocbounded{\includesvg[keepaspectratio]{/assets/icons/16-arrow-right.svg}}}

{ Counter } { Next page }


\title{typst.app/docs/reference/syntax}

\begin{itemize}
\tightlist
\item
  \href{/docs}{\includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-docs-dark.svg}}
\item
  \includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-arrow-right.svg}
\item
  \href{/docs/reference/}{Reference}
\item
  \includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-arrow-right.svg}
\item
  \href{/docs/reference/syntax/}{Syntax}
\end{itemize}

\section{Syntax}\label{syntax}

Typst is a markup language. This means that you can use simple syntax to
accomplish common layout tasks. The lightweight markup syntax is
complemented by set and show rules, which let you style your document
easily and automatically. All this is backed by a tightly integrated
scripting language with built-in and user-defined functions.

\subsection{Modes}\label{modes}

Typst has three syntactical modes: Markup, math, and code. Markup mode
is the default in a Typst document, math mode lets you write
mathematical formulas, and code mode lets you use
Typst\textquotesingle s scripting features.

You can switch to a specific mode at any point by referring to the
following table:

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
New mode & Syntax & Example \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
Code & Prefix the code with \texttt{\ \#\ } &
\texttt{\ Number:\ }{\texttt{\ \#\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ }{\texttt{\ 1\ }}\texttt{\ }{\texttt{\ +\ }}\texttt{\ }{\texttt{\ 2\ }}\texttt{\ }{\texttt{\ )\ }}\texttt{\ } \\
Math & Surround equation with
\texttt{\ }{\texttt{\ \$\ }}\texttt{\ ..\ }{\texttt{\ \$\ }}\texttt{\ }
&
\texttt{\ }{\texttt{\ \$\ }}\texttt{\ }{\texttt{\ -\ }}\texttt{\ x\ }{\texttt{\ \$\ }}\texttt{\ is\ the\ opposite\ of\ }{\texttt{\ \$\ }}\texttt{\ x\ }{\texttt{\ \$\ }}\texttt{\ } \\
Markup & Surround markup with \texttt{\ {[}..{]}\ } &
\texttt{\ }{\texttt{\ let\ }}\texttt{\ name\ }{\texttt{\ =\ }}\texttt{\ }{\texttt{\ {[}\ }}\texttt{\ }{\texttt{\ *Typst!*\ }}\texttt{\ }{\texttt{\ {]}\ }}\texttt{\ } \\
\end{longtable}

Once you have entered code mode with \texttt{\ \#\ } , you
don\textquotesingle t need to use further hashes unless you switched
back to markup or math mode in between.

\subsection{Markup}\label{markup}

Typst provides built-in markup for the most common document elements.
Most of the syntax elements are just shortcuts for a corresponding
function. The table below lists all markup that is available and links
to the best place to learn more about their syntax and usage.

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
Name & Example & See \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
Paragraph break & Blank line &
\href{/docs/reference/model/parbreak/}{\texttt{\ parbreak\ }} \\
Strong emphasis & \texttt{\ }{\texttt{\ *strong*\ }}\texttt{\ } &
\href{/docs/reference/model/strong/}{\texttt{\ strong\ }} \\
Emphasis & \texttt{\ }{\texttt{\ \_emphasis\_\ }}\texttt{\ } &
\href{/docs/reference/model/emph/}{\texttt{\ emph\ }} \\
Raw text &
\texttt{\ }{\texttt{\ \textasciigrave{}print(1)\textasciigrave{}\ }}\texttt{\ }
& \href{/docs/reference/text/raw/}{\texttt{\ raw\ }} \\
Link & \texttt{\ }{\texttt{\ https://typst.app/\ }}\texttt{\ } &
\href{/docs/reference/model/link/}{\texttt{\ link\ }} \\
Label &
\texttt{\ }{\texttt{\ \textless{}intro\textgreater{}\ }}\texttt{\ } &
\href{/docs/reference/foundations/label/}{\texttt{\ label\ }} \\
Reference & \texttt{\ }{\texttt{\ @intro\ }}\texttt{\ } &
\href{/docs/reference/model/ref/}{\texttt{\ ref\ }} \\
Heading & \texttt{\ }{\texttt{\ =\ Heading\ }}\texttt{\ } &
\href{/docs/reference/model/heading/}{\texttt{\ heading\ }} \\
Bullet list & \texttt{\ }{\texttt{\ -\ }}\texttt{\ item\ } &
\href{/docs/reference/model/list/}{\texttt{\ list\ }} \\
Numbered list & \texttt{\ }{\texttt{\ +\ }}\texttt{\ item\ } &
\href{/docs/reference/model/enum/}{\texttt{\ enum\ }} \\
Term list &
\texttt{\ }{\texttt{\ /\ }}\texttt{\ }{\texttt{\ Term\ }}\texttt{\ }{\texttt{\ :\ }}\texttt{\ description\ }
& \href{/docs/reference/model/terms/}{\texttt{\ terms\ }} \\
Math &
\texttt{\ }{\texttt{\ \$\ }}\texttt{\ x\ }{\texttt{\ \^{}\ }}\texttt{\ 2\ }{\texttt{\ \$\ }}\texttt{\ }
& \href{/docs/reference/math/}{Math} \\
Line break & \texttt{\ }{\texttt{\ \textbackslash{}\ }}\texttt{\ } &
\href{/docs/reference/text/linebreak/}{\texttt{\ linebreak\ }} \\
Smart quote &
\texttt{\ \textquotesingle{}single\textquotesingle{}\ or\ "double"\ } &
\href{/docs/reference/text/smartquote/}{\texttt{\ smartquote\ }} \\
Symbol shorthand &
\texttt{\ }{\texttt{\ \textasciitilde{}\ }}\texttt{\ } ,
\texttt{\ }{\texttt{\ -\/-\/-\ }}\texttt{\ } &
\href{/docs/reference/symbols/sym/}{Symbols} \\
Code expression &
\texttt{\ }{\texttt{\ \#\ }}\texttt{\ }{\texttt{\ rect\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ width\ }{\texttt{\ :\ }}\texttt{\ }{\texttt{\ 1cm\ }}\texttt{\ }{\texttt{\ )\ }}\texttt{\ }
& \href{/docs/reference/scripting/\#expressions}{Scripting} \\
Character escape &
\texttt{\ Tweet\ at\ us\ }{\texttt{\ \textbackslash{}\#\ }}\texttt{\ ad\ }
& \hyperref[escapes]{Below} \\
Comment & \texttt{\ }{\texttt{\ /*\ block\ */\ }}\texttt{\ } ,
\texttt{\ }{\texttt{\ //\ line\ }}\texttt{\ } &
\hyperref[comments]{Below} \\
\end{longtable}

\subsection{Math mode}\label{math}

Math mode is a special markup mode that is used to typeset mathematical
formulas. It is entered by wrapping an equation in \texttt{\ \$\ }
characters. This works both in markup and code. The equation will be
typeset into its own block if it starts and ends with at least one space
(e.g.
\texttt{\ }{\texttt{\ \$\ }}\texttt{\ x\ }{\texttt{\ \^{}\ }}\texttt{\ 2\ }{\texttt{\ \$\ }}\texttt{\ }
). Inline math can be produced by omitting the whitespace (e.g.
\texttt{\ }{\texttt{\ \$\ }}\texttt{\ x\ }{\texttt{\ \^{}\ }}\texttt{\ 2\ }{\texttt{\ \$\ }}\texttt{\ }
). An overview over the syntax specific to math mode follows:

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
Name & Example & See \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
Inline math &
\texttt{\ }{\texttt{\ \$\ }}\texttt{\ x\ }{\texttt{\ \^{}\ }}\texttt{\ 2\ }{\texttt{\ \$\ }}\texttt{\ }
& \href{/docs/reference/math/}{Math} \\
Block-level math &
\texttt{\ }{\texttt{\ \$\ }}\texttt{\ x\ }{\texttt{\ \^{}\ }}\texttt{\ 2\ }{\texttt{\ \$\ }}\texttt{\ }
& \href{/docs/reference/math/}{Math} \\
Bottom attachment &
\texttt{\ }{\texttt{\ \$\ }}\texttt{\ x\ }{\texttt{\ \_\ }}\texttt{\ 1\ }{\texttt{\ \$\ }}\texttt{\ }
& \href{/docs/reference/math/attach/}{\texttt{\ attach\ }} \\
Top attachment &
\texttt{\ }{\texttt{\ \$\ }}\texttt{\ x\ }{\texttt{\ \^{}\ }}\texttt{\ 2\ }{\texttt{\ \$\ }}\texttt{\ }
& \href{/docs/reference/math/attach/}{\texttt{\ attach\ }} \\
Fraction &
\texttt{\ }{\texttt{\ \$\ }}\texttt{\ 1\ +\ }{\texttt{\ (\ }}\texttt{\ a+b\ }{\texttt{\ )\ }}\texttt{\ }{\texttt{\ /\ }}\texttt{\ 5\ }{\texttt{\ \$\ }}\texttt{\ }
& \href{/docs/reference/math/frac/}{\texttt{\ frac\ }} \\
Line break &
\texttt{\ }{\texttt{\ \$\ }}\texttt{\ x\ }{\texttt{\ \textbackslash{}\ }}\texttt{\ y\ }{\texttt{\ \$\ }}\texttt{\ }
& \href{/docs/reference/text/linebreak/}{\texttt{\ linebreak\ }} \\
Alignment point &
\texttt{\ }{\texttt{\ \$\ }}\texttt{\ x\ }{\texttt{\ \&\ }}\texttt{\ =\ 2\ }{\texttt{\ \textbackslash{}\ }}\texttt{\ }{\texttt{\ \&\ }}\texttt{\ =\ 3\ }{\texttt{\ \$\ }}\texttt{\ }
& \href{/docs/reference/math/}{Math} \\
Variable access &
\texttt{\ }{\texttt{\ \$\ }}\texttt{\ }{\texttt{\ \#\ }}\texttt{\ }{\texttt{\ x\ }}\texttt{\ }{\texttt{\ \$\ }}\texttt{\ ,\ }{\texttt{\ \$\ }}\texttt{\ }{\texttt{\ pi\ }}\texttt{\ }{\texttt{\ \$\ }}\texttt{\ }
& \href{/docs/reference/math/}{Math} \\
Field access &
\texttt{\ }{\texttt{\ \$\ }}\texttt{\ }{\texttt{\ arrow\ }}\texttt{\ }{\texttt{\ .\ }}\texttt{\ }{\texttt{\ r\ }}\texttt{\ }{\texttt{\ .\ }}\texttt{\ }{\texttt{\ long\ }}\texttt{\ }{\texttt{\ \$\ }}\texttt{\ }
& \href{/docs/reference/scripting/\#fields}{Scripting} \\
Implied multiplication &
\texttt{\ }{\texttt{\ \$\ }}\texttt{\ x\ y\ }{\texttt{\ \$\ }}\texttt{\ }
& \href{/docs/reference/math/}{Math} \\
Symbol shorthand &
\texttt{\ }{\texttt{\ \$\ }}\texttt{\ }{\texttt{\ -\textgreater{}\ }}\texttt{\ }{\texttt{\ \$\ }}\texttt{\ }
,
\texttt{\ }{\texttt{\ \$\ }}\texttt{\ }{\texttt{\ !=\ }}\texttt{\ }{\texttt{\ \$\ }}\texttt{\ }
& \href{/docs/reference/symbols/sym/}{Symbols} \\
Text/string in math &
\texttt{\ }{\texttt{\ \$\ }}\texttt{\ a\ }{\texttt{\ "is\ natural"\ }}\texttt{\ }{\texttt{\ \$\ }}\texttt{\ }
& \href{/docs/reference/math/}{Math} \\
Math function call &
\texttt{\ }{\texttt{\ \$\ }}\texttt{\ }{\texttt{\ floor\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ x\ }{\texttt{\ )\ }}\texttt{\ }{\texttt{\ \$\ }}\texttt{\ }
& \href{/docs/reference/math/}{Math} \\
Code expression &
\texttt{\ }{\texttt{\ \$\ }}\texttt{\ }{\texttt{\ \#\ }}\texttt{\ }{\texttt{\ rect\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ width\ }{\texttt{\ :\ }}\texttt{\ }{\texttt{\ 1cm\ }}\texttt{\ }{\texttt{\ )\ }}\texttt{\ }{\texttt{\ \$\ }}\texttt{\ }
& \href{/docs/reference/scripting/\#expressions}{Scripting} \\
Character escape &
\texttt{\ }{\texttt{\ \$\ }}\texttt{\ x\ }{\texttt{\ \textbackslash{}\^{}\ }}\texttt{\ 2\ }{\texttt{\ \$\ }}\texttt{\ }
& \hyperref[escapes]{Below} \\
Comment &
\texttt{\ }{\texttt{\ \$\ }}\texttt{\ }{\texttt{\ /*\ comment\ */\ }}\texttt{\ }{\texttt{\ \$\ }}\texttt{\ }
& \hyperref[comments]{Below} \\
\end{longtable}

\subsection{Code mode}\label{code}

Within code blocks and expressions, new expressions can start without a
leading \texttt{\ \#\ } character. Many syntactic elements are specific
to expressions. Below is a table listing all syntax that is available in
code mode:

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
Name & Example & See \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
None & \texttt{\ }{\texttt{\ none\ }}\texttt{\ } &
\href{/docs/reference/foundations/none/}{\texttt{\ none\ }} \\
Auto & \texttt{\ }{\texttt{\ auto\ }}\texttt{\ } &
\href{/docs/reference/foundations/auto/}{\texttt{\ auto\ }} \\
Boolean & \texttt{\ }{\texttt{\ false\ }}\texttt{\ } ,
\texttt{\ }{\texttt{\ true\ }}\texttt{\ } &
\href{/docs/reference/foundations/bool/}{\texttt{\ bool\ }} \\
Integer & \texttt{\ }{\texttt{\ 10\ }}\texttt{\ } ,
\texttt{\ }{\texttt{\ 0xff\ }}\texttt{\ } &
\href{/docs/reference/foundations/int/}{\texttt{\ int\ }} \\
Floating-point number & \texttt{\ }{\texttt{\ 3.14\ }}\texttt{\ } ,
\texttt{\ }{\texttt{\ 1e5\ }}\texttt{\ } &
\href{/docs/reference/foundations/float/}{\texttt{\ float\ }} \\
Length & \texttt{\ }{\texttt{\ 2pt\ }}\texttt{\ } ,
\texttt{\ }{\texttt{\ 3mm\ }}\texttt{\ } ,
\texttt{\ }{\texttt{\ 1em\ }}\texttt{\ } , .. &
\href{/docs/reference/layout/length/}{\texttt{\ length\ }} \\
Angle & \texttt{\ }{\texttt{\ 90deg\ }}\texttt{\ } ,
\texttt{\ }{\texttt{\ 1rad\ }}\texttt{\ } &
\href{/docs/reference/layout/angle/}{\texttt{\ angle\ }} \\
Fraction & \texttt{\ }{\texttt{\ 2fr\ }}\texttt{\ } &
\href{/docs/reference/layout/fraction/}{\texttt{\ fraction\ }} \\
Ratio & \texttt{\ }{\texttt{\ 50\%\ }}\texttt{\ } &
\href{/docs/reference/layout/ratio/}{\texttt{\ ratio\ }} \\
String & \texttt{\ }{\texttt{\ "hello"\ }}\texttt{\ } &
\href{/docs/reference/foundations/str/}{\texttt{\ str\ }} \\
Label &
\texttt{\ }{\texttt{\ \textless{}intro\textgreater{}\ }}\texttt{\ } &
\href{/docs/reference/foundations/label/}{\texttt{\ label\ }} \\
Math &
\texttt{\ }{\texttt{\ \$\ }}\texttt{\ x\ }{\texttt{\ \^{}\ }}\texttt{\ 2\ }{\texttt{\ \$\ }}\texttt{\ }
& \href{/docs/reference/math/}{Math} \\
Raw text &
\texttt{\ }{\texttt{\ \textasciigrave{}print(1)\textasciigrave{}\ }}\texttt{\ }
& \href{/docs/reference/text/raw/}{\texttt{\ raw\ }} \\
Variable access & \texttt{\ x\ } &
\href{/docs/reference/scripting/\#blocks}{Scripting} \\
Code block &
\texttt{\ }{\texttt{\ \{\ }}\texttt{\ }{\texttt{\ let\ }}\texttt{\ x\ }{\texttt{\ =\ }}\texttt{\ }{\texttt{\ 1\ }}\texttt{\ }{\texttt{\ ;\ }}\texttt{\ x\ }{\texttt{\ +\ }}\texttt{\ }{\texttt{\ 2\ }}\texttt{\ }{\texttt{\ \}\ }}\texttt{\ }
& \href{/docs/reference/scripting/\#blocks}{Scripting} \\
Content block &
\texttt{\ }{\texttt{\ {[}\ }}\texttt{\ }{\texttt{\ *Hello*\ }}\texttt{\ }{\texttt{\ {]}\ }}\texttt{\ }
& \href{/docs/reference/scripting/\#blocks}{Scripting} \\
Parenthesized expression &
\texttt{\ }{\texttt{\ (\ }}\texttt{\ }{\texttt{\ 1\ }}\texttt{\ }{\texttt{\ +\ }}\texttt{\ }{\texttt{\ 2\ }}\texttt{\ }{\texttt{\ )\ }}\texttt{\ }
& \href{/docs/reference/scripting/\#blocks}{Scripting} \\
Array &
\texttt{\ }{\texttt{\ (\ }}\texttt{\ }{\texttt{\ 1\ }}\texttt{\ }{\texttt{\ ,\ }}\texttt{\ }{\texttt{\ 2\ }}\texttt{\ }{\texttt{\ ,\ }}\texttt{\ }{\texttt{\ 3\ }}\texttt{\ }{\texttt{\ )\ }}\texttt{\ }
& \href{/docs/reference/foundations/array/}{Array} \\
Dictionary &
\texttt{\ }{\texttt{\ (\ }}\texttt{\ a\ }{\texttt{\ :\ }}\texttt{\ }{\texttt{\ "hi"\ }}\texttt{\ }{\texttt{\ ,\ }}\texttt{\ b\ }{\texttt{\ :\ }}\texttt{\ }{\texttt{\ 2\ }}\texttt{\ }{\texttt{\ )\ }}\texttt{\ }
& \href{/docs/reference/foundations/dictionary/}{Dictionary} \\
Unary operator & \texttt{\ }{\texttt{\ -\ }}\texttt{\ x\ } &
\href{/docs/reference/scripting/\#operators}{Scripting} \\
Binary operator & \texttt{\ x\ }{\texttt{\ +\ }}\texttt{\ y\ } &
\href{/docs/reference/scripting/\#operators}{Scripting} \\
Assignment &
\texttt{\ x\ }{\texttt{\ =\ }}\texttt{\ }{\texttt{\ 1\ }}\texttt{\ } &
\href{/docs/reference/scripting/\#operators}{Scripting} \\
Field access & \texttt{\ x\ }{\texttt{\ .\ }}\texttt{\ y\ } &
\href{/docs/reference/scripting/\#fields}{Scripting} \\
Method call &
\texttt{\ x\ }{\texttt{\ .\ }}\texttt{\ }{\texttt{\ flatten\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ }{\texttt{\ )\ }}\texttt{\ }
& \href{/docs/reference/scripting/\#methods}{Scripting} \\
Function call &
\texttt{\ }{\texttt{\ min\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ x\ }{\texttt{\ ,\ }}\texttt{\ y\ }{\texttt{\ )\ }}\texttt{\ }
& \href{/docs/reference/foundations/function/}{Function} \\
Argument spreading &
\texttt{\ }{\texttt{\ min\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ }{\texttt{\ ..\ }}\texttt{\ nums\ }{\texttt{\ )\ }}\texttt{\ }
& \href{/docs/reference/foundations/arguments/}{Arguments} \\
Unnamed function &
\texttt{\ }{\texttt{\ (\ }}\texttt{\ x\ }{\texttt{\ ,\ }}\texttt{\ y\ }{\texttt{\ )\ }}\texttt{\ }{\texttt{\ =\textgreater{}\ }}\texttt{\ x\ }{\texttt{\ +\ }}\texttt{\ y\ }
& \href{/docs/reference/foundations/function/}{Function} \\
Let binding &
\texttt{\ }{\texttt{\ let\ }}\texttt{\ x\ }{\texttt{\ =\ }}\texttt{\ }{\texttt{\ 1\ }}\texttt{\ }
& \href{/docs/reference/scripting/\#bindings}{Scripting} \\
Named function &
\texttt{\ }{\texttt{\ let\ }}\texttt{\ }{\texttt{\ f\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ x\ }{\texttt{\ )\ }}\texttt{\ }{\texttt{\ =\ }}\texttt{\ }{\texttt{\ 2\ }}\texttt{\ }{\texttt{\ *\ }}\texttt{\ x\ }
& \href{/docs/reference/foundations/function/}{Function} \\
Set rule &
\texttt{\ }{\texttt{\ set\ }}\texttt{\ }{\texttt{\ text\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ }{\texttt{\ 14pt\ }}\texttt{\ }{\texttt{\ )\ }}\texttt{\ }
& \href{/docs/reference/styling/\#set-rules}{Styling} \\
Set-if rule &
\texttt{\ }{\texttt{\ set\ }}\texttt{\ }{\texttt{\ text\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ }{\texttt{\ ..\ }}\texttt{\ }{\texttt{\ )\ }}\texttt{\ }{\texttt{\ if\ }}\texttt{\ ..\ }
& \href{/docs/reference/styling/\#set-rules}{Styling} \\
Show-set rule &
\texttt{\ }{\texttt{\ show\ }}\texttt{\ }{\texttt{\ heading\ }}\texttt{\ }{\texttt{\ :\ }}\texttt{\ }{\texttt{\ set\ }}\texttt{\ }{\texttt{\ block\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ }{\texttt{\ ..\ }}\texttt{\ }{\texttt{\ )\ }}\texttt{\ }
& \href{/docs/reference/styling/\#show-rules}{Styling} \\
Show rule with function &
\texttt{\ }{\texttt{\ show\ }}\texttt{\ }{\texttt{\ raw\ }}\texttt{\ }{\texttt{\ :\ }}\texttt{\ it\ }{\texttt{\ =\textgreater{}\ }}\texttt{\ }{\texttt{\ \{\ }}\texttt{\ ..\ }{\texttt{\ \}\ }}\texttt{\ }
& \href{/docs/reference/styling/\#show-rules}{Styling} \\
Show-everything rule &
\texttt{\ }{\texttt{\ show\ }}\texttt{\ }{\texttt{\ :\ }}\texttt{\ }{\texttt{\ template\ }}\texttt{\ }
& \href{/docs/reference/styling/\#show-rules}{Styling} \\
Context expression &
\texttt{\ }{\texttt{\ context\ }}\texttt{\ text\ }{\texttt{\ .\ }}\texttt{\ lang\ }
& \href{/docs/reference/context/}{Context} \\
Conditional &
\texttt{\ }{\texttt{\ if\ }}\texttt{\ x\ }{\texttt{\ ==\ }}\texttt{\ }{\texttt{\ 1\ }}\texttt{\ }{\texttt{\ \{\ }}\texttt{\ ..\ }{\texttt{\ \}\ }}\texttt{\ }{\texttt{\ else\ }}\texttt{\ }{\texttt{\ \{\ }}\texttt{\ ..\ }{\texttt{\ \}\ }}\texttt{\ }
& \href{/docs/reference/scripting/\#conditionals}{Scripting} \\
For loop &
\texttt{\ }{\texttt{\ for\ }}\texttt{\ x\ }{\texttt{\ in\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ }{\texttt{\ 1\ }}\texttt{\ }{\texttt{\ ,\ }}\texttt{\ }{\texttt{\ 2\ }}\texttt{\ }{\texttt{\ ,\ }}\texttt{\ }{\texttt{\ 3\ }}\texttt{\ }{\texttt{\ )\ }}\texttt{\ }{\texttt{\ \{\ }}\texttt{\ ..\ }{\texttt{\ \}\ }}\texttt{\ }
& \href{/docs/reference/scripting/\#loops}{Scripting} \\
While loop &
\texttt{\ }{\texttt{\ while\ }}\texttt{\ x\ }{\texttt{\ \textless{}\ }}\texttt{\ }{\texttt{\ 10\ }}\texttt{\ }{\texttt{\ \{\ }}\texttt{\ ..\ }{\texttt{\ \}\ }}\texttt{\ }
& \href{/docs/reference/scripting/\#loops}{Scripting} \\
Loop control flow &
\texttt{\ }{\texttt{\ break\ }}\texttt{\ ,\ }{\texttt{\ continue\ }}\texttt{\ }
& \href{/docs/reference/scripting/\#loops}{Scripting} \\
Return from function & \texttt{\ }{\texttt{\ return\ }}\texttt{\ x\ } &
\href{/docs/reference/foundations/function/}{Function} \\
Include module &
\texttt{\ }{\texttt{\ include\ }}\texttt{\ }{\texttt{\ "bar.typ"\ }}\texttt{\ }
& \href{/docs/reference/scripting/\#modules}{Scripting} \\
Import module &
\texttt{\ }{\texttt{\ import\ }}\texttt{\ }{\texttt{\ "bar.typ"\ }}\texttt{\ }
& \href{/docs/reference/scripting/\#modules}{Scripting} \\
Import items from module &
\texttt{\ }{\texttt{\ import\ }}\texttt{\ }{\texttt{\ "bar.typ"\ }}\texttt{\ }{\texttt{\ :\ }}\texttt{\ a\ }{\texttt{\ ,\ }}\texttt{\ b\ }{\texttt{\ ,\ }}\texttt{\ c\ }
& \href{/docs/reference/scripting/\#modules}{Scripting} \\
Comment & \texttt{\ }{\texttt{\ /*\ block\ */\ }}\texttt{\ } ,
\texttt{\ }{\texttt{\ //\ line\ }}\texttt{\ } &
\hyperref[comments]{Below} \\
\end{longtable}

\subsection{Comments}\label{comments}

Comments are ignored by Typst and will not be included in the output.
This is useful to exclude old versions or to add annotations. To comment
out a single line, start it with \texttt{\ //\ } :

\begin{verbatim}
// our data barely supports
// this claim

We show with $p < 0.05$
that the difference is
significant.
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/qmPJyf2DgB8m9bpdDccxUQAAAAAAAAAA.png}

Comments can also be wrapped between \texttt{\ /*\ } and \texttt{\ */\ }
. In this case, the comment can span over multiple lines:

\begin{verbatim}
Our study design is as follows:
/* Somebody write this up:
   - 1000 participants.
   - 2x2 data design. */
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/0bd3Pt_MGVIAagJ8npuMMAAAAAAAAAAA.png}

\subsection{Escape sequences}\label{escapes}

Escape sequences are used to insert special characters that are hard to
type or otherwise have special meaning in Typst. To escape a character,
precede it with a backslash. To insert any Unicode codepoint, you can
write a hexadecimal escape sequence:
\texttt{\ }{\texttt{\ \textbackslash{}u\{1f600\}\ }}\texttt{\ } . The
same kind of escape sequences also work in
\href{/docs/reference/foundations/str/}{strings} .

\begin{verbatim}
I got an ice cream for
\$1.50! \u{1f600}
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/2Hq1wVq0JUPd4EarGtBZUQAAAAAAAAAA.png}

\subsection{Paths}\label{paths}

Typst has various features that require a file path to reference
external resources such as images, Typst files, or data files. Paths are
represented as \href{/docs/reference/foundations/str/}{strings} . There
are two kinds of paths: Relative and absolute.

\begin{itemize}
\item
  A \textbf{relative path} searches from the location of the Typst file
  where the feature is invoked. It is the default:

\begin{verbatim}
#image("images/logo.png")
\end{verbatim}
\item
  An \textbf{absolute path} searches from the \emph{root} of the
  project. It starts with a leading \texttt{\ /\ } :

\begin{verbatim}
#image("/assets/logo.png")
\end{verbatim}
\end{itemize}

\subsubsection{Project root}\label{project-root}

By default, the project root is the parent directory of the main Typst
file. For security reasons, you cannot read any files outside of the
root directory.

If you want to set a specific folder as the root of your project, you
can use the CLI\textquotesingle s \texttt{\ -\/-root\ } flag. Make sure
that the main file is contained in the folder\textquotesingle s subtree!

\begin{verbatim}
typst compile --root .. file.typ
\end{verbatim}

In the web app, the project itself is the root directory. You can always
read all files within it, no matter which one is previewed (via the eye
toggle next to each Typst file in the file panel).

\subsubsection{Paths and packages}\label{paths-and-packages}

A package can only load files from its own directory. Within it,
absolute paths point to the package root, rather than the project root.
For this reason, it cannot directly load files from the project
directory. If a package needs resources from the project (such as a logo
image), you must pass the already loaded image, e.g. as a named
parameter
\texttt{\ logo:\ }{\texttt{\ image\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ }{\texttt{\ "mylogo.svg"\ }}\texttt{\ }{\texttt{\ )\ }}\texttt{\ }
. Note that you can then still customize the image\textquotesingle s
appearance with a set rule within the package.

In the future, paths might become a
\href{https://github.com/typst/typst/issues/971}{distinct type from
strings} , so that they can retain knowledge of where they were
constructed. This way, resources could be loaded from a different root.

\href{/docs/reference/}{\pandocbounded{\includesvg[keepaspectratio]{/assets/icons/16-arrow-right.svg}}}

{ Reference } { Previous page }

\href{/docs/reference/styling/}{\pandocbounded{\includesvg[keepaspectratio]{/assets/icons/16-arrow-right.svg}}}

{ Styling } { Next page }


\title{typst.app/docs/reference/scripting}

\begin{itemize}
\tightlist
\item
  \href{/docs}{\includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-docs-dark.svg}}
\item
  \includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-arrow-right.svg}
\item
  \href{/docs/reference/}{Reference}
\item
  \includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-arrow-right.svg}
\item
  \href{/docs/reference/scripting/}{Scripting}
\end{itemize}

\section{Scripting}\label{scripting}

Typst embeds a powerful scripting language. You can automate your
documents and create more sophisticated styles with code. Below is an
overview over the scripting concepts.

\subsection{Expressions}\label{expressions}

In Typst, markup and code are fused into one. All but the most common
elements are created with \emph{functions.} To make this as convenient
as possible, Typst provides compact syntax to embed a code expression
into markup: An expression is introduced with a hash ( \texttt{\ \#\ } )
and normal markup parsing resumes after the expression is finished. If a
character would continue the expression but should be interpreted as
text, the expression can forcibly be ended with a semicolon (
\texttt{\ ;\ } ).

\begin{verbatim}
#emph[Hello] \
#emoji.face \
#"hello".len()
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/Vvzr_VTofgbwk2d3ymxPMQAAAAAAAAAA.png}

The example above shows a few of the available expressions, including
\href{/docs/reference/foundations/function/}{function calls} ,
\href{/docs/reference/scripting/\#fields}{field accesses} , and
\href{/docs/reference/scripting/\#methods}{method calls} . More kinds of
expressions are discussed in the remainder of this chapter. A few kinds
of expressions are not compatible with the hash syntax (e.g. binary
operator expressions). To embed these into markup, you can use
parentheses, as in
\texttt{\ }{\texttt{\ \#\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ }{\texttt{\ 1\ }}\texttt{\ }{\texttt{\ +\ }}\texttt{\ }{\texttt{\ 2\ }}\texttt{\ }{\texttt{\ )\ }}\texttt{\ }
.

\subsection{Blocks}\label{blocks}

To structure your code and embed markup into it, Typst provides two
kinds of \emph{blocks:}

\begin{itemize}
\item
  \textbf{Code block:}
  \texttt{\ }{\texttt{\ \{\ }}\texttt{\ }{\texttt{\ let\ }}\texttt{\ x\ }{\texttt{\ =\ }}\texttt{\ }{\texttt{\ 1\ }}\texttt{\ }{\texttt{\ ;\ }}\texttt{\ x\ }{\texttt{\ +\ }}\texttt{\ }{\texttt{\ 2\ }}\texttt{\ }{\texttt{\ \}\ }}\texttt{\ }\\
  When writing code, you\textquotesingle ll probably want to split up
  your computation into multiple statements, create some intermediate
  variables and so on. Code blocks let you write multiple expressions
  where one is expected. The individual expressions in a code block
  should be separated by line breaks or semicolons. The output values of
  the individual expressions in a code block are joined to determine the
  block\textquotesingle s value. Expressions without useful output, like
  \texttt{\ }{\texttt{\ let\ }}\texttt{\ } bindings yield
  \texttt{\ }{\texttt{\ none\ }}\texttt{\ } , which can be joined with
  any value without effect.
\item
  \textbf{Content block:}
  \texttt{\ }{\texttt{\ {[}\ }}\texttt{\ }{\texttt{\ *Hey*\ }}\texttt{\ there!\ }{\texttt{\ {]}\ }}\texttt{\ }\\
  With content blocks, you can handle markup/content as a programmatic
  value, store it in variables and pass it to
  \href{/docs/reference/foundations/function/}{functions} . Content
  blocks are delimited by square brackets and can contain arbitrary
  markup. A content block results in a value of type
  \href{/docs/reference/foundations/content/}{content} . An arbitrary
  number of content blocks can be passed as trailing arguments to
  functions. That is,
  \texttt{\ }{\texttt{\ list\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ }{\texttt{\ {[}\ }}\texttt{\ A\ }{\texttt{\ {]}\ }}\texttt{\ }{\texttt{\ ,\ }}\texttt{\ }{\texttt{\ {[}\ }}\texttt{\ B\ }{\texttt{\ {]}\ }}\texttt{\ }{\texttt{\ )\ }}\texttt{\ }
  is equivalent to
  \texttt{\ }{\texttt{\ list\ }}\texttt{\ }{\texttt{\ {[}\ }}\texttt{\ A\ }{\texttt{\ {]}\ }}\texttt{\ }{\texttt{\ {[}\ }}\texttt{\ B\ }{\texttt{\ {]}\ }}\texttt{\ }
  .
\end{itemize}

Content and code blocks can be nested arbitrarily. In the example below,
\texttt{\ }{\texttt{\ {[}\ }}\texttt{\ hello\ }{\texttt{\ {]}\ }}\texttt{\ }
is joined with the output of
\texttt{\ a\ }{\texttt{\ +\ }}\texttt{\ }{\texttt{\ {[}\ }}\texttt{\ the\ }{\texttt{\ {]}\ }}\texttt{\ }{\texttt{\ +\ }}\texttt{\ b\ }
yielding
\texttt{\ }{\texttt{\ {[}\ }}\texttt{\ hello\ from\ the\ }{\texttt{\ *world*\ }}\texttt{\ }{\texttt{\ {]}\ }}\texttt{\ }
.

\begin{verbatim}
#{
  let a = [from]
  let b = [*world*]
  [hello ]
  a + [ the ] + b
}
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/9fGlmpI93XiZ44REV_aDoQAAAAAAAAAA.png}

\subsection{Bindings and Destructuring}\label{bindings}

As already demonstrated above, variables can be defined with
\texttt{\ }{\texttt{\ let\ }}\texttt{\ } bindings. The variable is
assigned the value of the expression that follows the \texttt{\ =\ }
sign. The assignment of a value is optional, if no value is assigned,
the variable will be initialized as
\texttt{\ }{\texttt{\ none\ }}\texttt{\ } . The
\texttt{\ }{\texttt{\ let\ }}\texttt{\ } keyword can also be used to
create a
\href{/docs/reference/foundations/function/\#defining-functions}{custom
named function} . Variables can be accessed for the rest of the
containing block (or the rest of the file if there is no containing
block).

\begin{verbatim}
#let name = "Typst"
This is #name's documentation.
It explains #name.

#let add(x, y) = x + y
Sum is #add(2, 3).
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/yrL9Iv6avU1LgnwbwwruLwAAAAAAAAAA.png}

Let bindings can also be used to destructure
\href{/docs/reference/foundations/array/}{arrays} and
\href{/docs/reference/foundations/dictionary/}{dictionaries} . In this
case, the left-hand side of the assignment should mirror an array or
dictionary. The \texttt{\ ..\ } operator can be used once in the pattern
to collect the remainder of the array\textquotesingle s or
dictionary\textquotesingle s items.

\begin{verbatim}
#let (x, y) = (1, 2)
The coordinates are #x, #y.

#let (a, .., b) = (1, 2, 3, 4)
The first element is #a.
The last element is #b.

#let books = (
  Shakespeare: "Hamlet",
  Homer: "The Odyssey",
  Austen: "Persuasion",
)

#let (Austen,) = books
Austen wrote #Austen.

#let (Homer: h) = books
Homer wrote #h.

#let (Homer, ..other) = books
#for (author, title) in other [
  #author wrote #title.
]
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/V0qKVNlCRuARFWpYu5iPEAAAAAAAAAAA.png}

You can use the underscore to discard elements in a destructuring
pattern:

\begin{verbatim}
#let (_, y, _) = (1, 2, 3)
The y coordinate is #y.
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/LTIPVXoxwTxHgnZJYm9hXgAAAAAAAAAA.png}

Destructuring also work in argument lists of functions ...

\begin{verbatim}
#let left = (2, 4, 5)
#let right = (3, 2, 6)
#left.zip(right).map(
  ((a,b)) => a + b
)
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/60UdChzzZGHopWziA6zwZwAAAAAAAAAA.png}

... and on the left-hand side of normal assignments. This can be useful
to swap variables among other things.

\begin{verbatim}
#{
  let a = 1
  let b = 2
  (a, b) = (b, a)
  [a = #a, b = #b]
}
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/LCvMaiUJqV2qC8Tphu5-bQAAAAAAAAAA.png}

\subsection{Conditionals}\label{conditionals}

With a conditional, you can display or compute different things
depending on whether some condition is fulfilled. Typst supports
\texttt{\ }{\texttt{\ if\ }}\texttt{\ } ,
\texttt{\ else\ }{\texttt{\ if\ }}\texttt{\ } and \texttt{\ else\ }
expression. When the condition evaluates to
\texttt{\ }{\texttt{\ true\ }}\texttt{\ } , the conditional yields the
value resulting from the if\textquotesingle s body, otherwise yields the
value resulting from the else\textquotesingle s body.

\begin{verbatim}
#if 1 < 2 [
  This is shown
] else [
  This is not.
]
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/nwPf6X84WrGm0BEnqRUsTQAAAAAAAAAA.png}

Each branch can have a code or content block as its body.

\begin{itemize}
\tightlist
\item
  \texttt{\ }{\texttt{\ if\ }}\texttt{\ condition\ }{\texttt{\ \{\ }}\texttt{\ ..\ }{\texttt{\ \}\ }}\texttt{\ }
\item
  \texttt{\ }{\texttt{\ if\ }}\texttt{\ condition\ }{\texttt{\ {[}\ }}\texttt{\ ..\ }{\texttt{\ {]}\ }}\texttt{\ }
\item
  \texttt{\ }{\texttt{\ if\ }}\texttt{\ condition\ }{\texttt{\ {[}\ }}\texttt{\ ..\ }{\texttt{\ {]}\ }}\texttt{\ }{\texttt{\ else\ }}\texttt{\ }{\texttt{\ \{\ }}\texttt{\ ..\ }{\texttt{\ \}\ }}\texttt{\ }
\item
  \texttt{\ }{\texttt{\ if\ }}\texttt{\ condition\ }{\texttt{\ {[}\ }}\texttt{\ ..\ }{\texttt{\ {]}\ }}\texttt{\ }{\texttt{\ else\ }}\texttt{\ }{\texttt{\ if\ }}\texttt{\ condition\ }{\texttt{\ \{\ }}\texttt{\ ..\ }{\texttt{\ \}\ }}\texttt{\ }{\texttt{\ else\ }}\texttt{\ }{\texttt{\ {[}\ }}\texttt{\ ..\ }{\texttt{\ {]}\ }}\texttt{\ }
\end{itemize}

\subsection{Loops}\label{loops}

With loops, you can repeat content or compute something iteratively.
Typst supports two types of loops:
\texttt{\ }{\texttt{\ for\ }}\texttt{\ } and
\texttt{\ }{\texttt{\ while\ }}\texttt{\ } loops. The former iterate
over a specified collection whereas the latter iterate as long as a
condition stays fulfilled. Just like blocks, loops \emph{join} the
results from each iteration into one value.

In the example below, the three sentences created by the for loop join
together into a single content value and the length-1 arrays in the
while loop join together into one larger array.

\begin{verbatim}
#for c in "ABC" [
  #c is a letter.
]

#let n = 2
#while n < 10 {
  n = (n * 2) - 1
  (n,)
}
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/74fsCbbxVkZaLeuPLKRiCwAAAAAAAAAA.png}

For loops can iterate over a variety of collections:

\begin{itemize}
\item
  \texttt{\ }{\texttt{\ for\ }}\texttt{\ value\ }{\texttt{\ in\ }}\texttt{\ array\ }{\texttt{\ \{\ }}\texttt{\ ..\ }{\texttt{\ \}\ }}\texttt{\ }\strut \\
  Iterates over the items in the
  \href{/docs/reference/foundations/array/}{array} . The destructuring
  syntax described in \href{/docs/reference/scripting/\#bindings}{Let
  binding} can also be used here.
\item
  \texttt{\ }{\texttt{\ for\ }}\texttt{\ pair\ }{\texttt{\ in\ }}\texttt{\ dict\ }{\texttt{\ \{\ }}\texttt{\ ..\ }{\texttt{\ \}\ }}\texttt{\ }\strut \\
  Iterates over the key-value pairs of the
  \href{/docs/reference/foundations/dictionary/}{dictionary} . The pairs
  can also be destructured by using
  \texttt{\ }{\texttt{\ for\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ key\ }{\texttt{\ ,\ }}\texttt{\ value\ }{\texttt{\ )\ }}\texttt{\ }{\texttt{\ in\ }}\texttt{\ dict\ }{\texttt{\ \{\ }}\texttt{\ ..\ }{\texttt{\ \}\ }}\texttt{\ }
  . It is more efficient than
  \texttt{\ }{\texttt{\ for\ }}\texttt{\ pair\ }{\texttt{\ in\ }}\texttt{\ dict\ }{\texttt{\ .\ }}\texttt{\ }{\texttt{\ pairs\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ }{\texttt{\ )\ }}\texttt{\ }{\texttt{\ \{\ }}\texttt{\ ..\ }{\texttt{\ \}\ }}\texttt{\ }
  because it doesn\textquotesingle t create a temporary array of all
  key-value pairs.
\item
  \texttt{\ }{\texttt{\ for\ }}\texttt{\ letter\ }{\texttt{\ in\ }}\texttt{\ }{\texttt{\ "abc"\ }}\texttt{\ }{\texttt{\ \{\ }}\texttt{\ ..\ }{\texttt{\ \}\ }}\texttt{\ }\strut \\
  Iterates over the characters of the
  \href{/docs/reference/foundations/str/}{string} . Technically, it
  iterates over the grapheme clusters of the string. Most of the time, a
  grapheme cluster is just a single codepoint. However, a grapheme
  cluster could contain multiple codepoints, like a flag emoji.
\item
  \texttt{\ }{\texttt{\ for\ }}\texttt{\ byte\ }{\texttt{\ in\ }}\texttt{\ }{\texttt{\ bytes\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ }{\texttt{\ "ðŸ˜€"\ }}\texttt{\ }{\texttt{\ )\ }}\texttt{\ }{\texttt{\ \{\ }}\texttt{\ ..\ }{\texttt{\ \}\ }}\texttt{\ }\strut \\
  Iterates over the \href{/docs/reference/foundations/bytes/}{bytes} ,
  which can be converted from a
  \href{/docs/reference/foundations/str/}{string} or
  \href{/docs/reference/data-loading/read/}{read} from a file without
  encoding. Each byte value is an
  \href{/docs/reference/foundations/int/}{integer} between
  \texttt{\ }{\texttt{\ 0\ }}\texttt{\ } and
  \texttt{\ }{\texttt{\ 255\ }}\texttt{\ } .
\end{itemize}

To control the execution of the loop, Typst provides the
\texttt{\ }{\texttt{\ break\ }}\texttt{\ } and
\texttt{\ }{\texttt{\ continue\ }}\texttt{\ } statements. The former
performs an early exit from the loop while the latter skips ahead to the
next iteration of the loop.

\begin{verbatim}
#for letter in "abc nope" {
  if letter == " " {
    break
  }

  letter
}
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/i6FFy2h6Ocj5FGq9VflD-QAAAAAAAAAA.png}

The body of a loop can be a code or content block:

\begin{itemize}
\tightlist
\item
  \texttt{\ }{\texttt{\ for\ }}\texttt{\ ..\ in\ collection\ }{\texttt{\ \{\ }}\texttt{\ ..\ }{\texttt{\ \}\ }}\texttt{\ }
\item
  \texttt{\ }{\texttt{\ for\ }}\texttt{\ ..\ in\ collection\ }{\texttt{\ {[}\ }}\texttt{\ ..\ }{\texttt{\ {]}\ }}\texttt{\ }
\item
  \texttt{\ }{\texttt{\ while\ }}\texttt{\ condition\ }{\texttt{\ \{\ }}\texttt{\ ..\ }{\texttt{\ \}\ }}\texttt{\ }
\item
  \texttt{\ }{\texttt{\ while\ }}\texttt{\ condition\ }{\texttt{\ {[}\ }}\texttt{\ ..\ }{\texttt{\ {]}\ }}\texttt{\ }
\end{itemize}

\subsection{Fields}\label{fields}

You can use \emph{dot notation} to access fields on a value. For values
of type
\href{/docs/reference/foundations/content/}{\texttt{\ content\ }} , you
can also use the
\href{/docs/reference/foundations/content/\#definitions-fields}{\texttt{\ fields\ }}
function to list the fields.

The value in question can be either:

\begin{itemize}
\tightlist
\item
  a \href{/docs/reference/foundations/dictionary/}{dictionary} that has
  the specified key,
\item
  a \href{/docs/reference/symbols/symbol/}{symbol} that has the
  specified modifier,
\item
  a \href{/docs/reference/foundations/module/}{module} containing the
  specified definition,
\item
  \href{/docs/reference/foundations/content/}{content} consisting of an
  element that has the specified field. The available fields match the
  arguments of the
  \href{/docs/reference/foundations/function/\#element-functions}{element
  function} that were given when the element was constructed.
\end{itemize}

\begin{verbatim}
#let it = [= Heading]
#it.body \
#it.depth \
#it.fields()

#let dict = (greet: "Hello")
#dict.greet \
#emoji.face
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/5WDPdcADtV7mFakfulSQigAAAAAAAAAA.png}

\subsection{Methods}\label{methods}

A \emph{method call} is a convenient way to call a function that is
scoped to a value\textquotesingle s
\href{/docs/reference/foundations/type/}{type} . For example, we can
call the
\href{/docs/reference/foundations/str/\#definitions-len}{\texttt{\ str.len\ }}
function in the following two equivalent ways:

\begin{verbatim}
#str.len("abc") is the same as
#"abc".len()
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/j8kTSWLqLKb4876qGnfJQAAAAAAAAAAA.png}

The structure of a method call is
\texttt{\ value\ }{\texttt{\ .\ }}\texttt{\ }{\texttt{\ method\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ }{\texttt{\ ..\ }}\texttt{\ args\ }{\texttt{\ )\ }}\texttt{\ }
and its equivalent full function call is
\texttt{\ }{\texttt{\ type\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ value\ }{\texttt{\ )\ }}\texttt{\ }{\texttt{\ .\ }}\texttt{\ }{\texttt{\ method\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ value\ }{\texttt{\ ,\ }}\texttt{\ }{\texttt{\ ..\ }}\texttt{\ args\ }{\texttt{\ )\ }}\texttt{\ }
. The documentation of each type lists it\textquotesingle s scoped
functions. You cannot currently define your own methods.

\begin{verbatim}
#let values = (1, 2, 3, 4)
#values.pop() \
#values.len() \

#("a, b, c"
    .split(", ")
    .join[ --- ])

#"abc".len() is the same as
#str.len("abc")
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/acgddNIdTiEri93pewLJSQAAAAAAAAAA.png}

There are a few special functions that modify the value they are called
on (e.g.
\href{/docs/reference/foundations/array/\#definitions-push}{\texttt{\ array.push\ }}
). These functions \emph{must} be called in method form. In some cases,
when the method is only called for its side effect, its return value
should be ignored (and not participate in joining). The canonical way to
discard a value is with a let binding:
\texttt{\ }{\texttt{\ let\ }}\texttt{\ \_\ }{\texttt{\ =\ }}\texttt{\ array\ }{\texttt{\ .\ }}\texttt{\ }{\texttt{\ remove\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ }{\texttt{\ 1\ }}\texttt{\ }{\texttt{\ )\ }}\texttt{\ }
.

\subsection{Modules}\label{modules}

You can split up your Typst projects into multiple files called
\emph{modules.} A module can refer to the content and definitions of
another module in multiple ways:

\begin{itemize}
\item
  \textbf{Including:}
  \texttt{\ }{\texttt{\ include\ }}\texttt{\ }{\texttt{\ "bar.typ"\ }}\texttt{\ }\\
  Evaluates the file at the path \texttt{\ bar.typ\ } and returns the
  resulting \href{/docs/reference/foundations/content/}{content} .
\item
  \textbf{Import:}
  \texttt{\ }{\texttt{\ import\ }}\texttt{\ }{\texttt{\ "bar.typ"\ }}\texttt{\ }\\
  Evaluates the file at the path \texttt{\ bar.typ\ } and inserts the
  resulting \href{/docs/reference/foundations/module/}{module} into the
  current scope as \texttt{\ bar\ } (filename without extension). You
  can use the \texttt{\ as\ } keyword to rename the imported module:
  \texttt{\ }{\texttt{\ import\ }}\texttt{\ }{\texttt{\ "bar.typ"\ }}\texttt{\ }{\texttt{\ as\ }}\texttt{\ baz\ }
  . You can import nested items using dot notation:
  \texttt{\ }{\texttt{\ import\ }}\texttt{\ }{\texttt{\ "bar.typ"\ }}\texttt{\ }{\texttt{\ :\ }}\texttt{\ baz\ }{\texttt{\ .\ }}\texttt{\ a\ }
  .
\item
  \textbf{Import items:}
  \texttt{\ }{\texttt{\ import\ }}\texttt{\ }{\texttt{\ "bar.typ"\ }}\texttt{\ }{\texttt{\ :\ }}\texttt{\ a\ }{\texttt{\ ,\ }}\texttt{\ b\ }\\
  Evaluates the file at the path \texttt{\ bar.typ\ } , extracts the
  values of the variables \texttt{\ a\ } and \texttt{\ b\ } (that need
  to be defined in \texttt{\ bar.typ\ } , e.g. through
  \texttt{\ }{\texttt{\ let\ }}\texttt{\ } bindings) and defines them in
  the current file. Replacing \texttt{\ a,\ b\ } with \texttt{\ *\ }
  loads all variables defined in a module. You can use the
  \texttt{\ as\ } keyword to rename the individual items:
  \texttt{\ }{\texttt{\ import\ }}\texttt{\ }{\texttt{\ "bar.typ"\ }}\texttt{\ }{\texttt{\ :\ }}\texttt{\ a\ }{\texttt{\ as\ }}\texttt{\ one\ }{\texttt{\ ,\ }}\texttt{\ b\ }{\texttt{\ as\ }}\texttt{\ two\ }
\end{itemize}

Instead of a path, you can also use a
\href{/docs/reference/foundations/module/}{module value} , as shown in
the following example:

\begin{verbatim}
#import emoji: face
#face.grin
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/nDjZVIO8y_dHmoJCcIerKgAAAAAAAAAA.png}

\subsection{Packages}\label{packages}

To reuse building blocks across projects, you can also create and import
Typst \emph{packages.} A package import is specified as a triple of a
namespace, a name, and a version.

\begin{verbatim}
#import "@preview/example:0.1.0": add
#add(2, 7)
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/PZlFYONRfjgFeuwUfEQd5gAAAAAAAAAA.png}

The \texttt{\ preview\ } namespace contains packages shared by the
community. You can find all available community packages on
\href{https://typst.app/universe/}{Typst Universe} .

If you are using Typst locally, you can also create your own
system-local packages. For more details on this, see the
\href{https://github.com/typst/packages}{package repository} .

\subsection{Operators}\label{operators}

The following table lists all available unary and binary operators with
effect, arity (unary, binary) and precedence level (higher binds
stronger).

\begin{longtable}[]{@{}clcc@{}}
\toprule\noalign{}
Operator & Effect & Arity & Precedence \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\texttt{\ }{\texttt{\ -\ }}\texttt{\ } & Negation & Unary & 7 \\
\texttt{\ }{\texttt{\ +\ }}\texttt{\ } & No effect (exists for symmetry)
& Unary & 7 \\
\texttt{\ *\ } & Multiplication & Binary & 6 \\
\texttt{\ /\ } & Division & Binary & 6 \\
\texttt{\ }{\texttt{\ +\ }}\texttt{\ } & Addition & Binary & 5 \\
\texttt{\ }{\texttt{\ -\ }}\texttt{\ } & Subtraction & Binary & 5 \\
\texttt{\ ==\ } & Check equality & Binary & 4 \\
\texttt{\ !=\ } & Check inequality & Binary & 4 \\
\texttt{\ \textless{}\ } & Check less-than & Binary & 4 \\
\texttt{\ \textless{}=\ } & Check less-than or equal & Binary & 4 \\
\texttt{\ \textgreater{}\ } & Check greater-than & Binary & 4 \\
\texttt{\ \textgreater{}=\ } & Check greater-than or equal & Binary &
4 \\
\texttt{\ in\ } & Check if in collection & Binary & 4 \\
\texttt{\ }{\texttt{\ not\ }}\texttt{\ }{\texttt{\ in\ }}\texttt{\ } &
Check if not in collection & Binary & 4 \\
\texttt{\ }{\texttt{\ not\ }}\texttt{\ } & Logical "not" & Unary & 3 \\
\texttt{\ and\ } & Short-circuiting logical "and" & Binary & 3 \\
\texttt{\ or\ } & Short-circuiting logical "or & Binary & 2 \\
\texttt{\ =\ } & Assignment & Binary & 1 \\
\texttt{\ +=\ } & Add-Assignment & Binary & 1 \\
\texttt{\ -=\ } & Subtraction-Assignment & Binary & 1 \\
\texttt{\ *=\ } & Multiplication-Assignment & Binary & 1 \\
\texttt{\ /=\ } & Division-Assignment & Binary & 1 \\
\end{longtable}

\href{/docs/reference/styling/}{\pandocbounded{\includesvg[keepaspectratio]{/assets/icons/16-arrow-right.svg}}}

{ Styling } { Previous page }

\href{/docs/reference/context/}{\pandocbounded{\includesvg[keepaspectratio]{/assets/icons/16-arrow-right.svg}}}

{ Context } { Next page }


\title{typst.app/docs/reference/text}

\begin{itemize}
\tightlist
\item
  \href{/docs}{\includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-docs-dark.svg}}
\item
  \includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-arrow-right.svg}
\item
  \href{/docs/reference/}{Reference}
\item
  \includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-arrow-right.svg}
\item
  \href{/docs/reference/text/}{Text}
\end{itemize}

\section{Text}\label{summary}

Text styling.

The \href{/docs/reference/text/text/}{text function} is of particular
interest.

\subsection{Definitions}\label{definitions}

\begin{itemize}
\tightlist
\item
  \href{/docs/reference/text/highlight/}{\texttt{\ highlight\ }} {
  Highlights text with a background color. }
\item
  \href{/docs/reference/text/linebreak/}{\texttt{\ linebreak\ }} {
  Inserts a line break. }
\item
  \href{/docs/reference/text/lorem/}{\texttt{\ lorem\ }} { Creates blind
  text. }
\item
  \href{/docs/reference/text/lower/}{\texttt{\ lower\ }} { Converts a
  string or content to lowercase. }
\item
  \href{/docs/reference/text/overline/}{\texttt{\ overline\ }} { Adds a
  line over text. }
\item
  \href{/docs/reference/text/raw/}{\texttt{\ raw\ }} { Raw text with
  optional syntax highlighting. }
\item
  \href{/docs/reference/text/smallcaps/}{\texttt{\ smallcaps\ }} {
  Displays text in small capitals. }
\item
  \href{/docs/reference/text/smartquote/}{\texttt{\ smartquote\ }} { A
  language-aware quote that reacts to its context. }
\item
  \href{/docs/reference/text/strike/}{\texttt{\ strike\ }} { Strikes
  through text. }
\item
  \href{/docs/reference/text/sub/}{\texttt{\ sub\ }} { Renders text in
  subscript. }
\item
  \href{/docs/reference/text/super/}{\texttt{\ super\ }} { Renders text
  in superscript. }
\item
  \href{/docs/reference/text/text/}{\texttt{\ text\ }} { Customizes the
  look and layout of text in a variety of ways. }
\item
  \href{/docs/reference/text/underline/}{\texttt{\ underline\ }} {
  Underlines text. }
\item
  \href{/docs/reference/text/upper/}{\texttt{\ upper\ }} { Converts a
  string or content to uppercase. }
\end{itemize}

\href{/docs/reference/model/terms/}{\pandocbounded{\includesvg[keepaspectratio]{/assets/icons/16-arrow-right.svg}}}

{ Term List } { Previous page }

\href{/docs/reference/text/highlight/}{\pandocbounded{\includesvg[keepaspectratio]{/assets/icons/16-arrow-right.svg}}}

{ Highlight } { Next page }


\title{typst.app/docs/reference/styling}

\begin{itemize}
\tightlist
\item
  \href{/docs}{\includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-docs-dark.svg}}
\item
  \includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-arrow-right.svg}
\item
  \href{/docs/reference/}{Reference}
\item
  \includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-arrow-right.svg}
\item
  \href{/docs/reference/styling/}{Styling}
\end{itemize}

\section{Styling}\label{styling}

Typst includes a flexible styling system that automatically applies
styling of your choice to your document. With \emph{set rules,} you can
configure basic properties of elements. This way, you create most common
styles. However, there might not be a built-in property for everything
you wish to do. For this reason, Typst further supports \emph{show
rules} that can completely redefine the appearance of elements.

\subsection{Set rules}\label{set-rules}

With set rules, you can customize the appearance of elements. They are
written as a \href{/docs/reference/foundations/function/}{function call}
to an
\href{/docs/reference/foundations/function/\#element-functions}{element
function} preceded by the \texttt{\ }{\texttt{\ set\ }}\texttt{\ }
keyword (or
\texttt{\ }{\texttt{\ \#\ }}\texttt{\ }{\texttt{\ set\ }}\texttt{\ } in
markup). Only optional parameters of that function can be provided to
the set rule. Refer to each function\textquotesingle s documentation to
see which parameters are optional. In the example below, we use two set
rules to change the
\href{/docs/reference/text/text/\#parameters-font}{font family} and
\href{/docs/reference/model/heading/\#parameters-numbering}{heading
numbering} .

\begin{verbatim}
#set heading(numbering: "I.")
#set text(
  font: "New Computer Modern"
)

= Introduction
With set rules, you can style
your document.
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/nW0VZeyhJmtpweEOjJR_fgAAAAAAAAAA.png}

A top level set rule stays in effect until the end of the file. When
nested inside of a block, it is only in effect until the end of that
block. With a block, you can thus restrict the effect of a rule to a
particular segment of your document. Below, we use a content block to
scope the list styling to one particular list.

\begin{verbatim}
This list is affected: #[
  #set list(marker: [--])
  - Dash
]

This one is not:
- Bullet
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/6ckQbXFff1zDBcdWezXxpgAAAAAAAAAA.png}

Sometimes, you\textquotesingle ll want to apply a set rule
conditionally. For this, you can use a \emph{set-if} rule.

\begin{verbatim}
#let task(body, critical: false) = {
  set text(red) if critical
  [- #body]
}

#task(critical: true)[Food today?]
#task(critical: false)[Work deadline]
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/_UlmqEOdrmM6d-OQ9TsAXwAAAAAAAAAA.png}

\subsection{Show rules}\label{show-rules}

With show rules, you can deeply customize the look of a type of element.
The most basic form of show rule is a \emph{show-set rule.} Such a rule
is written as the \texttt{\ }{\texttt{\ show\ }}\texttt{\ } keyword
followed by a \href{/docs/reference/foundations/selector/}{selector} , a
colon and then a set rule. The most basic form of selector is an
\href{/docs/reference/foundations/function/\#element-functions}{element
function} . This lets the set rule only apply to the selected element.
In the example below, headings become dark blue while all other text
stays black.

\begin{verbatim}
#show heading: set text(navy)

= This is navy-blue
But this stays black.
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/DS2Pe3XVhhMMVWT9eUfjSQAAAAAAAAAA.png}

With show-set rules you can mix and match properties from different
functions to achieve many different effects. But they still limit you to
what is predefined in Typst. For maximum flexibility, you can instead
write a show rule that defines how to format an element from scratch. To
write such a show rule, replace the set rule after the colon with an
arbitrary \href{/docs/reference/foundations/function/}{function} . This
function receives the element in question and can return arbitrary
content. The available \href{/docs/reference/scripting/\#fields}{fields}
on the element passed to the function again match the parameters of the
respective element function. Below, we define a show rule that formats
headings for a fantasy encyclopedia.

\begin{verbatim}
#set heading(numbering: "(I)")
#show heading: it => [
  #set align(center)
  #set text(font: "Inria Serif")
  \~ #emph(it.body)
     #counter(heading).display(
       it.numbering
     ) \~
]

= Dragon
With a base health of 15, the
dragon is the most powerful
creature.

= Manticore
While less powerful than the
dragon, the manticore gets
extra style points.
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/YrvkqpSwoILjuqAerzw9CAAAAAAAAAAA.png}

Like set rules, show rules are in effect until the end of the current
block or file.

Instead of a function, the right-hand side of a show rule can also take
a literal string or content block that should be directly substituted
for the element. And apart from a function, the left-hand side of a show
rule can also take a number of other \emph{selectors} that define what
to apply the transformation to:

\begin{itemize}
\item
  \textbf{Everything:}
  \texttt{\ }{\texttt{\ show\ }}\texttt{\ }{\texttt{\ :\ }}\texttt{\ rest\ }{\texttt{\ =\textgreater{}\ }}\texttt{\ ..\ }\\
  Transform everything after the show rule. This is useful to apply a
  more complex layout to your whole document without wrapping everything
  in a giant function call.
\item
  \textbf{Text:}
  \texttt{\ }{\texttt{\ show\ }}\texttt{\ }{\texttt{\ "Text"\ }}\texttt{\ }{\texttt{\ :\ }}\texttt{\ ..\ }\\
  Style, transform or replace text.
\item
  \textbf{Regex:}
  \texttt{\ }{\texttt{\ show\ }}\texttt{\ }{\texttt{\ regex\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ }{\texttt{\ "\textbackslash{}w+"\ }}\texttt{\ }{\texttt{\ )\ }}\texttt{\ }{\texttt{\ :\ }}\texttt{\ ..\ }\\
  Select and transform text with a regular expression for even more
  flexibility. See the documentation of the
  \href{/docs/reference/foundations/regex/}{\texttt{\ regex\ } type} for
  details.
\item
  \textbf{Function with fields:}
  \texttt{\ }{\texttt{\ show\ }}\texttt{\ heading\ }{\texttt{\ .\ }}\texttt{\ }{\texttt{\ where\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ level\ }{\texttt{\ :\ }}\texttt{\ }{\texttt{\ 1\ }}\texttt{\ }{\texttt{\ )\ }}\texttt{\ }{\texttt{\ :\ }}\texttt{\ ..\ }\\
  Transform only elements that have the specified fields. For example,
  you might want to only change the style of level-1 headings.
\item
  \textbf{Label:}
  \texttt{\ }{\texttt{\ show\ }}\texttt{\ }{\texttt{\ \textless{}intro\textgreater{}\ }}\texttt{\ }{\texttt{\ :\ }}\texttt{\ ..\ }\\
  Select and transform elements that have the specified label. See the
  documentation of the
  \href{/docs/reference/foundations/label/}{\texttt{\ label\ } type} for
  more details.
\end{itemize}

\begin{verbatim}
#show "Project": smallcaps
#show "badly": "great"

We started Project in 2019
and are still working on it.
Project is progressing badly.
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/NBzIViTspdnPhsbo3WGDLAAAAAAAAAAA.png}

\href{/docs/reference/syntax/}{\pandocbounded{\includesvg[keepaspectratio]{/assets/icons/16-arrow-right.svg}}}

{ Syntax } { Previous page }

\href{/docs/reference/scripting/}{\pandocbounded{\includesvg[keepaspectratio]{/assets/icons/16-arrow-right.svg}}}

{ Scripting } { Next page }


\title{typst.app/docs/reference/foundations}

\begin{itemize}
\tightlist
\item
  \href{/docs}{\includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-docs-dark.svg}}
\item
  \includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-arrow-right.svg}
\item
  \href{/docs/reference/}{Reference}
\item
  \includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-arrow-right.svg}
\item
  \href{/docs/reference/foundations/}{Foundations}
\end{itemize}

\section{Foundations}\label{summary}

Foundational types and functions.

Here, you\textquotesingle ll find documentation for basic data types
like \href{/docs/reference/foundations/int/}{integers} and
\href{/docs/reference/foundations/str/}{strings} as well as details
about core computational functions.

\subsection{Definitions}\label{definitions}

\begin{itemize}
\tightlist
\item
  \href{/docs/reference/foundations/arguments/}{\texttt{\ arguments\ }}
  { Captured arguments to a function. }
\item
  \href{/docs/reference/foundations/array/}{\texttt{\ array\ }} { A
  sequence of values. }
\item
  \href{/docs/reference/foundations/assert/}{\texttt{\ assert\ }} {
  Ensures that a condition is fulfilled. }
\item
  \href{/docs/reference/foundations/auto/}{\texttt{\ auto\ }} { A value
  that indicates a smart default. }
\item
  \href{/docs/reference/foundations/bool/}{\texttt{\ bool\ }} { A type
  with two states. }
\item
  \href{/docs/reference/foundations/bytes/}{\texttt{\ bytes\ }} { A
  sequence of bytes. }
\item
  \href{/docs/reference/foundations/calc}{calc} { Module for
  calculations and processing of numeric values. }
\item
  \href{/docs/reference/foundations/content/}{\texttt{\ content\ }} { A
  piece of document content. }
\item
  \href{/docs/reference/foundations/datetime/}{\texttt{\ datetime\ }} {
  Represents a date, a time, or a combination of both. }
\item
  \href{/docs/reference/foundations/decimal/}{\texttt{\ decimal\ }} { A
  fixed-point decimal number type. }
\item
  \href{/docs/reference/foundations/dictionary/}{\texttt{\ dictionary\ }}
  { A map from string keys to values. }
\item
  \href{/docs/reference/foundations/duration/}{\texttt{\ duration\ }} {
  Represents a positive or negative span of time. }
\item
  \href{/docs/reference/foundations/eval/}{\texttt{\ eval\ }} {
  Evaluates a string as Typst code. }
\item
  \href{/docs/reference/foundations/float/}{\texttt{\ float\ }} { A
  floating-point number. }
\item
  \href{/docs/reference/foundations/function/}{\texttt{\ function\ }} {
  A mapping from argument values to a return value. }
\item
  \href{/docs/reference/foundations/int/}{\texttt{\ int\ }} { A whole
  number. }
\item
  \href{/docs/reference/foundations/label/}{\texttt{\ label\ }} { A
  label for an element. }
\item
  \href{/docs/reference/foundations/module/}{\texttt{\ module\ }} { An
  evaluated module, either built-in or resulting from a file. }
\item
  \href{/docs/reference/foundations/none/}{\texttt{\ none\ }} { A value
  that indicates the absence of any other value. }
\item
  \href{/docs/reference/foundations/panic/}{\texttt{\ panic\ }} { Fails
  with an error. }
\item
  \href{/docs/reference/foundations/plugin/}{\texttt{\ plugin\ }} { A
  WebAssembly plugin. }
\item
  \href{/docs/reference/foundations/regex/}{\texttt{\ regex\ }} { A
  regular expression. }
\item
  \href{/docs/reference/foundations/repr/}{\texttt{\ repr\ }} { Returns
  the string representation of a value. }
\item
  \href{/docs/reference/foundations/selector/}{\texttt{\ selector\ }} {
  A filter for selecting elements within the document. }
\item
  \href{/docs/reference/foundations/str/}{\texttt{\ str\ }} { A sequence
  of Unicode codepoints. }
\item
  \href{/docs/reference/foundations/style/}{\texttt{\ style\ }} {
  Provides access to active styles. }
\item
  \href{/docs/reference/foundations/sys}{sys} { Module for system
  interactions. }
\item
  \href{/docs/reference/foundations/type/}{\texttt{\ type\ }} {
  Describes a kind of value. }
\item
  \href{/docs/reference/foundations/version/}{\texttt{\ version\ }} { A
  version with an arbitrary number of components. }
\end{itemize}

\href{/docs/reference/context/}{\pandocbounded{\includesvg[keepaspectratio]{/assets/icons/16-arrow-right.svg}}}

{ Context } { Previous page }

\href{/docs/reference/foundations/arguments/}{\pandocbounded{\includesvg[keepaspectratio]{/assets/icons/16-arrow-right.svg}}}

{ Arguments } { Next page }


\title{typst.app/docs/reference/layout}

\begin{itemize}
\tightlist
\item
  \href{/docs}{\includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-docs-dark.svg}}
\item
  \includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-arrow-right.svg}
\item
  \href{/docs/reference/}{Reference}
\item
  \includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-arrow-right.svg}
\item
  \href{/docs/reference/layout/}{Layout}
\end{itemize}

\section{Layout}\label{summary}

Arranging elements on the page in different ways.

By combining layout functions, you can create complex and automatic
layouts.

\subsection{Definitions}\label{definitions}

\begin{itemize}
\tightlist
\item
  \href{/docs/reference/layout/align/}{\texttt{\ align\ }} { Aligns
  content horizontally and vertically. }
\item
  \href{/docs/reference/layout/alignment/}{\texttt{\ alignment\ }} {
  Where to {[}align{]} something along an axis. }
\item
  \href{/docs/reference/layout/angle/}{\texttt{\ angle\ }} { An angle
  describing a rotation. }
\item
  \href{/docs/reference/layout/block/}{\texttt{\ block\ }} { A
  block-level container. }
\item
  \href{/docs/reference/layout/box/}{\texttt{\ box\ }} { An inline-level
  container that sizes content. }
\item
  \href{/docs/reference/layout/colbreak/}{\texttt{\ colbreak\ }} {
  Forces a column break. }
\item
  \href{/docs/reference/layout/columns/}{\texttt{\ columns\ }} {
  Separates a region into multiple equally sized columns. }
\item
  \href{/docs/reference/layout/direction/}{\texttt{\ direction\ }} { The
  four directions into which content can be laid out. }
\item
  \href{/docs/reference/layout/fraction/}{\texttt{\ fraction\ }} {
  Defines how the remaining space in a layout is distributed. }
\item
  \href{/docs/reference/layout/grid/}{\texttt{\ grid\ }} { Arranges
  content in a grid. }
\item
  \href{/docs/reference/layout/h/}{\texttt{\ h\ }} { Inserts horizontal
  spacing into a paragraph. }
\item
  \href{/docs/reference/layout/hide/}{\texttt{\ hide\ }} { Hides content
  without affecting layout. }
\item
  \href{/docs/reference/layout/layout/}{\texttt{\ layout\ }} { Provides
  access to the current outer container\textquotesingle s (or
  page\textquotesingle s, if none) }
\item
  \href{/docs/reference/layout/length/}{\texttt{\ length\ }} { A size or
  distance, possibly expressed with contextual units. }
\item
  \href{/docs/reference/layout/measure/}{\texttt{\ measure\ }} {
  Measures the layouted size of content. }
\item
  \href{/docs/reference/layout/move/}{\texttt{\ move\ }} { Moves content
  without affecting layout. }
\item
  \href{/docs/reference/layout/pad/}{\texttt{\ pad\ }} { Adds spacing
  around content. }
\item
  \href{/docs/reference/layout/page/}{\texttt{\ page\ }} { Layouts its
  child onto one or multiple pages. }
\item
  \href{/docs/reference/layout/pagebreak/}{\texttt{\ pagebreak\ }} { A
  manual page break. }
\item
  \href{/docs/reference/layout/place/}{\texttt{\ place\ }} { Places
  content relatively to its parent container. }
\item
  \href{/docs/reference/layout/ratio/}{\texttt{\ ratio\ }} { A ratio of
  a whole. }
\item
  \href{/docs/reference/layout/relative/}{\texttt{\ relative\ }} { A
  length in relation to some known length. }
\item
  \href{/docs/reference/layout/repeat/}{\texttt{\ repeat\ }} { Repeats
  content to the available space. }
\item
  \href{/docs/reference/layout/rotate/}{\texttt{\ rotate\ }} { Rotates
  content without affecting layout. }
\item
  \href{/docs/reference/layout/scale/}{\texttt{\ scale\ }} { Scales
  content without affecting layout. }
\item
  \href{/docs/reference/layout/skew/}{\texttt{\ skew\ }} { Skews
  content. }
\item
  \href{/docs/reference/layout/stack/}{\texttt{\ stack\ }} { Arranges
  content and spacing horizontally or vertically. }
\item
  \href{/docs/reference/layout/v/}{\texttt{\ v\ }} { Inserts vertical
  spacing into a flow of blocks. }
\end{itemize}

\href{/docs/reference/symbols/symbol/}{\pandocbounded{\includesvg[keepaspectratio]{/assets/icons/16-arrow-right.svg}}}

{ Symbol } { Previous page }

\href{/docs/reference/layout/align/}{\pandocbounded{\includesvg[keepaspectratio]{/assets/icons/16-arrow-right.svg}}}

{ Align } { Next page }


\title{typst.app/docs/reference/data-loading}

\begin{itemize}
\tightlist
\item
  \href{/docs}{\includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-docs-dark.svg}}
\item
  \includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-arrow-right.svg}
\item
  \href{/docs/reference/}{Reference}
\item
  \includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-arrow-right.svg}
\item
  \href{/docs/reference/data-loading/}{Data Loading}
\end{itemize}

\section{Data Loading}\label{summary}

Data loading from external files.

These functions help you with loading and embedding data, for example
from the results of an experiment.

\subsection{Definitions}\label{definitions}

\begin{itemize}
\tightlist
\item
  \href{/docs/reference/data-loading/cbor/}{\texttt{\ cbor\ }} { Reads
  structured data from a CBOR file. }
\item
  \href{/docs/reference/data-loading/csv/}{\texttt{\ csv\ }} { Reads
  structured data from a CSV file. }
\item
  \href{/docs/reference/data-loading/json/}{\texttt{\ json\ }} { Reads
  structured data from a JSON file. }
\item
  \href{/docs/reference/data-loading/read/}{\texttt{\ read\ }} { Reads
  plain text or data from a file. }
\item
  \href{/docs/reference/data-loading/toml/}{\texttt{\ toml\ }} { Reads
  structured data from a TOML file. }
\item
  \href{/docs/reference/data-loading/xml/}{\texttt{\ xml\ }} { Reads
  structured data from an XML file. }
\item
  \href{/docs/reference/data-loading/yaml/}{\texttt{\ yaml\ }} { Reads
  structured data from a YAML file. }
\end{itemize}

\href{/docs/reference/introspection/state/}{\pandocbounded{\includesvg[keepaspectratio]{/assets/icons/16-arrow-right.svg}}}

{ State } { Previous page }

\href{/docs/reference/data-loading/cbor/}{\pandocbounded{\includesvg[keepaspectratio]{/assets/icons/16-arrow-right.svg}}}

{ CBOR } { Next page }


\title{typst.app/docs/reference/context}

\begin{itemize}
\tightlist
\item
  \href{/docs}{\includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-docs-dark.svg}}
\item
  \includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-arrow-right.svg}
\item
  \href{/docs/reference/}{Reference}
\item
  \includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-arrow-right.svg}
\item
  \href{/docs/reference/context/}{Context}
\end{itemize}

\section{Context}\label{context}

Sometimes, we want to create content that reacts to its location in the
document. This could be a localized phrase that depends on the
configured text language or something as simple as a heading number
which prints the right value based on how many headings came before it.
However, Typst code isn\textquotesingle t directly aware of its location
in the document. Some code at the beginning of the source text could
yield content that ends up at the back of the document.

To produce content that is reactive to its surroundings, we must thus
specifically instruct Typst: We do this with the
\texttt{\ }{\texttt{\ context\ }}\texttt{\ } keyword, which precedes an
expression and ensures that it is computed with knowledge of its
environment. In return, the context expression itself ends up opaque. We
cannot directly access whatever results from it in our code, precisely
because it is contextual: There is no one correct result, there may be
multiple results in different places of the document. For this reason,
everything that depends on the contextual data must happen inside of the
context expression.

Aside from explicit context expressions, context is also established
implicitly in some places that are also aware of their location in the
document: \href{/docs/reference/styling/\#show-rules}{Show rules}
provide context \textsuperscript{\hyperref[1]{1}} and numberings in the
outline, for instance, also provide the proper context to resolve
counters.

\subsection{Style context}\label{style-context}

With set rules, we can adjust style properties for parts or the whole of
our document. We cannot access these without a known context, as they
may change throughout the course of the document. When context is
available, we can retrieve them simply by accessing them as fields on
the respective element function.

\begin{verbatim}
#set text(lang: "de")
#context text.lang
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/ETetUaSK2J1pHpdRRUWzagAAAAAAAAAA.png}

As explained above, a context expression is reactive to the different
environments it is placed into. In the example below, we create a single
context expression, store it in the \texttt{\ value\ } variable and use
it multiple times. Each use properly reacts to the current surroundings.

\begin{verbatim}
#let value = context text.lang
#value

#set text(lang: "de")
#value

#set text(lang: "fr")
#value
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/cUJma0l-7W2Pm0tXEKJmjAAAAAAAAAAA.png}

Crucially, upon creation, \texttt{\ value\ } becomes opaque
\href{/docs/reference/foundations/content/}{content} that we cannot peek
into. It can only be resolved when placed somewhere because only then
the context is known. The body of a context expression may be evaluated
zero, one, or multiple times, depending on how many different places it
is put into.

\subsection{Location context}\label{location-context}

We\textquotesingle ve already seen that context gives us access to set
rule values. But it can do more: It also lets us know \emph{where} in
the document we currently are, relative to other elements, and
absolutely on the pages. We can use this information to create very
flexible interactions between different document parts. This underpins
features like heading numbering, the table of contents, or page headers
dependent on section headings.

Some functions like
\href{/docs/reference/introspection/counter/\#definitions-get}{\texttt{\ counter.get\ }}
implicitly access the current location. In the example below, we want to
retrieve the value of the heading counter. Since it changes throughout
the document, we need to first enter a context expression. Then, we use
\texttt{\ get\ } to retrieve the counter\textquotesingle s current
value. This function accesses the current location from the context to
resolve the counter value. Counters have multiple levels and
\texttt{\ get\ } returns an array with the resolved numbers. Thus, we
get the following result:

\begin{verbatim}
#set heading(numbering: "1.")

= Introduction
#lorem(5)

#context counter(heading).get()

= Background
#lorem(5)

#context counter(heading).get()
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/bQONUXVpXWNuuUEOrLszpQAAAAAAAAAA.png}

For more flexibility, we can also use the
\href{/docs/reference/introspection/here/}{\texttt{\ here\ }} function
to directly extract the current
\href{/docs/reference/introspection/location/}{location} from the
context. The example below demonstrates this:

\begin{itemize}
\tightlist
\item
  We first have
  \texttt{\ }{\texttt{\ counter\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ heading\ }{\texttt{\ )\ }}\texttt{\ }{\texttt{\ .\ }}\texttt{\ }{\texttt{\ get\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ }{\texttt{\ )\ }}\texttt{\ }
  , which resolves to
  \texttt{\ }{\texttt{\ (\ }}\texttt{\ }{\texttt{\ 2\ }}\texttt{\ }{\texttt{\ ,\ }}\texttt{\ }{\texttt{\ )\ }}\texttt{\ }
  as before.
\item
  We then use the more powerful
  \href{/docs/reference/introspection/counter/\#definitions-at}{\texttt{\ counter.at\ }}
  with \href{/docs/reference/introspection/here/}{\texttt{\ here\ }} ,
  which in combination is equivalent to \texttt{\ get\ } , and thus get
  \texttt{\ }{\texttt{\ (\ }}\texttt{\ }{\texttt{\ 2\ }}\texttt{\ }{\texttt{\ ,\ }}\texttt{\ }{\texttt{\ )\ }}\texttt{\ }
  .
\item
  Finally, we use \texttt{\ at\ } with a
  \href{/docs/reference/foundations/label/}{label} to retrieve the value
  of the counter at a \emph{different} location in the document, in our
  case that of the introduction heading. This yields
  \texttt{\ }{\texttt{\ (\ }}\texttt{\ }{\texttt{\ 1\ }}\texttt{\ }{\texttt{\ ,\ }}\texttt{\ }{\texttt{\ )\ }}\texttt{\ }
  . Typst\textquotesingle s context system gives us time travel
  abilities and lets us retrieve the values of any counters and states
  at \emph{any} location in the document.
\end{itemize}

\begin{verbatim}
#set heading(numbering: "1.")

= Introduction <intro>
#lorem(5)

= Background <back>
#lorem(5)

#context [
  #counter(heading).get() \
  #counter(heading).at(here()) \
  #counter(heading).at(<intro>)
]
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/gip9ugheiaYydjAEj2_jbgAAAAAAAAAA.png}

As mentioned before, we can also use context to get the physical
position of elements on the pages. We do this with the
\href{/docs/reference/introspection/locate/}{\texttt{\ locate\ }}
function, which works similarly to \texttt{\ counter.at\ } : It takes a
location or other \href{/docs/reference/foundations/selector/}{selector}
that resolves to a unique element (could also be a label) and returns
the position on the pages for that element.

\begin{verbatim}
Background is at: \
#context locate(<back>).position()

= Introduction <intro>
#lorem(5)
#pagebreak()

= Background <back>
#lorem(5)
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/AV1GaGSFxqcGN8RTlxty3gAAAAAAAAAA.png}
\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/AV1GaGSFxqcGN8RTlxty3gAAAAAAAAAB.png}

There are other functions that make use of the location context, most
prominently
\href{/docs/reference/introspection/query/}{\texttt{\ query\ }} . Take a
look at the \href{/docs/reference/introspection/}{introspection}
category for more details on those.

\subsection{Nested contexts}\label{nested-contexts}

Context is also accessible from within function calls nested in context
blocks. In the example below, \texttt{\ foo\ } itself becomes a
contextual function, just like
\href{/docs/reference/layout/length/\#definitions-to-absolute}{\texttt{\ to-absolute\ }}
is.

\begin{verbatim}
#let foo() = 1em.to-absolute()
#context {
  foo() == text.size
}
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/tBYLufutRlRl2ZJ_PAm-owAAAAAAAAAA.png}

Context blocks can be nested. Contextual code will then always access
the innermost context. The example below demonstrates this: The first
\texttt{\ text.lang\ } will access the outer context
block\textquotesingle s styles and as such, it will \textbf{not} see the
effect of
\texttt{\ }{\texttt{\ set\ }}\texttt{\ }{\texttt{\ text\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ lang\ }{\texttt{\ :\ }}\texttt{\ }{\texttt{\ "fr"\ }}\texttt{\ }{\texttt{\ )\ }}\texttt{\ }
. The nested context block around the second \texttt{\ text.lang\ } ,
however, starts after the set rule and will thus show its effect.

\begin{verbatim}
#set text(lang: "de")
#context [
  #set text(lang: "fr")
  #text.lang \
  #context text.lang
]
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/-8ZHuN0AkDNg1gXmAO7X2wAAAAAAAAAA.png}

You might wonder why Typst ignores the French set rule when computing
the first \texttt{\ text.lang\ } in the example above. The reason is
that, in the general case, Typst cannot know all the styles that will
apply as set rules can be applied to content after it has been
constructed. Below, \texttt{\ text.lang\ } is already computed when the
template function is applied. As such, it cannot possibly be aware of
the language change to French in the template.

\begin{verbatim}
#let template(body) = {
  set text(lang: "fr")
  upper(body)
}

#set text(lang: "de")
#context [
  #show: template
  #text.lang \
  #context text.lang
]
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/ptMaFdqycQGV8lm06g29-gAAAAAAAAAA.png}

The second \texttt{\ text.lang\ } , however, \emph{does} react to the
language change because evaluation of its surrounding context block is
deferred until the styles for it are known. This illustrates the
importance of picking the right insertion point for a context to get
access to precisely the right styles.

The same also holds true for the location context. Below, the first
\texttt{\ c\ }{\texttt{\ .\ }}\texttt{\ }{\texttt{\ display\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ }{\texttt{\ )\ }}\texttt{\ }
call will access the outer context block and will thus not see the
effect of
\texttt{\ c\ }{\texttt{\ .\ }}\texttt{\ }{\texttt{\ update\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ }{\texttt{\ 2\ }}\texttt{\ }{\texttt{\ )\ }}\texttt{\ }
while the second
\texttt{\ c\ }{\texttt{\ .\ }}\texttt{\ }{\texttt{\ display\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ }{\texttt{\ )\ }}\texttt{\ }
accesses the inner context and will thus see it.

\begin{verbatim}
#let c = counter("mycounter")
#c.update(1)
#context [
  #c.update(2)
  #c.display() \
  #context c.display()
]
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/6mlAfSm7646viO4S8ua6gwAAAAAAAAAA.png}

\subsection{Compiler iterations}\label{compiler-iterations}

To resolve contextual interactions, the Typst compiler processes your
document multiple times. For instance, to resolve a \texttt{\ locate\ }
call, Typst first provides a placeholder position, layouts your document
and then recompiles with the known position from the finished layout.
The same approach is taken to resolve counters, states, and queries. In
certain cases, Typst may even need more than two iterations to resolve
everything. While that\textquotesingle s sometimes a necessity, it may
also be a sign of misuse of contextual functions (e.g. of
\href{/docs/reference/introspection/state/\#caution}{state} ). If Typst
cannot resolve everything within five attempts, it will stop and output
the warning "layout did not converge within 5 attempts."

A very careful reader might have noticed that not all of the functions
presented above actually make use of the current location. While
\texttt{\ }{\texttt{\ counter\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ heading\ }{\texttt{\ )\ }}\texttt{\ }{\texttt{\ .\ }}\texttt{\ }{\texttt{\ get\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ }{\texttt{\ )\ }}\texttt{\ }
definitely depends on it,
\texttt{\ }{\texttt{\ counter\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ heading\ }{\texttt{\ )\ }}\texttt{\ }{\texttt{\ .\ }}\texttt{\ }{\texttt{\ at\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ }{\texttt{\ \textless{}intro\textgreater{}\ }}\texttt{\ }{\texttt{\ )\ }}\texttt{\ }
, for instance, does not. However, it still requires context. While its
value is always the same \emph{within} one compilation iteration, it may
change over the course of multiple compiler iterations. If one could
call it directly at the top level of a module, the whole module and its
exports could change over the course of multiple compiler iterations,
which would not be desirable.

\phantomsection\label{1}
\textsuperscript{1}

Currently, all show rules provide styling context, but only show rules
on \href{/docs/reference/introspection/location/\#locatable}{locatable}
elements provide a location context.

\href{/docs/reference/scripting/}{\pandocbounded{\includesvg[keepaspectratio]{/assets/icons/16-arrow-right.svg}}}

{ Scripting } { Previous page }

\href{/docs/reference/foundations/}{\pandocbounded{\includesvg[keepaspectratio]{/assets/icons/16-arrow-right.svg}}}

{ Foundations } { Next page }


\title{typst.app/docs/reference/math}

\begin{itemize}
\tightlist
\item
  \href{/docs}{\includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-docs-dark.svg}}
\item
  \includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-arrow-right.svg}
\item
  \href{/docs/reference/}{Reference}
\item
  \includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-arrow-right.svg}
\item
  \href{/docs/reference/math/}{Math}
\end{itemize}

\section{Math}\label{summary}

Typst has special \href{/docs/reference/syntax/\#math}{syntax} and
library functions to typeset mathematical formulas. Math formulas can be
displayed inline with text or as separate blocks. They will be typeset
into their own block if they start and end with at least one space (e.g.
\texttt{\ }{\texttt{\ \$\ }}\texttt{\ x\ }{\texttt{\ \^{}\ }}\texttt{\ 2\ }{\texttt{\ \$\ }}\texttt{\ }
).

\subsection{Variables}\label{variables}

In math, single letters are always displayed as is. Multiple letters,
however, are interpreted as variables and functions. To display multiple
letters verbatim, you can place them into quotes and to access single
letter variables, you can use the
\href{/docs/reference/scripting/\#expressions}{hash syntax} .

\begin{verbatim}
$ A = pi r^2 $
$ "area" = pi dot "radius"^2 $
$ cal(A) :=
    { x in RR | x "is natural" } $
#let x = 5
$ #x < 17 $
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/hSTnanxnhN2cMLti2SpIlwAAAAAAAAAA.png}

\subsection{Symbols}\label{symbols}

Math mode makes a wide selection of
\href{/docs/reference/symbols/sym/}{symbols} like \texttt{\ pi\ } ,
\texttt{\ dot\ } , or \texttt{\ RR\ } available. Many mathematical
symbols are available in different variants. You can select between
different variants by applying
\href{/docs/reference/symbols/symbol/}{modifiers} to the symbol. Typst
further recognizes a number of shorthand sequences like
\texttt{\ =\textgreater{}\ } that approximate a symbol. When such a
shorthand exists, the symbol\textquotesingle s documentation lists it.

\begin{verbatim}
$ x < y => x gt.eq.not y $
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/3QjDlBq8e4sckxD76_cbbgAAAAAAAAAA.png}

\subsection{Line Breaks}\label{line-breaks}

Formulas can also contain line breaks. Each line can contain one or
multiple \emph{alignment points} ( \texttt{\ \&\ } ) which are then
aligned.

\begin{verbatim}
$ sum_(k=0)^n k
    &= 1 + ... + n \
    &= (n(n+1)) / 2 $
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/4Y4RfouYZm3Jgju-7W3SZAAAAAAAAAAA.png}

\subsection{Function calls}\label{function-calls}

Math mode supports special function calls without the hash prefix. In
these "math calls", the argument list works a little differently than in
code:

\begin{itemize}
\tightlist
\item
  Within them, Typst is still in "math mode". Thus, you can write math
  directly into them, but need to use hash syntax to pass code
  expressions (except for strings, which are available in the math
  syntax).
\item
  They support positional and named arguments, but don\textquotesingle t
  support trailing content blocks and argument spreading.
\item
  They provide additional syntax for 2-dimensional argument lists. The
  semicolon ( \texttt{\ ;\ } ) merges preceding arguments separated by
  commas into an array argument.
\end{itemize}

\begin{verbatim}
$ frac(a^2, 2) $
$ vec(1, 2, delim: "[") $
$ mat(1, 2; 3, 4) $
$ lim_x =
    op("lim", limits: #true)_x $
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/gWTBh8i7ZWskmajIpEpUWQAAAAAAAAAA.png}

To write a verbatim comma or semicolon in a math call, escape it with a
backslash. The colon on the other hand is only recognized in a special
way if directly preceded by an identifier, so to display it verbatim in
those cases, you can just insert a space before it.

Functions calls preceded by a hash are normal code function calls and
not affected by these rules.

\subsection{Alignment}\label{alignment}

When equations include multiple \emph{alignment points} (
\texttt{\ \&\ } ), this creates blocks of alternatingly right- and
left-aligned columns. In the example below, the expression
\texttt{\ (3x\ +\ y)\ /\ 7\ } is right-aligned and \texttt{\ =\ 9\ } is
left-aligned. The word "given" is also left-aligned because
\texttt{\ \&\&\ } creates two alignment points in a row, alternating the
alignment twice. \texttt{\ \&\ \&\ } and \texttt{\ \&\&\ } behave
exactly the same way. Meanwhile, "multiply by 7" is right-aligned
because just one \texttt{\ \&\ } precedes it. Each alignment point
simply alternates between right-aligned/left-aligned.

\begin{verbatim}
$ (3x + y) / 7 &= 9 && "given" \
  3x + y &= 63 & "multiply by 7" \
  3x &= 63 - y && "subtract y" \
  x &= 21 - y/3 & "divide by 3" $
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/8SM9qVyRZ_Elks_C9882dAAAAAAAAAAA.png}

\subsection{Math fonts}\label{math-fonts}

You can set the math font by with a
\href{/docs/reference/styling/\#show-rules}{show-set rule} as
demonstrated below. Note that only special OpenType math fonts are
suitable for typesetting maths.

\begin{verbatim}
#show math.equation: set text(font: "Fira Math")
$ sum_(i in NN) 1 + i $
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/qG9Xcf2X5Ju0E76URIxfZgAAAAAAAAAA.png}

\subsection{Math module}\label{math-module}

All math functions are part of the \texttt{\ math\ }
\href{/docs/reference/scripting/\#modules}{module} , which is available
by default in equations. Outside of equations, they can be accessed with
the \texttt{\ math.\ } prefix.

\subsection{Definitions}\label{definitions}

\begin{itemize}
\tightlist
\item
  \href{/docs/reference/math/accent/}{\texttt{\ accent\ }} { Attaches an
  accent to a base. }
\item
  \href{/docs/reference/math/attach}{attach} { Subscript, superscripts,
  and limits. }
\item
  \href{/docs/reference/math/binom/}{\texttt{\ binom\ }} { A binomial
  expression. }
\item
  \href{/docs/reference/math/cancel/}{\texttt{\ cancel\ }} { Displays a
  diagonal line over a part of an equation. }
\item
  \href{/docs/reference/math/cases/}{\texttt{\ cases\ }} { A case
  distinction. }
\item
  \href{/docs/reference/math/class/}{\texttt{\ class\ }} { Forced use of
  a certain math class. }
\item
  \href{/docs/reference/math/equation/}{\texttt{\ equation\ }} { A
  mathematical equation. }
\item
  \href{/docs/reference/math/frac/}{\texttt{\ frac\ }} { A mathematical
  fraction. }
\item
  \href{/docs/reference/math/lr}{lr} { Delimiter matching. }
\item
  \href{/docs/reference/math/mat/}{\texttt{\ mat\ }} { A matrix. }
\item
  \href{/docs/reference/math/op/}{\texttt{\ op\ }} { A text operator in
  an equation. }
\item
  \href{/docs/reference/math/primes/}{\texttt{\ primes\ }} { Grouped
  primes. }
\item
  \href{/docs/reference/math/roots}{roots} { Square and non-square
  roots. }
\item
  \href{/docs/reference/math/sizes}{sizes} { Forced size styles for
  expressions within formulas. }
\item
  \href{/docs/reference/math/stretch/}{\texttt{\ stretch\ }} { Stretches
  a glyph. }
\item
  \href{/docs/reference/math/styles}{styles} { Alternate letterforms
  within formulas. }
\item
  \href{/docs/reference/math/underover}{underover} { Delimiters above or
  below parts of an equation. }
\item
  \href{/docs/reference/math/variants}{variants} { Alternate typefaces
  within formulas. }
\item
  \href{/docs/reference/math/vec/}{\texttt{\ vec\ }} { A column vector.
  }
\end{itemize}

\href{/docs/reference/text/upper/}{\pandocbounded{\includesvg[keepaspectratio]{/assets/icons/16-arrow-right.svg}}}

{ Uppercase } { Previous page }

\href{/docs/reference/math/accent/}{\pandocbounded{\includesvg[keepaspectratio]{/assets/icons/16-arrow-right.svg}}}

{ Accent } { Next page }


\title{typst.app/docs/reference/visualize}

\begin{itemize}
\tightlist
\item
  \href{/docs}{\includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-docs-dark.svg}}
\item
  \includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-arrow-right.svg}
\item
  \href{/docs/reference/}{Reference}
\item
  \includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-arrow-right.svg}
\item
  \href{/docs/reference/visualize/}{Visualize}
\end{itemize}

\section{Visualize}\label{summary}

Drawing and data visualization.

If you want to create more advanced drawings or plots, also have a look
at the \href{https://github.com/johannes-wolf/cetz}{CetZ} package as
well as more specialized \href{https://typst.app/universe/}{packages}
for your use case.

\subsection{Definitions}\label{definitions}

\begin{itemize}
\tightlist
\item
  \href{/docs/reference/visualize/circle/}{\texttt{\ circle\ }} { A
  circle with optional content. }
\item
  \href{/docs/reference/visualize/color/}{\texttt{\ color\ }} { A color
  in a specific color space. }
\item
  \href{/docs/reference/visualize/ellipse/}{\texttt{\ ellipse\ }} { An
  ellipse with optional content. }
\item
  \href{/docs/reference/visualize/gradient/}{\texttt{\ gradient\ }} { A
  color gradient. }
\item
  \href{/docs/reference/visualize/image/}{\texttt{\ image\ }} { A raster
  or vector graphic. }
\item
  \href{/docs/reference/visualize/line/}{\texttt{\ line\ }} { A line
  from one point to another. }
\item
  \href{/docs/reference/visualize/path/}{\texttt{\ path\ }} { A path
  through a list of points, connected by Bezier curves. }
\item
  \href{/docs/reference/visualize/pattern/}{\texttt{\ pattern\ }} { A
  repeating pattern fill. }
\item
  \href{/docs/reference/visualize/polygon/}{\texttt{\ polygon\ }} { A
  closed polygon. }
\item
  \href{/docs/reference/visualize/rect/}{\texttt{\ rect\ }} { A
  rectangle with optional content. }
\item
  \href{/docs/reference/visualize/square/}{\texttt{\ square\ }} { A
  square with optional content. }
\item
  \href{/docs/reference/visualize/stroke/}{\texttt{\ stroke\ }} {
  Defines how to draw a line. }
\end{itemize}

\href{/docs/reference/layout/stack/}{\pandocbounded{\includesvg[keepaspectratio]{/assets/icons/16-arrow-right.svg}}}

{ Stack } { Previous page }

\href{/docs/reference/visualize/circle/}{\pandocbounded{\includesvg[keepaspectratio]{/assets/icons/16-arrow-right.svg}}}

{ Circle } { Next page }


