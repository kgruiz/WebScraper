\title{typst.app/universe/package/anatomy}

\phantomsection\label{banner}
\section{anatomy}\label{anatomy}

{ 0.1.1 }

Anatomy of a Font. Visualise metrics.

\phantomsection\label{readme}
\emph{Anatomy of a Font} . Visualise metrics.

Import the \texttt{\ anatomy\ } package:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\#import "@preview/anatomy:0.1.1": metrics}
\end{Highlighting}
\end{Shaded}

\subsection{Display Metrics}\label{display-metrics}

\texttt{\ metrics(72pt,\ "EB\ Garamond",\ display:\ "Typewriter")\ }
will be rendered as follows:

\pandocbounded{\includesvg[keepaspectratio]{https://raw.githubusercontent.com/E8D08F/packages/main/packages/preview/anatomy/0.1.1/img/export-1.svg}}

Additionally, a closure using \texttt{\ metrics\ } dictionary as
parameter can be used to layout additional elements below:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\#metrics(54pt, "ä¸é»æé«",}
\NormalTok{  display: "é»å³æå­æ©",}
\NormalTok{  use: metrics =\textgreater{} table(}
\NormalTok{    columns: 2,}
\NormalTok{    ..metrics.pairs().flatten().map(x =\textgreater{} [ \#x ])}
\NormalTok{  )}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

It will generate:

\pandocbounded{\includesvg[keepaspectratio]{https://raw.githubusercontent.com/E8D08F/packages/main/packages/preview/anatomy/0.1.1/img/export-2.svg}}

\subsection{Remark on Hybrid
Typesetting}\label{remark-on-hybrid-typesetting}

To typeset CJK text, adopting fontâ€™s ascender/descender as
\texttt{\ top-edge\ } / \texttt{\ bottom-edge\ } makes more sense in
some cases. As for most CJK fonts, the difference between ascender and
descender heights will be exact 1em.

Tested with
\texttt{\ metrics(54pt,\ "Hiragino\ Mincho\ ProN",\ "ãƒ†ãƒ¬ã‚¿ã‚¤ãƒ—ç«¯æœ«")\ }
:

\pandocbounded{\includesvg[keepaspectratio]{https://raw.githubusercontent.com/E8D08F/packages/main/packages/preview/anatomy/0.1.1/img/export-3.svg}}

Since Typst will use metrics of the font which has the largest advance
height amongst the list provided in
\texttt{\ set\ text(font:\ (\ ...\ ))\ } to set up top and bottom edges
of a line, leading might not work as expected in hybrid typesetting.
This issue can be solved by passing the document to
\texttt{\ metrics(use:\ metrics\ =\textgreater{}\ \{\ ...\ \})\ } like
this:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\#show: doc =\textgreater{} metrics(font.size, font.main,}
\NormalTok{  // Retrieve the metrics of the CJK font}
\NormalTok{  use: metrics =\textgreater{} \{}
\NormalTok{    set text(}
\NormalTok{      font.size,}
\NormalTok{      font: ( font.latin, font.main ),}
\NormalTok{      features: ( "pkna", ),}
\NormalTok{      // Use CJK fontâs ascender/descender as top/bottom edges}
\NormalTok{      top{-}edge: metrics.ascender,}
\NormalTok{      bottom{-}edge: metrics.descender,}
\NormalTok{      // ...}
\NormalTok{    )}

\NormalTok{    doc}
\NormalTok{  \}}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsubsection{How to add}\label{how-to-add}

Copy this into your project and use the import as \texttt{\ anatomy\ }

\begin{verbatim}
#import "@preview/anatomy:0.1.1"
\end{verbatim}

\includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-copy.svg}

Check the docs for
\href{https://typst.app/docs/reference/scripting/\#packages}{more
information on how to import packages} .

\subsubsection{About}\label{about}

\begin{description}
\tightlist
\item[Author :]
Toto
\item[License:]
MIT
\item[Current version:]
0.1.1
\item[Last updated:]
February 19, 2024
\item[First released:]
February 17, 2024
\item[Archive size:]
2.59 kB
\href{https://packages.typst.org/preview/anatomy-0.1.1.tar.gz}{\pandocbounded{\includesvg[keepaspectratio]{/assets/icons/16-download.svg}}}
\end{description}

\subsubsection{Where to report issues?}\label{where-to-report-issues}

This package is a project of Toto . You can also try to ask for help
with this package on the \href{https://forum.typst.app}{Forum} .

Please report this package to the Typst team using the
\href{https://typst.app/contact}{contact form} if you believe it is a
safety hazard or infringes upon your rights.

\phantomsection\label{versions}
\subsubsection{Version history}\label{version-history}

\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
Version & Release Date \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0.1.1 & February 19, 2024 \\
\href{https://typst.app/universe/package/anatomy/0.1.0/}{0.1.0} &
February 17, 2024 \\
\end{longtable}

Typst GmbH did not create this package and cannot guarantee correct
functionality of this package or compatibility with any version of the
Typst compiler or app.
