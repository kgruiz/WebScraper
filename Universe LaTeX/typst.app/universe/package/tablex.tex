\title{typst.app/universe/package/tablex}

\phantomsection\label{banner}
\section{tablex}\label{tablex}

{ 0.0.9 }

More powerful and customizable tables in Typst.

\phantomsection\label{readme}
\textbf{More powerful and customizable tables in Typst.}

\subsection{Sponsors â?¤ï¸?}\label{sponsors-uxe2uxef}

If youâ€™d like to appear here,
\href{https://github.com/sponsors/PgBiel}{consider sponsoring the
project!}

\href{https://github.com/felipeacsi}{\includegraphics[width=0.52083in,height=\textheight,keepaspectratio]{https://github.com/felipeacsi.png}}
\href{https://github.com/Fabioni}{\includegraphics[width=0.52083in,height=\textheight,keepaspectratio]{https://github.com/Fabioni.png}}

\subsection{Important notice regarding Tablex
usage}\label{important-notice-regarding-tablex-usage}

\textbf{Summary: Please use built-in Typst tables instead of tablex.}
Most of tablexâ€™s features were implemented in Typst 0.11.0, see the
\href{https://typst.app/docs/reference/model/table/}{docs} .

However, \textbf{keep an eye for future tablex updates} as there might
be some interesting goodies ahead, including CeTZ support!

\textbf{Details:}

A large amount of tablexâ€™s features have successfully been upstreamed
by this packageâ€™s author to Typstâ€™s built-in \texttt{\ table\ } and
\texttt{\ grid\ } elements (see the new Tables Guide, at
\url{https://typst.app/docs/guides/table-guide/} , and the
\texttt{\ table\ } elementâ€™s reference, at
\url{https://typst.app/docs/reference/model/table/} , for more
information).

This effort was tracked in the following Typst issue:
\url{https://github.com/typst/typst/issues/3001}

This means that, starting with Typst 0.11.0, \textbf{many advanced table
features can now be used with Typst grids and tables without tablex!}
This includes:

\begin{itemize}
\tightlist
\item
  Per-cell customization (through
  \texttt{\ table.cell(inset:\ ...,\ align:\ ...,\ fill:\ ...){[}body{]}\ }
  , and \texttt{\ \#show\ table.cell:\ it\ =\textgreater{}\ ...\ }
  instead of \texttt{\ map-cells\ } );
\item
  Merging cells (colspans and rowspans, through
  \texttt{\ table.cell(colspan:\ 2,\ rowspan:\ 2){[}body{]}\ } );
\item
  Line customization (you can control the \texttt{\ stroke\ } parameter
  of \texttt{\ table.cell\ } to control the lines around it, and you can
  use \texttt{\ table.hline\ } and \texttt{\ table.vline\ } which work
  similarly to their tablex counterparts - the equivalent of
  \texttt{\ map-hlines\ } and \texttt{\ map-vlines\ } is
  \texttt{\ table(stroke:\ (x,\ y)\ =\textgreater{}\ (left:\ ...,\ right:\ ...,\ top:\ ...,\ bottom:\ ...))\ }
  );
\item
  Repeatable table headers (through
  \texttt{\ table.header(...\ cells\ ...)\ } );
\item
  The features above are available within \texttt{\ grid\ } as well by
  replacing \texttt{\ table\ } with \texttt{\ grid\ } where applicable
  (e.g. \texttt{\ grid.cell\ } instead of \texttt{\ table.cell\ } ).
\end{itemize}

Additionally, built-in Typst tables have support for features which
werenâ€™t previously available within tablex, such as \textbf{repeatable
table footers} (through \texttt{\ table.footer\ } and
\texttt{\ grid.footer\ } ).

Therefore, \textbf{for the vast majority of use cases, you will no
longer need to use this library.}

There are a few observations:

\begin{enumerate}
\tightlist
\item
  \textbf{Tablex will still receive updates over time} with extra
  features. In the next version (tablex 0.1.0), there will be
  \textbf{support for CeTZ integration} , which will allow you to easily
  \textbf{annotate your tables} using CeTZ (e.g. draw arrows between
  cells). If youâ€™re interested in such features, then tablex might
  still be useful for you in the future!
\item
  \textbf{Not \emph{all} tablex features are present in built-in tables,
  at least yet.} Therefore, \textbf{if you happen to use the features
  listed below, you might still have to use tablex} depending on your
  use case. It is expected, however, that built-in tables will
  eventually have support for most of the missing features in future
  Typst releases. Hereâ€™s a non-exhaustive list of them:

  \begin{enumerate}
  \tightlist
  \item
    Built-in tables do not yet have the ability to expand table lines by
    some arbitrary length.
  \item
    The tablex \texttt{\ fit-spans\ } option, through which colspans and
    rowspans donâ€™t cause \texttt{\ auto\ } -sized columns and/or rows
    to expand, is not yet supported in built-in tables.
  \item
    Built-in repeatable table headers currently always repeat in all
    pages, whereas you can define in which pages a tablex header should
    be repeated.
  \end{enumerate}
\item
  \textbf{Regarding sponsorships:} Any future sponsorships to the tablex
  author, \href{https://github.com/PgBiel}{@PgBiel} , who was also
  responsible for upstreaming the various tablex features to built-in
  tables, will go not only towards extended maintenance of tablex, but
  also towards other general contributions to the Typst ecosystem and
  his other open-source contributions! More information here:
  \url{https://github.com/sponsors/PgBiel/}
\end{enumerate}

If there any questions, feel free to open a thread in the
\texttt{\ Discussions\ } page of this repository, or ping the author on
Discord. Thanks to everyone who supported me throughout tablexâ€™s
development and the upstreaming process. I hope you enjoy the new
update, and have fun with tables! ðŸ˜„

And make sure to keep an eye for future tablex updates. ðŸ˜‰

\subsection{Table of Contents}\label{table-of-contents}

\begin{itemize}
\tightlist
\item
  \href{https://github.com/typst/packages/raw/main/packages/preview/tablex/0.0.9/\#usage}{Usage}
\item
  \href{https://github.com/typst/packages/raw/main/packages/preview/tablex/0.0.9/\#features}{Features}

  \begin{itemize}
  \tightlist
  \item
    \href{https://github.com/typst/packages/raw/main/packages/preview/tablex/0.0.9/\#almost-drop-in-replacement-for-table}{\emph{Almost}
    drop-in replacement for \texttt{\ \#table\ }}
  \item
    \href{https://github.com/typst/packages/raw/main/packages/preview/tablex/0.0.9/\#colspanxrowspanx}{colspanx/rowspanx}
  \item
    \href{https://github.com/typst/packages/raw/main/packages/preview/tablex/0.0.9/\#repeat-header-rows}{Repeat
    header rows}
  \item
    \href{https://github.com/typst/packages/raw/main/packages/preview/tablex/0.0.9/\#customize-every-single-line}{Customize
    every single line}
  \item
    \href{https://github.com/typst/packages/raw/main/packages/preview/tablex/0.0.9/\#customize-every-single-cell}{Customize
    every single cell}
  \end{itemize}
\item
  \href{https://github.com/typst/packages/raw/main/packages/preview/tablex/0.0.9/\#known-issues}{Known
  Issues}
\item
  \href{https://github.com/typst/packages/raw/main/packages/preview/tablex/0.0.9/\#reference}{Reference}

  \begin{itemize}
  \tightlist
  \item
    \href{https://github.com/typst/packages/raw/main/packages/preview/tablex/0.0.9/\#basic-types-and-functions}{Basic
    types and functions}
  \item
    \href{https://github.com/typst/packages/raw/main/packages/preview/tablex/0.0.9/\#gridx-and-tablex}{Gridx
    and Tablex}
  \end{itemize}
\item
  \href{https://github.com/typst/packages/raw/main/packages/preview/tablex/0.0.9/\#changelog}{Changelog}

  \begin{itemize}
  \tightlist
  \item
    \href{https://github.com/typst/packages/raw/main/packages/preview/tablex/0.0.9/\#v009}{v0.0.9}
  \item
    \href{https://github.com/typst/packages/raw/main/packages/preview/tablex/0.0.9/\#v008}{v0.0.8}
  \item
    \href{https://github.com/typst/packages/raw/main/packages/preview/tablex/0.0.9/\#v007}{v0.0.7}
  \item
    \href{https://github.com/typst/packages/raw/main/packages/preview/tablex/0.0.9/\#v006}{v0.0.6}
  \item
    \href{https://github.com/typst/packages/raw/main/packages/preview/tablex/0.0.9/\#v005}{v0.0.5}
  \item
    \href{https://github.com/typst/packages/raw/main/packages/preview/tablex/0.0.9/\#v004}{v0.0.4}
  \item
    \href{https://github.com/typst/packages/raw/main/packages/preview/tablex/0.0.9/\#v003}{v0.0.3}
  \item
    \href{https://github.com/typst/packages/raw/main/packages/preview/tablex/0.0.9/\#v002}{v0.0.2}
  \item
    \href{https://github.com/typst/packages/raw/main/packages/preview/tablex/0.0.9/\#v001}{v0.0.1}
  \end{itemize}
\item
  \href{https://github.com/typst/packages/raw/main/packages/preview/tablex/0.0.9/\#010-roadmap}{0.1.0
  Roadmap}
\item
  \href{https://github.com/typst/packages/raw/main/packages/preview/tablex/0.0.9/\#license}{License}
\end{itemize}

\subsection{Usage}\label{usage}

\textbf{NOTE: Please use built-in tables instead of this library} (see
notice above). \textbf{The rest of the README is kept for reference
purposes only.}

To use this library through the Typst package manager \textbf{(for Typst
v0.6.0+)} , write for example
\texttt{\ \#import\ "@preview/tablex:0.0.9":\ tablex,\ cellx\ } at the
top of your Typst file (you may also add whichever other functions you
use from the library to that import list!).

For older Typst versions, download the file \texttt{\ tablex.typ\ } from
the latest release (or directly from the main branch, for the
â€˜bleeding edgeâ€™) at the tablex repository (
\url{https://github.com/PgBiel/typst-tablex} ) and place it on the same
folder as your own Typst file. Then, at the top of your file, write for
example \texttt{\ \#import\ "tablex.typ":\ tablex,\ cellx\ } (plus
whichever other functions you use from the library).

This library should be compatible with Typst versions between v0.2.0 and
v0.12.0 (inclusive). \textbf{Using the latest Typst version is always
recommended} in order to make use of the latest optimizations and
features available.

Hereâ€™s an example of what \texttt{\ tablex\ } can do:

\pandocbounded{\includegraphics[keepaspectratio]{https://github.com/PgBiel/typst-tablex/assets/9021226/355c527a-7296-4264-bac7-4ec991b15a18}}

Hereâ€™s the code for that table:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\#import "@preview/tablex:0.0.9": tablex, rowspanx, colspanx}

\NormalTok{\#tablex(}
\NormalTok{  columns: 4,}
\NormalTok{  align: center + horizon,}
\NormalTok{  auto{-}vlines: false,}

\NormalTok{  // indicate the first two rows are the header}
\NormalTok{  // (in case we need to eventually}
\NormalTok{  // enable repeating the header across pages)}
\NormalTok{  header{-}rows: 2,}

\NormalTok{  // color the last column\textquotesingle{}s cells}
\NormalTok{  // based on the written number}
\NormalTok{  map{-}cells: cell =\textgreater{} \{}
\NormalTok{    if cell.x == 3 and cell.y \textgreater{} 1 \{}
\NormalTok{      cell.content = \{}
\NormalTok{        let value = int(cell.content.text)}
\NormalTok{        let text{-}color = if value \textless{} 10 \{}
\NormalTok{          red.lighten(30\%)}
\NormalTok{        \} else if value \textless{} 15 \{}
\NormalTok{          yellow.darken(13\%)}
\NormalTok{        \} else \{}
\NormalTok{          green}
\NormalTok{        \}}
\NormalTok{        set text(text{-}color)}
\NormalTok{        strong(cell.content)}
\NormalTok{      \}}
\NormalTok{    \}}
\NormalTok{    cell}
\NormalTok{  \},}

\NormalTok{  /* {-}{-}{-} header {-}{-}{-} */}
\NormalTok{  rowspanx(2)[*Username*], colspanx(2)[*Data*], (), rowspanx(2)[*Score*],}
\NormalTok{  (),                 [*Location*], [*Height*], (),}
\NormalTok{  /* {-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-} */}

\NormalTok{  [John], [Second St.], [180 cm], [5],}
\NormalTok{  [Wally], [Third Av.], [160 cm], [10],}
\NormalTok{  [Jason], [Some St.], [150 cm], [15],}
\NormalTok{  [Robert], [123 Av.], [190 cm], [20],}
\NormalTok{  [Other], [Unknown St.], [170 cm], [25],}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Features}\label{features}

\subsubsection{\texorpdfstring{\emph{Almost} drop-in replacement for
\texttt{\ \#table\ }}{Almost drop-in replacement for  \#table }}\label{almost-drop-in-replacement-for-table}

( \textbf{Update:} tablexâ€™s syntax was designed to be compatible with
Typst tables created \textbf{up to Typst v0.10.0} . The new table
features introduced in Typst v0.11.0 use syntax which isnâ€™t compatible
with tablex, so it wonâ€™t be a drop-in replacement in that case.
However, tablex does have its own syntax for those features, as will be
explained below!)

In most cases, you should be able to replace \texttt{\ \#table\ } with
\texttt{\ \#tablex\ } and be good to go for a start - it should look
\emph{very} similar (if not identical). Indeed, the syntax is very
similar for the basics:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\#import "@preview/tablex:0.0.9": tablex}

\NormalTok{\#tablex(}
\NormalTok{  columns: (auto, 1em, 1fr, 1fr),  // 4 columns}
\NormalTok{  rows: auto,  // at least 1 row of auto size}
\NormalTok{  fill: red,}
\NormalTok{  align: center + horizon,}
\NormalTok{  stroke: green,}
\NormalTok{  [a], [b], [c], [d],}
\NormalTok{  [e], [f], [g], [h],}
\NormalTok{  [i], [j], [k], [l]}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\pandocbounded{\includegraphics[keepaspectratio]{https://user-images.githubusercontent.com/9021226/230818397-2d599324-32a5-4184-973f-2fcfb6b62c84.png}}

There are still a few oddities in the library (see
\href{https://github.com/typst/packages/raw/main/packages/preview/tablex/0.0.9/\#known-issues}{Known
Issues} for more info), but, for the vast majority of cases, replacing
\texttt{\ \#tablex\ } by \texttt{\ \#table\ } should work just fine.
(Sometimes you can even replace \texttt{\ \#grid\ } by
\texttt{\ \#gridx\ } - see the line customization section for more -,
but not always, as the behavior is a bit different.)

This is mostly a word of caution in case anything I havenâ€™t
anticipated happens, but, based on my tests (and after tons of
bug-fixing commits), the vast majority of tables (that donâ€™t face one
of the listed known issues) should work just fine under the library.

\textbf{Note:} If your document is written in a right-to-left (RTL)
script, you may wish to enable \texttt{\ rtl:\ true\ } for your tables
so that the order of cells and lines properly follows your text
direction (when combined with \texttt{\ set\ text(dir:\ rtl)\ } ). This
is necessary because tablex cannot detect that setting automatically at
the moment (while the native Typst table can and flips itself
horizontally automatically). See the tablex option reference for more
information.

\subsubsection{colspanx/rowspanx}\label{colspanxrowspanx}

Your cells can now span more than one column and/or row at once, with
\texttt{\ colspanx\ } / \texttt{\ rowspanx\ } :

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\#import "@preview/tablex:0.0.9": tablex, colspanx, rowspanx}

\NormalTok{\#tablex(}
\NormalTok{  columns: 3,}
\NormalTok{  colspanx(2)[a], (),  [b],}
\NormalTok{  [c], rowspanx(2)[d], [ed],}
\NormalTok{  [f], (),             [g]}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\pandocbounded{\includegraphics[keepaspectratio]{https://user-images.githubusercontent.com/9021226/230810720-fbdfdbe5-8568-42ed-b8a2-5eff332a89d6.png}}

Note that the empty parentheses there are just for organization, and are
ignored (unless they come before the first cell - more on that later).
Theyâ€™re useful to help us keep track of which cell positions are being
used up by the spans, because, if we try to add an actual cell at these
spots, it will just push the others forward, which might seem
unexpected.

Use \texttt{\ colspanx(2,\ rowspanx(2){[}d{]})\ } to colspan and rowspan
at the same time. Be careful not to attempt to overwrite other cellsâ€™
spans, as you will get a nasty error.

\textbf{Note (since tablex v0.0.8):} By default, colspans and rowspans
can cause spanned \texttt{\ auto\ } columns and rows to expand to fit
their contents (only the last spanned track - column or row - can
expand). If youâ€™d like colspans to not affect column sizes at all (and
thus â€œfitâ€? within their spanned columns), you may specify
\texttt{\ fit-spans:\ (x:\ true)\ } to the table. Similarly, you can
specify \texttt{\ fit-spans:\ (y:\ true)\ } to have rowspans not affect
row sizes at all. To apply both effects, use either
\texttt{\ fit-spans:\ true\ } or
\texttt{\ fit-spans:\ (x:\ true,\ y:\ true)\ } . You can also apply this
to a single colspan (for example) with
\texttt{\ colspanx(2,\ fit-spans:\ (x:\ true)){[}a{]}\ } , as this
option is available not only for the whole table but also for each cell.
See the reference section for more information.

\subsubsection{Repeat header rows}\label{repeat-header-rows}

You can now ensure the first row (or, rather, the rows covered by the
first rowspan) in your table repeats across pages. Just use
\texttt{\ repeat-header:\ true\ } (default is \texttt{\ false\ } ).

Note that you may wish to customize this. Use
\texttt{\ repeat-header:\ 6\ } to repeat for 6 more pages. Use
\texttt{\ repeat-header:\ (2,\ 4)\ } to repeat only on the 2nd and the
4th page (where the 1st page is the one the table starts in).
Additionally, use \texttt{\ header-rows:\ 5\ } to ensure the first
(e.g.) 5 rows are part of the header (by default, this is 1 - more rows
will be repeated where necessary if rowspans are used).

Also, note that, by default, the horizontal lines below the header are
transported to other pages, which may be an annoyance if you customize
lines too much (see below). Use
\texttt{\ header-hlines-have-priority:\ false\ } to ensure that the
first row in each page will dictate the appearance of the horizontal
lines above it (and not the header).

\textbf{Note:} Depending on the size of your document, repeatable
headers might not behave properly due to certain limitations in
Typstâ€™s introspection system (as observed in
\url{https://github.com/PgBiel/typst-tablex/issues/43} ).

Example:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\#import "@preview/tablex:0.0.9": tablex, hlinex, vlinex, colspanx, rowspanx}

\NormalTok{\#pagebreak()}
\NormalTok{\#v(80\%)}

\NormalTok{\#tablex(}
\NormalTok{  columns: 4,}
\NormalTok{  align: center + horizon,}
\NormalTok{  auto{-}vlines: false,}
\NormalTok{  repeat{-}header: true,}

\NormalTok{  /* {-}{-}{-} header {-}{-}{-} */}
\NormalTok{  rowspanx(2)[*Names*], colspanx(2)[*Properties*], (), rowspanx(2)[*Creators*],}
\NormalTok{  (),                 [*Type*], [*Size*], (),}
\NormalTok{  /* {-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-} */}

\NormalTok{  [Machine], [Steel], [5 $"cm"\^{}3$], [John p\& Kate],}
\NormalTok{  [Frog], [Animal], [6 $"cm"\^{}3$], [Robert],}
\NormalTok{  [Frog], [Animal], [6 $"cm"\^{}3$], [Robert],}
\NormalTok{  [Frog], [Animal], [6 $"cm"\^{}3$], [Robert],}
\NormalTok{  [Frog], [Animal], [6 $"cm"\^{}3$], [Robert],}
\NormalTok{  [Frog], [Animal], [6 $"cm"\^{}3$], [Robert],}
\NormalTok{  [Frog], [Animal], [6 $"cm"\^{}3$], [Robert],}
\NormalTok{  [Frog], [Animal], [6 $"cm"\^{}3$], [Rodbert],}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\pandocbounded{\includegraphics[keepaspectratio]{https://user-images.githubusercontent.com/9021226/230810751-776a73c4-9c24-46ba-92cd-76292469ab7d.png}}

\subsubsection{Customize every single
line}\label{customize-every-single-line}

Every single line in the table is either a \texttt{\ hlinex\ }
(horizontal) or \texttt{\ vlinex\ } (vertical) instance. By default,
there is one between every column and between every row - unless you
specify a custom line for some column or row, in which case the
automatic line for it will be removed (to allow you to freely customize
it). To disable this behavior, use \texttt{\ auto-lines:\ false\ } ,
which will remove \emph{all} automatic lines. You may also remove only
automatic horizontal lines with \texttt{\ auto-hlines:\ false\ } , and
only vertical with \texttt{\ auto-vlines:\ false\ } .

\textbf{Note:} \texttt{\ gridx\ } is an alias for \texttt{\ tablex\ }
with \texttt{\ auto-lines:\ false\ } .

For your custom lines, write \texttt{\ hlinex()\ } at any position and
it will add a horizontal line below the current cell row (or at the top,
if before any cell). You can use
\texttt{\ hlinex(start:\ a,\ end:\ b)\ } to control the cells which that
line spans ( \texttt{\ a\ } is the first column number and
\texttt{\ b\ } is the last column number). You can also specify its
stroke (color/thickness) with \texttt{\ hlinex(stroke:\ red\ +\ 5pt)\ }
for example. To position it at an arbitrary row, use
\texttt{\ hlinex(y:\ 6)\ } or similar. (Columns and rows are indexed
starting from 0.)

Something similar occurs for \texttt{\ vlinex()\ } , which has
\texttt{\ start\ } , \texttt{\ end\ } (first row and last row it spans),
and also \texttt{\ stroke\ } . They will, by default, be placed to the
right of the current cell, and will span the entire table (top to
bottom). To override the default placement, use
\texttt{\ vlinex(x:\ 2)\ } or similar.

\textbf{Note:} Only one hline or vline with the same span (same
start/end) can be placed at once.

\textbf{Note:} You can also place vlines before the first cell, in which
case \emph{they will be placed consecutively, each after the last
\texttt{\ vlinex()\ }} . That is, if you place several of them in a row
( \emph{before the first cell} only), then it will not place all of them
at one location (which is normally what happens if you try to place
multiple vlines at once), but rather one after the other. With this
behavior, you can also specify \texttt{\ ()\ } between each vline to
\emph{skip} certain positions (again, only before the first cell -
afterwards, all \texttt{\ ()\ } are ignored). Note that you can also
just ignore this entirely and use \texttt{\ vlinex(x:\ 0)\ } ,
\texttt{\ vlinex(x:\ 1)\ } , â€¦, \texttt{\ vlinex(x:\ columns.len())\ }
for full control.

Hereâ€™s some sample usage:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\#import "@preview/tablex:0.0.9": tablex, gridx, hlinex, vlinex, colspanx, rowspanx}

\NormalTok{\#tablex(}
\NormalTok{  columns: 4,}
\NormalTok{  auto{-}lines: false,}

\NormalTok{  // skip a column here         vv}
\NormalTok{  vlinex(), vlinex(), vlinex(), (), vlinex(),}
\NormalTok{  colspanx(2)[a], (),  [b], [J],}
\NormalTok{  [c], rowspanx(2)[d], [e], [K],}
\NormalTok{  [f], (),             [g], [L],}
\NormalTok{  //   \^{}\^{} \textquotesingle{}()\textquotesingle{} after the first cell are 100\% ignored}
\NormalTok{)}

\NormalTok{\#tablex(}
\NormalTok{  columns: 4,}
\NormalTok{  auto{-}vlines: false,}
\NormalTok{  colspanx(2)[a], (),  [b], [J],}
\NormalTok{  [c], rowspanx(2)[d], [e], [K],}
\NormalTok{  [f], (),             [g], [L],}
\NormalTok{)}

\NormalTok{\#gridx(}
\NormalTok{  columns: 4,}
\NormalTok{  (), (), vlinex(end: 2),}
\NormalTok{  hlinex(stroke: yellow + 2pt),}
\NormalTok{  colspanx(2)[a], (),  [b], [J],}
\NormalTok{  hlinex(start: 0, end: 1, stroke: yellow + 2pt),}
\NormalTok{  hlinex(start: 1, end: 2, stroke: green + 2pt),}
\NormalTok{  hlinex(start: 2, end: 3, stroke: red + 2pt),}
\NormalTok{  hlinex(start: 3, end: 4, stroke: blue.lighten(50\%) + 2pt),}
\NormalTok{  [c], rowspanx(2)[d], [e], [K],}
\NormalTok{  hlinex(start: 2),}
\NormalTok{  [f], (),             [g], [L],}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\pandocbounded{\includegraphics[keepaspectratio]{https://user-images.githubusercontent.com/9021226/230817335-8a908d44-77be-45d2-b98f-89e9ccf07dc7.png}}

\paragraph{Bulk line customization}\label{bulk-line-customization}

You can also \emph{bulk-customize lines} by specifying
\texttt{\ map-hlines:\ h\ =\textgreater{}\ new\_hline\ } and
\texttt{\ map-vlines:\ v\ =\textgreater{}\ new\_vline\ } . This includes
any automatically generated lines. For example:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\#import "@preview/tablex:0.0.9": tablex, colspanx, rowspanx}

\NormalTok{\#tablex(}
\NormalTok{  columns: 3,}
\NormalTok{  map{-}hlines: h =\textgreater{} (..h, stroke: blue),}
\NormalTok{  map{-}vlines: v =\textgreater{} (..v, stroke: green + 2pt),}
\NormalTok{  colspanx(2)[a], (),  [b],}
\NormalTok{  [c], rowspanx(2)[d], [ed],}
\NormalTok{  [f], (),             [g]}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\pandocbounded{\includegraphics[keepaspectratio]{https://user-images.githubusercontent.com/9021226/235371652-48e7e526-1eb0-43c3-a6f4-3ed81840cffc.png}}

\subsubsection{Customize every single
cell}\label{customize-every-single-cell}

Cells can be customized entirely. Instead of specifying content (e.g.
\texttt{\ {[}text{]}\ } ) as a table item, you can specify
\texttt{\ cellx(property:\ a,\ property:\ b,\ ...){[}text{]}\ } , which
allows you to customize properties, such as:

\begin{itemize}
\tightlist
\item
  \texttt{\ colspan:\ 2\ } (same as using
  \texttt{\ colspanx(2,\ ...){[}...{]}\ } )
\item
  \texttt{\ rowspan:\ 3\ } (same as using
  \texttt{\ rowspanx(3,\ ...){[}...{]}\ } )
\item
  \texttt{\ align:\ center\ } (override whole-table alignment for this
  cell)
\item
  \texttt{\ fill:\ blue\ } (fill just this cell with that color)
\item
  \texttt{\ inset:\ 0pt\ } (override inset/internal padding for this
  cell - note that this can look off unless you use auto columns and
  rows)
\item
  \texttt{\ x:\ 5\ } (arbitrarily place the cell at the given column,
  beginning at 0 - may error if conflicts occur)
\item
  \texttt{\ y:\ 6\ } (arbitrarily place the cell at the given row,
  beginning at 0 - may error if conflicts occur)
\end{itemize}

Additionally, instead of specifying content to the cell, you can specify
a function \texttt{\ (column,\ row)\ =\textgreater{}\ content\ } ,
allowing each cell to be aware of where itâ€™s positioned. (Note that
positions are recorded in the cellâ€™s \texttt{\ .x\ } and
\texttt{\ .y\ } attributes, and start as \texttt{\ auto\ } unless you
specify otherwise.)

For example:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\#import "@preview/tablex:0.0.9": tablex, cellx, colspanx, rowspanx}

\NormalTok{\#tablex(}
\NormalTok{  columns: 3,}
\NormalTok{  fill: red,}
\NormalTok{  align: right,}
\NormalTok{  colspanx(2)[a], (),  [beeee],}
\NormalTok{  [c], rowspanx(2)[d], cellx(fill: blue, align: left)[e],}
\NormalTok{  [f], (),             [g],}

\NormalTok{  // place this cell at the first column, seventh row}
\NormalTok{  cellx(colspan: 3, align: center, x: 0, y: 6)[hi I\textquotesingle{}m down here]}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\pandocbounded{\includegraphics[keepaspectratio]{https://user-images.githubusercontent.com/9021226/230818283-b3b636db-dbd0-47b8-bdd5-f61a07d58749.png}}

\paragraph{Bulk customization of
cells}\label{bulk-customization-of-cells}

To customize multiple cells at once, you have a few options:

\begin{enumerate}
\item
  \texttt{\ map-cells:\ cell\ =\textgreater{}\ cell\ } (given a cell,
  returns a new cell). You can use this to customize the cellâ€™s
  attributes, but also to change its positions (however, avoid doing
  that as it can easily generate conflicts). You can access the cellâ€™s
  position with \texttt{\ cell.x\ } and \texttt{\ cell.y\ } . All other
  attributes are also accessible and changeable (see the
  \texttt{\ Reference\ } further below for a list). Return something
  like \texttt{\ (..cell,\ fill:\ blue)\ } , for example, to ensure the
  other properties (including the cell type marker) are kept. (Calling
  \texttt{\ cellx\ } here is not necessary. If overriding the cellâ€™s
  content, use \texttt{\ content:\ {[}whatever{]}\ } ). This is useful
  if you want to, for example, customize a cellâ€™s fill color based on
  its contents, or add some content to every cell, or something similar.
\item
  \texttt{\ map-rows:\ (row\_index,\ cells)\ =\textgreater{}\ cells\ }
  (given a row index and all cells in it, return a new array of cells).
  Allows customizing entire rows, but note that the cells in the
  \texttt{\ cells\ } parameter can be \texttt{\ none\ } if theyâ€™re
  some position occupied by a colspan or rowspan of another cell. Ensure
  you return the cells in the order you were given, including the
  \texttt{\ none\ } s, for best results. Also, you cannot move cells
  here to another row. You can change the cellsâ€™ columns (by changing
  their \texttt{\ x\ } property), but that will certainly generate
  conflicts if any col/rowspans are involved (in general, you cannot
  bulk-change col/rowspans without \texttt{\ map-cells\ } ).
\item
  \texttt{\ map-cols:\ (col\_index,\ cells)\ =\textgreater{}\ cells\ }
  (given a column index and all cells in it, return a new array of
  cells). Similar to \texttt{\ map-rows\ } , but for customizing
  columns. You cannot change the column of any cell here. (To do that,
  \texttt{\ map-cells\ } is required.) You can, however, change its row
  (with \texttt{\ y\ } , but do that sparingly), and, of course, all
  other properties.
\end{enumerate}

\textbf{Note:} Execution order is \texttt{\ map-cells\ } =\textgreater{}
\texttt{\ map-rows\ } =\textgreater{} \texttt{\ map-cols\ } .

Example:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\#import "@preview/tablex:0.0.9": tablex, colspanx, rowspanx}

\NormalTok{\#tablex(}
\NormalTok{  columns: 4,}
\NormalTok{  auto{-}vlines: true,}

\NormalTok{  // make all cells italicized}
\NormalTok{  map{-}cells: cell =\textgreater{} \{}
\NormalTok{    (..cell, content: emph(cell.content))}
\NormalTok{  \},}

\NormalTok{  // add some arbitrary content to entire rows}
\NormalTok{  map{-}rows: (row, cells) =\textgreater{} cells.map(c =\textgreater{}}
\NormalTok{    if c == none \{}
\NormalTok{      c  // keeping \textquotesingle{}none\textquotesingle{} is important}
\NormalTok{    \} else \{}
\NormalTok{      (..c, content: [\#c.content\textbackslash{} *R\#row*])}
\NormalTok{    \}}
\NormalTok{  ),}

\NormalTok{  // color cells based on their columns}
\NormalTok{  // (using \textquotesingle{}fill: (column, row) =\textgreater{} color\textquotesingle{} also works}
\NormalTok{  // for this particular purpose)}
\NormalTok{  map{-}cols: (col, cells) =\textgreater{} cells.map(c =\textgreater{}}
\NormalTok{    if c == none \{}
\NormalTok{      c}
\NormalTok{    \} else \{}
\NormalTok{      (..c, fill: if col \textless{} 2 \{ blue \} else \{ yellow \})}
\NormalTok{    \}}
\NormalTok{  ),}

\NormalTok{  colspanx(2)[a], (),  [b], [J],}
\NormalTok{  [c], rowspanx(2)[dd], [e], [K],}
\NormalTok{  [f], (),             [g], [L],}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\pandocbounded{\includegraphics[keepaspectratio]{https://user-images.githubusercontent.com/9021226/230818347-30b49154-f444-4744-9415-dd4030b29393.png}}

Another example (summing columns):

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\#gridx(}
\NormalTok{  columns: 3,}
\NormalTok{  rows: 6,}
\NormalTok{  fill: (col, row) =\textgreater{} (blue, red, green).at(calc.rem(row + col {-} 1, 3)),}
\NormalTok{  map{-}cols: (col, cells) =\textgreater{} \{}
\NormalTok{    let last = cells.last()}
\NormalTok{    last.content = [}
\NormalTok{      \#cells.slice(0, cells.len() {-} 1).fold(0, (acc, c) =\textgreater{} if c != none \{ acc + eval(c.content.text) \} else \{ acc \})}
\NormalTok{    ]}
\NormalTok{    last.fill = aqua}
\NormalTok{    cells.last() = last}
\NormalTok{    cells}
\NormalTok{  \},}
\NormalTok{  [0], [5], [10],}
\NormalTok{  [1], [6], [11],}
\NormalTok{  [2], [7], [12],}
\NormalTok{  [3], [8], [13],}
\NormalTok{  [4], [9], [14],}
\NormalTok{  [s], [s], [s]}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\pandocbounded{\includegraphics[keepaspectratio]{https://user-images.githubusercontent.com/9021226/231343813-bf06872b-59ac-4221-b6ed-940d73e6a9c4.png}}

\subsection{Known Issues}\label{known-issues}

\begin{itemize}
\item
  Filled cells will partially overlap with horizontal lines above them
  (see \url{https://github.com/PgBiel/typst-tablex/issues/4} ).

  \begin{itemize}
  \tightlist
  \item
    To be fixed in a future rework of the table drawing process.
  \end{itemize}
\item
  Table lines donâ€™t play very well with column and row gutter when a
  colspan or rowspan is used. They may be missing or be cut off by
  gutters.
\item
  Repeatable table headers might not behave properly depending on the
  size of your document or other factors (
  \url{https://github.com/PgBiel/typst-tablex/issues/43} ).
\item
  Using tablex (especially when using repeatable header rows) may cause
  a warning, â€œlayout did not converge within 5 attemptsâ€?, to appear
  on recent Typst versions (
  \url{https://github.com/PgBiel/typst-tablex/issues/38} ). This warning
  is due to how tablex works internally \textbf{and is not your fault}
  (in principle), so donâ€™t worry too much about it (unless youâ€™re
  sure itâ€™s not tablex that is causing this).
\item
  Rows with fractional height (such as \texttt{\ 2fr\ } ) have zero
  height if the table spans more than one page. This is because
  fractional row heights are calculated on the available height of the
  first page of the table, which is something that the default
  \texttt{\ \#table\ } can circumvent using internal code. This wonâ€™t
  be fixed for now. (Columns with fractional width work fine, provided
  all pages the table is in have the same width, \textbf{and the page
  width isnâ€™t \texttt{\ auto\ }} (which forces fractional columns to
  be 0pt, even in the default \texttt{\ \#table\ } ).)
\item
  Rotation (via Typstâ€™s \texttt{\ \#rotate\ } ) of text only affects
  the visual appearance of the text on the page, but does not change its
  dimensions as they factor into the layout. This leads to certain
  visual issues, such as rotated text potentially overflowing the cell
  height without being hyphenated or, inversely, being hyphenated even
  though there is enough space vertically (
  \url{https://github.com/PgBiel/typst-tablex/issues/59} ). This is a
  \href{https://github.com/typst/typst/issues/528}{known issue} with
  Typst (perhaps, in the future, \texttt{\ \#rotate\ }
  \href{https://github.com/typst/typst/issues/528\#issuecomment-1494123195}{may}
  get a setting to affect layout). As a workaround for the text
  hyphenation problem, the content can be boxed (and thus grouped
  together) with \texttt{\ \#box\ } (e.g.,
  \texttt{\ rowspanx(7,\ box(rotate(-90deg,\ {[}*donothyphenatethis*{]})))\ }
  ), or hyphenation can be prevented by setting
  \texttt{\ \#text(hyphenate:\ false,\ ...)\ } (e.g.,
  \texttt{\ colspanx(2,\ text(hyphenate:\ false,\ rotate(-90deg,\ {[}*donothyphenatethis*{]})))\ }
  ), as also discussed in
  \url{https://github.com/PgBiel/typst-tablex/issues/59} ; another
  alternative is to use \texttt{\ \#place\ } , e.g. aligning to
  \texttt{\ center\ +\ horizon\ } :
  \texttt{\ cellx(place(center\ +\ horizon,\ rotate(-90deg,\ {[}*donothyphenatethis*{]})))\ }
  , which probably allows the most control over the in-cell layout,
  since it simply draws the rotated content without having it occupy any
  space (letting you define that by yourself, e.g. using
  \texttt{\ box(width:\ 1em,\ height:\ 2em,\ place(...))\ } ).

  \begin{itemize}
  \tightlist
  \item
    Alternatively, you may attempt to use the solution proposed at
    \url{https://github.com/typst/typst/issues/528\#issuecomment-1494318510}
    to define a \texttt{\ rotatex\ } function which produces a rotated
    element with the appropriate sizes, such that tablex may recognize
    its size accordingly and avoid visual glitches.
  \end{itemize}
\item
  \texttt{\ tablex\ } can potentially be slower and/or take longer to
  compile than the default \texttt{\ table\ } (especially when the table
  spans a lot of pages). \textbf{Please use the latest Typst version to
  reduce this problem} (each version has been bringing further
  improvements in this sense). Still, we are looking for ways to better
  optimize the library (see more discussion at
  \url{https://github.com/PgBiel/typst-tablex/issues/5} - feel free to
  give some input!). However, re-compilation is usually fine thanks to
  Typstâ€™s built-in memoization.
\item
  The internals of the library still arenâ€™t very well documented; I
  plan on adding more info about this eventually.
\item
  \textbf{Please open a GitHub issue for anything weird you come across}
  (make sure others havenâ€™t reported it first).
\end{itemize}

\subsection{Reference}\label{reference}

\subsubsection{Basic types and
functions}\label{basic-types-and-functions}

\begin{enumerate}
\item
  \texttt{\ cellx\ } : Represents a table cell, and is initialized as
  follows:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\#let cellx(content,}
\NormalTok{  x: auto, y: auto,}
\NormalTok{  rowspan: 1, colspan: 1,}
\NormalTok{  fill: auto, align: auto,}
\NormalTok{  inset: auto,}
\NormalTok{  fit{-}spans: auto}
\NormalTok{) = (}
\NormalTok{  tablex{-}dict{-}type: "cell",}
\NormalTok{  content: content,}
\NormalTok{  rowspan: rowspan,}
\NormalTok{  colspan: colspan,}
\NormalTok{  align: align,}
\NormalTok{  fill: fill,}
\NormalTok{  inset: inset,}
\NormalTok{  fit{-}spans: fit{-}spans,}
\NormalTok{  x: x,}
\NormalTok{  y: y,}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

  where:

  \begin{itemize}
  \tightlist
  \item
    \texttt{\ tablex-dict-type\ } is the type marker
  \item
    \texttt{\ content\ } is the cellâ€™s content (either
    \texttt{\ content\ } or a function with
    \texttt{\ (col,\ row)\ =\textgreater{}\ content\ } )
  \item
    \texttt{\ rowspan\ } is how many rows this cell spans (default 1)
  \item
    \texttt{\ colspan\ } is how many columns this cell spans (default 1)
  \item
    \texttt{\ align\ } is this cellâ€™s align override, such as
    â€œcenterâ€? (default \texttt{\ auto\ } to follow the rest of the
    table)
  \item
    \texttt{\ fill\ } is this cellâ€™s fill override, such as â€œblueâ€?
    (default \texttt{\ auto\ } to follow the rest of the table)
  \item
    \texttt{\ inset\ } is this cellâ€™s inset override, such as
    \texttt{\ 5pt\ } (default \texttt{\ auto\ } to follow the rest of
    the table)
  \item
    \texttt{\ fit-spans\ } allows overriding the table-wide
    \texttt{\ fit-spans\ } setting for this specific cell (e.g. if this
    cell has a \texttt{\ colspan\ } greater than 1,
    \texttt{\ fit-spans:\ (x:\ true)\ } will cause it to not affect the
    sizes of \texttt{\ auto\ } columns).
  \item
    \texttt{\ x\ } is the cellâ€™s column index (0â€¦len-1) -
    \texttt{\ auto\ } indicates it wasnâ€™t assigned yet
  \item
    \texttt{\ y\ } is the cellâ€™s row index (0â€¦len-1) -
    \texttt{\ auto\ } indicates it wasnâ€™t assigned yet
  \end{itemize}
\item
  \texttt{\ hlinex\ } : represents a horizontal line:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\#let hlinex(}
\NormalTok{  start: 0, end: auto, y: auto,}
\NormalTok{  stroke: auto,}
\NormalTok{  stop{-}pre{-}gutter: auto, gutter{-}restrict: none,}
\NormalTok{  stroke{-}expand: true,}
\NormalTok{  expand: none}
\NormalTok{) = (}
\NormalTok{  tablex{-}dict{-}type: "hline",}
\NormalTok{  start: start,}
\NormalTok{  end: end,}
\NormalTok{  y: y,}
\NormalTok{  stroke: stroke,}
\NormalTok{  stop{-}pre{-}gutter: stop{-}pre{-}gutter,}
\NormalTok{  gutter{-}restrict: gutter{-}restrict,}
\NormalTok{  stroke{-}expand: stroke{-}expand,}
\NormalTok{  expand: expand,}
\NormalTok{  parent: none,}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

  where:

  \begin{itemize}
  \tightlist
  \item
    \texttt{\ tablex-dict-type\ } is the type marker
  \item
    \texttt{\ start\ } is the column index where the hline starts from
    (default \texttt{\ 0\ } , a.k.a. the beginning)
  \item
    \texttt{\ end\ } is the last column the hline touches (default
    \texttt{\ auto\ } , a.k.a. all the way to the end)

    \begin{itemize}
    \tightlist
    \item
      Note that hlines will \emph{not} be drawn over cells with
      \texttt{\ colspan\ } larger than 1, even if their spans (
      \texttt{\ start\ } - \texttt{\ end\ } ) include that cell.
    \end{itemize}
  \item
    \texttt{\ y\ } is the index of the row at the top of which the hline
    is drawn. (Defaults to \texttt{\ auto\ } , a.k.a. depends on where
    you placed the \texttt{\ hline\ } among the table items - itâ€™s
    always on the top of the row below the current one.)
  \item
    \texttt{\ stroke\ } is the hlineâ€™s stroke override (defaults to
    \texttt{\ auto\ } , a.k.a. follow the rest of the table).
  \item
    \texttt{\ stop-pre-gutter\ } : When \texttt{\ true\ } , the hline
    will not be drawn over gutter (which is the default behavior of
    tables). Defaults to \texttt{\ auto\ } which is essentially
    \texttt{\ false\ } (draw over gutter).
  \item
    \texttt{\ gutter-restrict\ } : Either \texttt{\ top\ } ,
    \texttt{\ bottom\ } , or \texttt{\ none\ } . Has no effect if
    \texttt{\ row-gutter\ } is set to \texttt{\ none\ } . Otherwise,
    defines if this \texttt{\ hline\ } should be drawn only on the top
    of the row gutter ( \texttt{\ top\ } ); on the bottom (
    \texttt{\ bottom\ } ); or on both the top and the bottom (
    \texttt{\ none\ } , the default). Note that \texttt{\ top\ } and
    \texttt{\ bottom\ } are alignment values (not strings).
  \item
    \texttt{\ stroke-expand\ } : When \texttt{\ true\ } , the hline will
    be extended as necessary to cover the stroke of the vlines going
    through either end of the line. Defaults to \texttt{\ true\ } .
  \item
    \texttt{\ expand\ } : Optionally extend the hline by an arbitrary
    length. When \texttt{\ none\ } , it is not expanded. When a length
    (such as \texttt{\ 5pt\ } ), it is expanded by that length on both
    ends. When an array of two lengths (such as
    \texttt{\ (5pt,\ 10pt)\ } ), it is expanded to the left by the first
    length (in this case, \texttt{\ 5pt\ } ) and to the right by the
    second (in this case, \texttt{\ 10pt\ } ). Defaults to
    \texttt{\ none\ } .
  \item
    \texttt{\ parent\ } : An internal attribute determined when
    splitting lines among cells. (It should always be \texttt{\ none\ }
    on user-facing interfaces.)
  \end{itemize}
\item
  \texttt{\ vlinex\ } : represents a vertical line:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\#let vlinex(}
\NormalTok{  start: 0, end: auto, x: auto,}
\NormalTok{  stroke: auto,}
\NormalTok{  stop{-}pre{-}gutter: auto, gutter{-}restrict: none,}
\NormalTok{  stroke{-}expand: true,}
\NormalTok{  expand: none}
\NormalTok{) = (}
\NormalTok{  tablex{-}dict{-}type: "vline",}
\NormalTok{  start: start,}
\NormalTok{  end: end,}
\NormalTok{  x: x,}
\NormalTok{  stroke: stroke,}
\NormalTok{  stop{-}pre{-}gutter: stop{-}pre{-}gutter,}
\NormalTok{  gutter{-}restrict: gutter{-}restrict,}
\NormalTok{  stroke{-}expand: stroke{-}expand,}
\NormalTok{  expand: expand,}
\NormalTok{  parent: none,}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

  where:

  \begin{itemize}
  \tightlist
  \item
    \texttt{\ tablex-dict-type\ } is the type marker
  \item
    \texttt{\ start\ } is the row index where the vline starts from
    (default \texttt{\ 0\ } , a.k.a. the top)
  \item
    \texttt{\ end\ } is the last row the vline touches (default
    \texttt{\ auto\ } , a.k.a. all the way to the bottom)

    \begin{itemize}
    \tightlist
    \item
      Note that vlines will \emph{not} be drawn over cells with
      \texttt{\ rowspan\ } larger than 1, even if their spans (
      \texttt{\ start\ } - \texttt{\ end\ } ) include that cell.
    \end{itemize}
  \item
    \texttt{\ x\ } is the index of the column to the left of which the
    vline is drawn. (Defaults to \texttt{\ auto\ } , a.k.a. depends on
    where you placed the \texttt{\ vline\ } among the table items.)

    \begin{itemize}
    \tightlist
    \item
      For a \texttt{\ vline\ } to be placed after all columns, its
      \texttt{\ x\ } value will be equal to the amount of columns (which
      isnâ€™t a valid column index, but itâ€™s what is used here).
    \end{itemize}
  \item
    \texttt{\ stroke\ } is the vlineâ€™s stroke override (defaults to
    \texttt{\ auto\ } , a.k.a. follow the rest of the table).
  \item
    \texttt{\ stop-pre-gutter\ } : When \texttt{\ true\ } , the vline
    will not be drawn over gutter (which is the default behavior of
    tables). Defaults to \texttt{\ auto\ } which is essentially
    \texttt{\ false\ } (draw over gutter).
  \item
    \texttt{\ gutter-restrict\ } : Either \texttt{\ left\ } ,
    \texttt{\ right\ } , or \texttt{\ none\ } . Has no effect if
    \texttt{\ column-gutter\ } is set to \texttt{\ none\ } . Otherwise,
    defines if this \texttt{\ vline\ } should be drawn only to the left
    of the column gutter ( \texttt{\ left\ } ); to the right (
    \texttt{\ right\ } ); or on both the left and the right (
    \texttt{\ none\ } , the default). Note that \texttt{\ left\ } and
    \texttt{\ right\ } are alignment values (not strings).
  \item
    \texttt{\ stroke-expand\ } : When \texttt{\ true\ } , the vline will
    be extended as necessary to cover the stroke of the hlines going
    through either end of the line. Defaults to \texttt{\ true\ } .
  \item
    \texttt{\ expand\ } : Optionally extend the vline by an arbitrary
    length. When \texttt{\ none\ } , it is not expanded. When a length
    (such as \texttt{\ 5pt\ } ), it is expanded by that length on both
    ends. When an array of two lengths (such as
    \texttt{\ (5pt,\ 10pt)\ } ), it is expanded towards the top by the
    first length (in this case, \texttt{\ 5pt\ } ) and towards the
    bottom by the second (in this case, \texttt{\ 10pt\ } ). Defaults to
    \texttt{\ none\ } .
  \item
    \texttt{\ parent\ } : An internal attribute determined when
    splitting lines among cells. (It should always be \texttt{\ none\ }
    on user-facing interfaces.)
  \end{itemize}
\item
  The \texttt{\ occupied\ } type is an internal type used to represent
  cell positions occupied by cells with \texttt{\ colspan\ } or
  \texttt{\ rowspan\ } greater than 1.
\item
  Use \texttt{\ is-tablex-cell\ } , \texttt{\ is-tablex-hline\ } ,
  \texttt{\ is-tablex-vline\ } and \texttt{\ is-tablex-occupied\ } to
  check if a particular object has the corresponding type marker.
\item
  \texttt{\ colspanx\ } and \texttt{\ rowspanx\ } are shorthands for
  setting the \texttt{\ colspan\ } and \texttt{\ rowspan\ } attributes
  of \texttt{\ cellx\ } . They can also be nested (one given as an
  argument to the other) to combine their properties (e.g.,
  \texttt{\ colspanx(2)(rowspanx(3){[}a{]})\ } ). They accept all other
  cell properties with named arguments. For example,
  \texttt{\ colspanx(2,\ align:\ center){[}b{]}\ } is equivalent to
  \texttt{\ cellx(colspan:\ 2,\ align:\ center){[}b{]}\ } .
\end{enumerate}

\subsubsection{Gridx and Tablex}\label{gridx-and-tablex}

\begin{enumerate}
\item
  \texttt{\ gridx\ } is equivalent to \texttt{\ tablex\ } with
  \texttt{\ auto-lines:\ false\ } ; see below.
\item
  \texttt{\ tablex:\ } The main function for creating a table with this
  library:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\#let tablex(}
\NormalTok{  columns: auto, rows: auto,}
\NormalTok{  inset: 5pt,}
\NormalTok{  align: auto,}
\NormalTok{  fill: none,}
\NormalTok{  stroke: auto,}
\NormalTok{  column{-}gutter: auto, row{-}gutter: auto,}
\NormalTok{  gutter: none,}
\NormalTok{  repeat{-}header: false,}
\NormalTok{  header{-}rows: 1,}
\NormalTok{  header{-}hlines{-}have{-}priority: true,}
\NormalTok{  auto{-}lines: true,}
\NormalTok{  auto{-}hlines: auto,}
\NormalTok{  auto{-}vlines: auto,}
\NormalTok{  map{-}cells: none,}
\NormalTok{  map{-}hlines: none,}
\NormalTok{  map{-}vlines: none,}
\NormalTok{  map{-}rows: none,}
\NormalTok{  map{-}cols: none,}
\NormalTok{  ..items}
\NormalTok{) = \{}
\NormalTok{// ...}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

  \textbf{Parameters:}

  \begin{itemize}
  \item
    \texttt{\ columns\ } : The sizes (widths) of each column. They work
    just like regular \texttt{\ table\ } â€™s columns, and can be:

    \begin{itemize}
    \tightlist
    \item
      an array of lengths ( \texttt{\ 1pt\ } , \texttt{\ 2em\ } ,
      \texttt{\ 100\%\ } , â€¦), including fractional ( \texttt{\ 2fr\ }
      ), to specify the width of each column

      \begin{itemize}
      \tightlist
      \item
        For instance, \texttt{\ columns:\ (2pt,\ 3em)\ } will give you
        two columns: one with a width of \texttt{\ 2pt\ } and another
        with the width of \texttt{\ 3em\ } (3 times the font size).

        \begin{itemize}
        \tightlist
        \item
          Note that percentages, such as \texttt{\ 49\%\ } , \textbf{are
          considered fixed widths} as they are \textbf{always multiplied
          by the full page width} (minus margins) for columns. Thus, a
          column with a size of \texttt{\ 100\%\ } would span your whole
          page (even if there are other columns).
        \end{itemize}
      \item
        \texttt{\ auto\ } may be specified to automatically resize the
        column based on the largest width of its contents, if possible -
        \textbf{this is the most common column width choice,} as it just
        delegates the column sizing job to tablex!

        \begin{itemize}
        \tightlist
        \item
          For example, if your \texttt{\ auto\ } -sized column contains
          two cells with \texttt{\ Hello\ world!\ } and
          \texttt{\ Bye!\ } as contents, tablex will try to make the
          column large enough for \texttt{\ Hello\ world!\ } (the cell
          with largest \emph{potential} width) to fit in a single line.
        \item
          However, note that often enough thatâ€™s not possible, as
          increasing the columnâ€™s size too much would result in the
          table going over the pageâ€™s margin - perhaps even beyond the
          documentâ€™s total width. Therefore, \textbf{tablex will
          automatically reduce the size of your \texttt{\ auto\ }
          columns} when they would otherwise cause the table to overrun
          the pageâ€™s normal width (i.e. the width between the pageâ€™s
          lateral margins).

          \begin{itemize}
          \tightlist
          \item
            Fixed width columns (such as \texttt{\ 2pt\ } ,
            \texttt{\ 3em\ } or \texttt{\ 49\%\ } ) are not subject to
            this size reduction; thus, if you specify all columnsâ€™
            widths with fixed lengths, your table \emph{could} become
            larger than the pageâ€™s width! (In such a case,
            \textbf{\texttt{\ auto\ } columns would be reduced to a size
            of zero,} as there would be no available space anymore!)
          \end{itemize}
        \end{itemize}
      \item
        when specifying fractional widths ( \texttt{\ 1fr\ } ,
        \texttt{\ 2fr\ } â€¦) for columns, the available space
        (remaining page width, after calculating all other columnsâ€™
        sizes) is divided between them, weighted on the fraction value
        of each column.

        \begin{itemize}
        \tightlist
        \item
          For example, with \texttt{\ (1fr,\ 2fr)\ } , the available
          space will be divided by 3 (1 + 2), and the first column will
          have 1/3 of the space, while the second will have 2/3.

          \begin{itemize}
          \tightlist
          \item
            \texttt{\ (1fr,\ 1fr)\ } would cause both columns to have
            equal length (1/2 and 1/2 of the available space).
          \end{itemize}
        \item
          This is useful when you want some columns to just occupy all
          the remaining horizontal space in the page.

          \begin{itemize}
          \tightlist
          \item
            \textbf{Note:} If only one column has a fractional width
            (e.g. a single column with \texttt{\ 1fr\ } ), it will
            occupy the entire available space.
          \end{itemize}
        \item
          \textbf{Warning:} fractional columns in tablex (much like in
          Typstâ€™s default tables) \textbf{will not work properly in
          pages with \texttt{\ auto\ } width} (the columns will have
          width zero) - this is because those pages theoretically have
          infinite width (they can expand indefinitely), so having
          columns spanning the entire available width is then
          impossible!
        \end{itemize}
      \end{itemize}
    \item
      a single length like above, to indicate the width of a single
      column (equivalent to just placing it inside a unit array)

      \begin{itemize}
      \tightlist
      \item
        For instance, \texttt{\ columns:\ 2pt\ } is equivalent to
        \texttt{\ columns:\ (2pt,)\ } , which translates to a single
        column of width \texttt{\ 2pt\ } .
      \end{itemize}
    \item
      an integer (such as \texttt{\ 4\ } ), as a shorthand for
      \texttt{\ (auto,)\ *\ 4\ } (that many \texttt{\ auto\ } columns)

      \begin{itemize}
      \tightlist
      \item
        Useful if you just want to quickly set the amount of columns
        without worrying about their sizes ( \texttt{\ columns:\ 4\ }
        will give you four \texttt{\ auto\ } columns).
      \end{itemize}
    \end{itemize}
  \item
    \texttt{\ rows\ } : The sizes (heights) of each row. They follow the
    exact same format as \texttt{\ columns\ } , except that the
    â€œavailable spaceâ€? is infinite (auto rows can expand as much as
    is needed, as the table can add rows over multiple pages).

    \begin{itemize}
    \tightlist
    \item
      \textbf{Note:} For rows, percentages (such as \texttt{\ 49\%\ } )
      are fixed width lengths, like in \texttt{\ columns\ } ; however,
      here, they are \textbf{multiplied by the pageâ€™s full height}
      (minus margins), and not width.
    \item
      \textbf{Note:} If more rows than specified are added, the height
      for the \textbf{last row} will be the one assigned to all extra
      rows. (If the last row is \texttt{\ auto\ } , the extra ones will
      also be \texttt{\ auto\ } , for example.)

      \begin{itemize}
      \tightlist
      \item
        Your table can have more rows than expected by simply having
        more cells than \texttt{\ (\#\ columns)\ } multiplied by
        \texttt{\ (\#\ rows)\ } . In this case, you will have an extra
        row for each \texttt{\ (\#\ columns)\ } cells after the limit.
        In other words, \textbf{the amount of columns is always fixed}
        (determined by the amount of widths in the array given to
        \texttt{\ columns\ } ), but the amount of rows can vary
        depending on your input of cells to the table.
      \item
        Adding a cell at an arbitrary \texttt{\ y\ } coordinate can also
        cause your table to have extra rows (enough rows to reach the
        cell at that coordinate).
      \end{itemize}
    \item
      \textbf{Warning:} support for fractional sizes for rows is still
      rudimentary - they only work properly on the tableâ€™s first page;
      on the second page and onwards, they will not behave properly,
      differently from the default \texttt{\ \#table\ } .
    \end{itemize}
  \item
    \texttt{\ inset\ } : Inset/internal padding to give to each cell.
    Can be either a length (same inset from the top, bottom, left and
    right of the cell), or a dictionary (e.g.
    \texttt{\ (left:\ 5pt,\ right:\ 10pt,\ bottom:\ 2pt,\ top:\ 4pt)\ }
    , or even \texttt{\ (left:\ 5pt,\ rest:\ 10pt)\ } to apply the same
    value to the remaining sides). Defaults to \texttt{\ 5pt\ } (the
    \texttt{\ \#table\ } default).
  \item
    \texttt{\ align\ } : How to align text in the cells. Defaults to
    \texttt{\ auto\ } , which inherits alignment from the outer context.
    Must be either \texttt{\ auto\ } , an \texttt{\ alignment\ } (such
    as \texttt{\ left\ } or \texttt{\ top\ } ), a
    \texttt{\ 2d\ alignment\ } (such as \texttt{\ left\ +\ top\ } ), an
    \texttt{\ array\ } of alignment/2d alignment (one for each column in
    the table - if there are more columns than alignment values, they
    will alternate); or a function
    \texttt{\ (column,\ row)\ =\textgreater{}\ alignment/2d\ alignment\ }
    (to customize for each individual cell).
  \item
    \texttt{\ fill\ } : Color with which to fill cellsâ€™ backgrounds.
    Defaults to \texttt{\ none\ } , or no fill. Must be either a
    \texttt{\ color\ } , such as \texttt{\ blue\ } ; an
    \texttt{\ array\ } of colors (one for each column in the table - if
    there are more columns than colors, they will alternate); or a
    function \texttt{\ (column,\ row)\ =\textgreater{}\ color\ } (to
    customize for each individual cell).
  \item
    \texttt{\ stroke\ } : Indicates how to draw the table lines.
    Defaults to the current line styles in the document. For example:
    \texttt{\ 5pt\ +\ red\ } to change the color and the thickness.
  \item
    \texttt{\ column-gutter\ } : optional separation (length) between
    columns (such as \texttt{\ 5pt\ } ). Defaults to \texttt{\ none\ }
    (disable). At the moment, looks a bit ugly if your table has a
    \texttt{\ hline\ } attempting to cross a \texttt{\ colspan\ } .
  \item
    \texttt{\ row-gutter\ } : optional separation (length) between rows.
    Defaults to \texttt{\ none\ } (disable). At the moment, looks a bit
    ugly if your table has a \texttt{\ vline\ } attempting to cross a
    \texttt{\ rowspan\ } .
  \item
    \texttt{\ gutter\ } : Sets a length to both \texttt{\ column-\ } and
    \texttt{\ row-gutter\ } at the same time (overridable by each).
  \item
    \texttt{\ repeat-header\ } : Controls header repetition. If set to
    \texttt{\ true\ } , the first row (or the amount of rows specified
    in \texttt{\ header-rows\ } ), including its rowspans, is repeated
    across all pages this table spans. If set to \texttt{\ false\ }
    (default), the aforementioned header row is not repeated in any
    page. If set to an integer (such as \texttt{\ 4\ } ), repeats for
    that many pages after the first, then stops. If set to an array of
    integers (such as \texttt{\ (3,\ 4)\ } ), repeats only on those
    pages \emph{relative to the tableâ€™s first page} (page 1 here is
    where the table is, so adding \texttt{\ 1\ } to said array has no
    effect).
  \item
    \texttt{\ header-rows\ } : minimum amount of rows for the repeatable
    header. 1 by default. Automatically increases if one of the cells is
    a rowspan that would go beyond the given amount of rows. For
    example, if 3 is given, then at least the first 3 rows will repeat.
  \item
    \texttt{\ header-hlines-have-priority\ } : if \texttt{\ true\ } ,
    the horizontal lines below the header being repeated take priority
    over the rows they appear atop of on further pages. If
    \texttt{\ false\ } , they draw their own horizontal lines. Defaults
    to \texttt{\ true\ } .

    \begin{itemize}
    \tightlist
    \item
      For example, if your header has a blue hline under it, that blue
      hline will display on all pages it is repeated on if this option
      is \texttt{\ true\ } . If this option is \texttt{\ false\ } , the
      header will repeat, but the blue hline will not.
    \end{itemize}
  \item
    \texttt{\ rtl\ } : if true, the table is horizontally flipped. That
    is, cells and lines are placed in the opposite order (starting from
    the right), and horizontal lines are flipped. This is meant to
    simulate the behavior of default Typst tables when
    \texttt{\ set\ text(dir:\ rtl)\ } is used, and is useful when
    writing in a language with a RTL (right-to-left) script. Defaults to
    \texttt{\ false\ } .
  \item
    \texttt{\ auto-lines\ } : Shorthand to apply a boolean to both
    \texttt{\ auto-hlines\ } and \texttt{\ auto-vlines\ } at the same
    time (overridable by each). Defaults to \texttt{\ true\ } .
  \item
    \texttt{\ auto-hlines\ } : If \texttt{\ true\ } , draw a horizontal
    line on every line where you did not manually draw one; if
    \texttt{\ false\ } , no hlines other than the ones you specify (via
    \texttt{\ hlinex\ } ) are drawn. Defaults to \texttt{\ auto\ }
    (follows \texttt{\ auto-lines\ } , which in turn defaults to
    \texttt{\ true\ } ).
  \item
    \texttt{\ auto-vlines\ } : If \texttt{\ true\ } , draw a vertical
    line on every line where you did not manually draw one; if
    \texttt{\ false\ } , no vlines other than the ones you specify (via
    \texttt{\ vlinex\ } ) are drawn. Defaults to \texttt{\ auto\ }
    (follows \texttt{\ auto-lines\ } , which in turn defaults to
    \texttt{\ true\ } ).
  \item
    \texttt{\ map-cells\ } : A function which takes a single
    \texttt{\ cellx\ } and returns another \texttt{\ cellx\ } , or a
    \texttt{\ content\ } which is converted to \texttt{\ cellx\ } by
    \texttt{\ cellx{[}\#content{]}\ } . You can customize the cell in
    pretty much any way using this function; just take care to avoid
    conflicting with already-placed cells if you move it.
  \item
    \texttt{\ map-hlines\ } : A function which takes each horizontal
    line object ( \texttt{\ hlinex\ } ) and returns another, optionally
    modifying its properties. You may also change its row position (
    \texttt{\ y\ } ). Note that this is also applied to lines generated
    by \texttt{\ auto-hlines\ } .
  \item
    \texttt{\ map-vlines\ } : A function which takes each horizontal
    line object ( \texttt{\ vlinex\ } ) and returns another, optionally
    modifying its properties. You may also change its column position (
    \texttt{\ x\ } ). Note that this is also applied to lines generated
    by \texttt{\ auto-vlines\ } .
  \item
    \texttt{\ map-rows\ } : A function mapping each row of cells to new
    values or modified properties. Takes
    \texttt{\ (row\_num,\ cell\_array)\ } and returns the modified
    \texttt{\ cell\_array\ } . Note that, with your function, they
    cannot be sent to another row. Also, please preserve the order of
    the cells. This is especially important given that cells may be
    \texttt{\ none\ } if theyâ€™re actually a position taken by another
    cell with colspan/rowspan. Make sure the \texttt{\ none\ } values
    are in the same indexes when the array is returned.
  \item
    \texttt{\ map-cols\ } : A function mapping each column of cells to
    new values or modified properties. Takes
    \texttt{\ (col\_num,\ cell\_array)\ } and returns the modified
    \texttt{\ cell\_array\ } . Note that, with your function, they
    cannot be sent to another column. Also, please preserve the order of
    the cells. This is especially important given that cells may be
    \texttt{\ none\ } if theyâ€™re actually a position taken by another
    cell with colspan/rowspan. Make sure the \texttt{\ none\ } values
    are in the same indexes when the array is returned.
  \item
    \texttt{\ fit-spans\ } : either a dictionary
    \texttt{\ (x:\ bool,\ y:\ bool)\ } or just \texttt{\ bool\ } (e.g.
    just \texttt{\ true\ } is converted to
    \texttt{\ (x:\ true,\ y:\ true)\ } ). When given
    \texttt{\ (x:\ true)\ } , colspans wonâ€™t affect the sizes of
    \texttt{\ auto\ } columns. When given \texttt{\ (y:\ true)\ } ,
    rowspans wonâ€™t affect the sizes of \texttt{\ auto\ } rows. By
    default, this is equal to \texttt{\ (x:\ false,\ y:\ false)\ }
    (equivalent to just \texttt{\ false\ } ), which means that colspans
    will cause the last spanned \texttt{\ auto\ } column to expand
    (depending on the contents of the cell) and rowspans will cause the
    last spanned \texttt{\ auto\ } row to expand similarly.

    \begin{itemize}
    \tightlist
    \item
      This is usually used as \texttt{\ (x:\ true)\ } to prevent
      unexpected expansion of \texttt{\ auto\ } columns after using a
      colspan, which can happen when a colspan spans both a
      fractional-size column (e.g. \texttt{\ 1fr\ } ) and an
      \texttt{\ auto\ } -sized column. Can be applied to rows too
      through \texttt{\ (y:\ true)\ } or
      \texttt{\ (x:\ true,\ y:\ true)\ } , if needed, however.
    \item
      The point of this option is to have colspans and rowspans not
      affect the size of the table at all, and just â€œfitâ€? within the
      columns and rows they span. Therefore, this option does not have
      any effect upon colspans and rowspans which donâ€™t span columns
      or rows with automatic size.
    \end{itemize}
  \end{itemize}
\end{enumerate}

\subsection{Changelog}\label{changelog}

\subsubsection{v0.0.9}\label{v0.0.9}

\textbf{NOTE:} Please use Typstâ€™s built-in tables instead of tablex
(starting with Typst 0.11.0). Most of tablexâ€™s features were
implemented in Typstâ€™s tables by the author of tablex.

\begin{itemize}
\tightlist
\item
  Added compatibility with Typst v0.12.0 (
  \url{https://github.com/PgBiel/typst-tablex/issues/135} )
\item
  Added library usage notice to README
\item
  Tablex is now dual-licensed under MIT/Apache-2.0 (
  \url{https://github.com/PgBiel/typst-tablex/issues/134} )
\end{itemize}

\subsubsection{v0.0.8}\label{v0.0.8}

\begin{itemize}
\tightlist
\item
  Added \texttt{\ fit-spans\ } option to \texttt{\ tablex\ } and
  \texttt{\ cellx\ } (
  \url{https://github.com/PgBiel/typst-tablex/pull/111} )

  \begin{itemize}
  \tightlist
  \item
    Accepts \texttt{\ (x:\ bool,\ y:\ bool)\ } . When set to
    \texttt{\ (x:\ true)\ } , colspans wonâ€™t affect the sizes of
    \texttt{\ auto\ } columns. When set to \texttt{\ (y:\ true)\ } ,
    rowspans wonâ€™t affect the sizes of \texttt{\ auto\ } rows.
  \item
    Defaults to \texttt{\ false\ } , equivalent to
    \texttt{\ (x:\ false,\ y:\ false)\ } , that is, colspans and
    rowspans affect the sizes of \texttt{\ auto\ } tracks (columns and
    rows) by default (expanding the last spanned track if the
    colspan/rowspan is too large).
  \item
    Useful when you want merged cells (or a specific merged cell) to
    â€œfitâ€? within their spanned columns and rows. May help when
    adding a colspan or rowspan causes an \texttt{\ auto\ } -sized track
    to inadvertently expand.
  \end{itemize}
\item
  \texttt{\ auto\ } column sizing received multiple improvements and bug
  fixes. Tables should now have more natural column widths. (
  \url{https://github.com/PgBiel/typst-tablex/pull/109} ,
  \url{https://github.com/PgBiel/typst-tablex/pull/116} )

  \begin{itemize}
  \tightlist
  \item
    Fixes some problems with overflowing cells (
    \url{https://github.com/PgBiel/typst-tablex/issues/48} ,
    \url{https://github.com/PgBiel/typst-tablex/issues/75} )
  \item
    Fixes \texttt{\ auto\ } columns being needlessly expanded in some
    cases ( \url{https://github.com/PgBiel/typst-tablex/issues/56} ,
    \url{https://github.com/PgBiel/typst-tablex/issues/78} )

    \begin{itemize}
    \tightlist
    \item
      For similar problems not fixed by this, please use the new
      \texttt{\ fit-spans\ } option as needed, or use fixed-size columns
      instead.
    \end{itemize}
  \end{itemize}
\item
  Several performance optimizations and other internal code improvements
  were made ( \url{https://github.com/PgBiel/typst-tablex/pull/113} ,
  \url{https://github.com/PgBiel/typst-tablex/pull/114} ,
  \url{https://github.com/PgBiel/typst-tablex/pull/115} ).

  \begin{itemize}
  \tightlist
  \item
    Documents with lots of \texttt{\ tablex\ } tables might now become
    \textbf{up to 20\% faster} to cold compile. Give it a shot!
  \end{itemize}
\item
  Fixed extra fixed-height rows appearing to have \texttt{\ auto\ }
  height ( \url{https://github.com/PgBiel/typst-tablex/pull/108} ).
\item
  Fixed rows without any visible cells being drawn with zero height (
  \url{https://github.com/PgBiel/typst-tablex/pull/107} ).

  \begin{itemize}
  \tightlist
  \item
    Fixes some rowspans causing cells to overlap (
    \url{https://github.com/PgBiel/typst-tablex/issues/82} ,
    \url{https://github.com/PgBiel/typst-tablex/issues/105} ).
  \end{itemize}
\end{itemize}

\subsubsection{v0.0.7}\label{v0.0.7}

I have begun
\href{https://github.com/PgBiel/typst-improv-tables-planning}{work on
bringing many tablex improvements to built-in Typst tables} ! In that
regard, \href{https://github.com/sponsors/PgBiel}{you can now sponsor my
work on tablex and improving Typst tables via GitHub Sponsors! Consider
taking a look :)}

\begin{itemize}
\tightlist
\item
  Allow gradients and patterns in fills (
  \url{https://github.com/PgBiel/typst-tablex/pull/87} )
\item
  Fixed a critical bug where \texttt{\ line\ } in tablex cells would
  misbehave ( \url{https://github.com/PgBiel/typst-tablex/issues/80} )

  \begin{itemize}
  \tightlist
  \item
    CeTZ and drawing in general should now work properly within tablex
    cells (see \url{https://github.com/johannes-wolf/cetz/issues/345} ).
  \item
    Also fixes a problem with nested tables (
    \url{https://github.com/PgBiel/typst-tablex/issues/34} )
  \end{itemize}
\item
  Fixed negative line expansion within a single cell (
  \url{https://github.com/PgBiel/typst-tablex/pull/84} )

  \begin{itemize}
  \tightlist
  \item
    Negative line expansion across multiple cells isnâ€™t yet supported.
  \item
    Thanks GitHub user @dixslyf for the great work on fixing and testing
    this!
  \end{itemize}
\item
  Made internal length calculation procedures more robust (
  \url{https://github.com/PgBiel/typst-tablex/issues/92} ,
  \url{https://github.com/PgBiel/typst-tablex/issues/94} )

  \begin{itemize}
  \tightlist
  \item
    Fixes a potential incompatibility with (currently unreleased) Typst
    0.11.0
  \end{itemize}
\item
  Added missing support for boolean types in Typst 0.8.0+ (
  \url{https://github.com/PgBiel/typst-tablex/issues/73} )
\item
  Added some keywords to tablexâ€™s \texttt{\ typst.toml\ } for better
  discoverability (
  \url{https://github.com/PgBiel/typst-tablex/issues/91} )
\end{itemize}

\subsubsection{v0.0.6}\label{v0.0.6}

\begin{itemize}
\tightlist
\item
  Added support for RTL tables with \texttt{\ rtl:\ true\ } (
  \url{https://github.com/PgBiel/typst-tablex/issues/58} ).

  \begin{itemize}
  \tightlist
  \item
    Default Typst tables are automatically flipped horizontally when
    using \texttt{\ set\ text(dir:\ rtl)\ } , however we canâ€™t detect
    that setting from tablex at this moment (it isnâ€™t currently
    possible to fetch set rules in Typst).
  \item
    Therefore, as a way around that, you can now specify
    \texttt{\ \#tablex(rtl:\ true,\ ...)\ } to flip your table
    horizontally if youâ€™re writing a document in RTL (right-to-left)
    script. (You can use e.g. \texttt{\ \#let\ old-tablex\ =\ tablex\ }
    followed by
    \texttt{\ \#let\ tablex(..args)\ =\ old-tablex(rtl:\ true,\ ..args)\ }
    to not have to repeat the \texttt{\ rtl\ } parameter every time.)
  \end{itemize}
\item
  Added support for \texttt{\ box\ } â€™s dictionary inset syntax on
  tablex ( \url{https://github.com/PgBiel/typst-tablex/issues/54} ).

  \begin{itemize}
  \tightlist
  \item
    For instance, you can now do
    \texttt{\ \#tablex(inset:\ (left:\ 5pt,\ top:\ 10pt,\ rest:\ 2pt),\ ...)\ }
    .
  \end{itemize}
\item
  Fixed errors when using floating point strokes or other more complex
  strokes ( \url{https://github.com/PgBiel/typst-tablex/issues/55} ).
\item
  Added full compatibility with the new Typst 0.8.0 type system (
  \url{https://github.com/PgBiel/typst-tablex/issues/69} ).
\item
  Added info about \texttt{\ \#rotate\ } problems to â€œKnown Issuesâ€?
  in the README ( \url{https://github.com/PgBiel/typst-tablex/pull/60}
  ).
\item
  Improved docs for tablex options \texttt{\ columns\ } and
  \texttt{\ rows\ } (
  \url{https://github.com/PgBiel/typst-tablex/issues/53} ).
\end{itemize}

\subsubsection{v0.0.5}\label{v0.0.5}

\begin{itemize}
\tightlist
\item
  âš~ï¸? \textbf{Minimum Typst version raised to v0.2.0}
\item
  Improved calculation of page/container dimensions by using the
  \texttt{\ layout()\ } function.

  \begin{itemize}
  \tightlist
  \item
    Fixes tables with fractional columns not displaying properly in
    blocks with \texttt{\ auto\ } width (
    \url{https://github.com/PgBiel/typst-tablex/issues/44} ;
    \url{https://github.com/PgBiel/typst-tablex/issues/39} )
  \item
    Fixes some nested tables overflowing the page width (
    \url{https://github.com/PgBiel/typst-tablex/issues/41} )
  \item
    Fixes bad interaction between tables with fractional columns and
    nested tables (
    \url{https://github.com/PgBiel/typst-tablex/issues/28} )
  \item
    Fixes table rotation messing up table size calculation (
    \url{https://github.com/PgBiel/typst-tablex/issues/52} )
  \item
    Probably fixes other issues not listed here as well.
  \end{itemize}
\item
  Added some guards for infinite lengths and \texttt{\ auto\ } -sized
  pages ( \url{https://github.com/PgBiel/typst-tablex/issues/47} ).
\item
  Fixed tablex crashes/improper behavior with \texttt{\ em\ } strokes
  and other types of strokes (
  \url{https://github.com/PgBiel/typst-tablex/issues/49} ).
\item
  Added the tablex version number as a comment in the source file (as
  requested in \url{https://github.com/PgBiel/typst-tablex/issues/25} ).
\end{itemize}

\subsubsection{v0.0.4}\label{v0.0.4}

\begin{itemize}
\tightlist
\item
  Added \texttt{\ typst.toml\ } to support Typst v0.6.0â€™s
  soon-to-be-released package manager (see
  \url{https://github.com/PgBiel/typst-tablex/issues/22} ).
\item
  Fixed a division by zero regression from v0.0.3 (
  \url{https://github.com/PgBiel/typst-tablex/issues/19} ).
\item
  Fixed a bug where cells placed in arbitrary positions could force an
  extra empty row to appear (
  \url{https://github.com/PgBiel/typst-tablex/issues/16} ).
\item
  Fixed \texttt{\ hlinex(gutter-restrict:\ top)\ } causing the hline to
  just disappear (
  \url{https://github.com/PgBiel/typst-tablex/issues/20} ).
\item
  Fixed certain \texttt{\ gutter-restrict\ } lines disappearing when
  thereâ€™s no gutter (
  \url{https://github.com/PgBiel/typst-tablex/issues/21} ).
\item
  Fixed row gutter lines not properly splitting across pages (
  \url{https://github.com/PgBiel/typst-tablex/issues/23} ).
\end{itemize}

\subsubsection{v0.0.3}\label{v0.0.3}

\begin{itemize}
\tightlist
\item
  Added support for Typst v0.4.0 and v0.5.0.

  \begin{itemize}
  \tightlist
  \item
    The tablex options \texttt{\ fill:\ } and \texttt{\ align:\ } now
    accept arrays of values for each column (
    \url{https://github.com/PgBiel/typst-tablex/issues/13} ).

    \begin{itemize}
    \tightlist
    \item
      For example, \texttt{\ fill:\ (red,\ blue)\ } would fill the first
      column with red, the second column with blue, and any further
      columns would alternate between the two fill colors.
    \end{itemize}
  \end{itemize}
\item
  Fixed the calculation of the size of \texttt{\ auto\ } rows and
  columns when a rowspan or colspan was used (
  \url{https://github.com/PgBiel/typst-tablex/issues/11} ).
\item
  Fixed the calculation of the size of the last \texttt{\ auto\ } column
  when it was too long (
  \url{https://github.com/PgBiel/typst-tablex/issues/6} ).
\end{itemize}

\subsubsection{v0.0.2}\label{v0.0.2}

\begin{itemize}
\tightlist
\item
  Added support for Typst v0.3.0.
\item
  Fixed strokes - now lines will expand to not look weird when strokes
  are larger.

  \begin{itemize}
  \tightlist
  \item
    You can disable this behavior by setting
    \texttt{\ stroke-expand:\ false\ } on your lines.
  \end{itemize}
\item
  You can now arbitrarily change your linesâ€™ sizes at either end with
  the option \texttt{\ expand:\ (length,\ length)\ } ; e.g.
  \texttt{\ expand:\ (5pt,\ 10pt)\ } will increase your horizontal line
  5pt to the left and 10pt to the right (or, for a vertical line, 5pt to
  the top and 10pt to the bottom).

  \begin{itemize}
  \tightlist
  \item
    Support for negative expand lengths is limited (so far, only reduces
    length in the first cell the line spans).
  \end{itemize}
\item
  Added some gutter fixes (not all gutter issues were fixed yet).
\end{itemize}

\subsubsection{v0.0.1}\label{v0.0.1}

Initial release.

\begin{itemize}
\tightlist
\item
  Added types \texttt{\ tablex\ } , \texttt{\ cellx\ } ,
  \texttt{\ hlinex\ } , \texttt{\ vlinex\ }
\item
  Added type aliases \texttt{\ gridx\ } , \texttt{\ rowspanx\ } ,
  \texttt{\ colspanx\ }
\end{itemize}

\subsection{0.1.0 Roadmap}\label{roadmap}

\begin{itemize}
\tightlist
\item
  {[} {]} General

  \begin{itemize}
  \tightlist
  \item
    {[}X{]} More docs
  \item
    {[} {]} Code cleanup
  \item
    {[} {]} Table drawing rework
  \end{itemize}
\item
  {[} {]} \texttt{\ \#table\ } parity

  \begin{itemize}
  \tightlist
  \item
    {[}X{]} \texttt{\ columns:\ } , \texttt{\ rows:\ }

    \begin{itemize}
    \tightlist
    \item
      {[}X{]} Basic support
    \item
      {[}X{]} Accept a single size to mean a single column
    \item
      {[}X{]} Adjust \texttt{\ auto\ } columns and rows
    \item
      {[}X{]} Accept integers to mean multiple \texttt{\ auto\ }
    \item
      {[}X{]} Basic unit conversion (em -\textgreater{} pt, etc.)
    \item
      {[}X{]} Ratio unit conversion (100\% -\textgreater{} page
      widthâ€¦)
    \item
      {[}X{]} Fractional unit conversion based on available space (1fr,
      2fr -\textgreater{} 1/3, 2/3)
    \item
      {[}X{]} Shrink \texttt{\ auto\ } columns based on available space
    \end{itemize}
  \item
    {[}X{]} \texttt{\ fill\ }

    \begin{itemize}
    \tightlist
    \item
      {[}X{]} Basic support ( \texttt{\ color\ } for general fill)
    \item
      {[}X{]} Accept a function (
      \texttt{\ (column,\ row)\ =\textgreater{}\ color\ } )
    \item
      {[}X{]} Accept an array of colors (one for each column)
    \end{itemize}
  \item
    {[}X{]} \texttt{\ align\ }

    \begin{itemize}
    \tightlist
    \item
      {[}X{]} Basic support ( \texttt{\ alignment\ } and
      \texttt{\ 2d\ alignment\ } apply to all cells)
    \item
      {[}X{]} Accept a function (
      \texttt{\ (column,\ row)\ =\textgreater{}\ alignment/2d\ alignment\ }
      )
    \item
      {[}X{]} Accept an array of alignment values (one for each column)
    \end{itemize}
  \item
    {[}X{]} \texttt{\ inset\ }
  \item
    {[} {]} \texttt{\ gutter\ }

    \begin{itemize}
    \tightlist
    \item
      {[}X{]} Basic support

      \begin{itemize}
      \tightlist
      \item
        {[}X{]} \texttt{\ column-gutter\ }
      \item
        {[}X{]} \texttt{\ row-gutter\ }
      \end{itemize}
    \item
      {[} {]} Hline, vline adaptations

      \begin{itemize}
      \tightlist
      \item
        {[}X{]} \texttt{\ stop-pre-gutter\ } : Makes the hline/vline not
        transpose gutter boundaries
      \item
        {[}X{]} \texttt{\ gutter-restrict\ } : Makes the hline/vline not
        draw on both sides of a gutter boundary, and instead pick one
        (top/bottom; left/right)
      \item
        {[} {]} Properly work with gutters after colspanxs/rowspanxs
      \end{itemize}
    \end{itemize}
  \item
    {[}X{]} \texttt{\ stroke\ }

    \begin{itemize}
    \tightlist
    \item
      {[}X{]} Basic support (change all lines, vline or hline, without
      override)
    \item
      {[}X{]} \texttt{\ none\ } for no stroke
    \end{itemize}
  \item
    {[}X{]} Default to lines on every row and column
  \end{itemize}
\item
  {[} {]} New features for \texttt{\ \#tablex\ }

  \begin{itemize}
  \tightlist
  \item
    {[}X{]} Basic types ( \texttt{\ cellx\ } , \texttt{\ hlinex\ } ,
    \texttt{\ vlinex\ } )
  \item
    {[}X{]} \texttt{\ hlinex\ } , \texttt{\ vlinex\ }

    \begin{itemize}
    \tightlist
    \item
      {[}X{]} Auto-positioning when placed among cells
    \item
      {[}X{]} Arbitrary positioning
    \item
      {[}X{]} Allow customizing \texttt{\ stroke\ }
    \end{itemize}
  \item
    {[}X{]} \texttt{\ colspanx\ } , \texttt{\ rowspanx\ }

    \begin{itemize}
    \tightlist
    \item
      {[}X{]} Interrupt \texttt{\ hlinex\ } and \texttt{\ vlinex\ } with
      \texttt{\ end:\ auto\ }
    \item
      {[}X{]} Support simultaneous col/rowspan with
      \texttt{\ cellx(colspanx:,\ rowspanx:)\ }
    \item
      {[}X{]} Support nesting colspan/rowspan (
      \texttt{\ colspanx(rowspanx())\ } )
    \item
      {[}X{]} Support cell attributes (e.g.
      \texttt{\ colspanx(2,\ align:\ left){[}a{]}\ } )
    \item
      {[}X{]} Reliably detect conflicts
    \end{itemize}
  \item
    {[} {]} Repeating headers

    \begin{itemize}
    \tightlist
    \item
      {[}X{]} Basic support (first row group repeats on every page)
    \item
      {[} {]} Work with different page sizes
    \item
      {[}X{]} \texttt{\ repeat-header\ } : Control header repetition

      \begin{itemize}
      \tightlist
      \item
        {[}X{]} \texttt{\ true\ } : Repeat on all pages
      \item
        {[}X{]} integer: Repeat for the next â€˜nâ€™ pages
      \item
        {[}X{]} array of integers: Repeat on those (relative) pages
      \item
        {[}X{]} \texttt{\ false\ } (default): Do not repeat
      \end{itemize}
    \item
      {[}X{]} \texttt{\ header-rows\ } : Indicate what to consider as a
      â€œheaderâ€?

      \begin{itemize}
      \tightlist
      \item
        {[}X{]} integer: At least first â€˜nâ€™ rows are a header (plus
        whatever rowspanxs show up there)

        \begin{itemize}
        \tightlist
        \item
          {[}X{]} Defaults to 1
        \end{itemize}
      \item
        {[}X{]} \texttt{\ none\ } or \texttt{\ 0\ } : no header
        (disables header repetition regardless of
        \texttt{\ repeat-header\ } )
      \end{itemize}
    \end{itemize}
  \item
    {[}X{]} \texttt{\ cellx\ }

    \begin{itemize}
    \tightlist
    \item
      {[}X{]} Auto-positioning based on order and columns
    \item
      {[}X{]} Place empty cells when there are too many
    \item
      {[}X{]} Allow arbitrary positioning with
      \texttt{\ cellx(x:,\ y:)\ }
    \item
      {[}X{]} Allow \texttt{\ align\ } override
    \item
      {[}X{]} Allow \texttt{\ fill\ } override
    \item
      {[}X{]} Allow \texttt{\ inset\ } override

      \begin{itemize}
      \tightlist
      \item
        {[}X{]} Works properly only with \texttt{\ auto\ } cols/rows
      \end{itemize}
    \item
      {[}X{]} Dynamic content (maybe shortcut for \texttt{\ map-cells\ }
      on a single cell)
    \end{itemize}
  \item
    {[}X{]} Auto-lines

    \begin{itemize}
    \tightlist
    \item
      {[}X{]} \texttt{\ auto-hlines\ } - \texttt{\ true\ } to place on
      all lines without hlines, \texttt{\ false\ } otherwise
    \item
      {[}X{]} \texttt{\ auto-vlines\ } - similar
    \item
      {[}X{]} \texttt{\ auto-lines\ } - controls both simultaneously
      (defaults to \texttt{\ true\ } )
    \end{itemize}
  \item
    {[}X{]} Iteration attributes

    \begin{itemize}
    \tightlist
    \item
      {[}X{]} \texttt{\ map-cells\ } - Customize every single cell
    \item
      {[}X{]} \texttt{\ map-hlines\ } - Customize each horizontal line
    \item
      {[}X{]} \texttt{\ map-vlines\ } - Customize each vertical line
    \item
      {[}X{]} \texttt{\ map-rows\ } - Customize entire rows of cells
    \item
      {[}X{]} \texttt{\ map-cols\ } - Customize entire columns of cells
    \end{itemize}
  \end{itemize}
\end{itemize}

\subsection{License}\label{license}

Tablex is licensed under MIT or Apache-2.0, at your option (see the
files \texttt{\ LICENSE-MIT\ } and \texttt{\ LICENSE-APACHE\ } ).

\subsubsection{How to add}\label{how-to-add}

Copy this into your project and use the import as \texttt{\ tablex\ }

\begin{verbatim}
#import "@preview/tablex:0.0.9"
\end{verbatim}

\includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-copy.svg}

Check the docs for
\href{https://typst.app/docs/reference/scripting/\#packages}{more
information on how to import packages} .

\subsubsection{About}\label{about}

\begin{description}
\tightlist
\item[Author :]
\href{https://github.com/PgBiel}{PgBiel}
\item[License:]
MIT OR Apache-2.0
\item[Current version:]
0.0.9
\item[Last updated:]
October 25, 2024
\item[First released:]
June 29, 2023
\item[Archive size:]
48.1 kB
\href{https://packages.typst.org/preview/tablex-0.0.9.tar.gz}{\pandocbounded{\includesvg[keepaspectratio]{/assets/icons/16-download.svg}}}
\item[Repository:]
\href{https://github.com/PgBiel/typst-tablex}{GitHub}
\end{description}

\subsubsection{Where to report issues?}\label{where-to-report-issues}

This package is a project of PgBiel . Report issues on
\href{https://github.com/PgBiel/typst-tablex}{their repository} . You
can also try to ask for help with this package on the
\href{https://forum.typst.app}{Forum} .

Please report this package to the Typst team using the
\href{https://typst.app/contact}{contact form} if you believe it is a
safety hazard or infringes upon your rights.

\phantomsection\label{versions}
\subsubsection{Version history}\label{version-history}

\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
Version & Release Date \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0.0.9 & October 25, 2024 \\
\href{https://typst.app/universe/package/tablex/0.0.8/}{0.0.8} & January
12, 2024 \\
\href{https://typst.app/universe/package/tablex/0.0.7/}{0.0.7} &
December 19, 2023 \\
\href{https://typst.app/universe/package/tablex/0.0.6/}{0.0.6} & October
21, 2023 \\
\href{https://typst.app/universe/package/tablex/0.0.5/}{0.0.5} & August
19, 2023 \\
\href{https://typst.app/universe/package/tablex/0.0.4/}{0.0.4} & June
29, 2023 \\
\end{longtable}

Typst GmbH did not create this package and cannot guarantee correct
functionality of this package or compatibility with any version of the
Typst compiler or app.
