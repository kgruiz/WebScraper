\title{typst.app/docs/reference/introspection/locate}

\begin{itemize}
\tightlist
\item
  \href{/docs}{\includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-docs-dark.svg}}
\item
  \includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-arrow-right.svg}
\item
  \href{/docs/reference/}{Reference}
\item
  \includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-arrow-right.svg}
\item
  \href{/docs/reference/introspection/}{Introspection}
\item
  \includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-arrow-right.svg}
\item
  \href{/docs/reference/introspection/locate/}{Locate}
\end{itemize}

\section{\texorpdfstring{\texttt{\ locate\ } {{ Contextual
}}}{ locate   Contextual }}\label{summary}

\phantomsection\label{contextual-tooltip}
Contextual functions can only be used when the context is known

Determines the location of an element in the document.

Takes a selector that must match exactly one element and returns that
element\textquotesingle s
\href{/docs/reference/introspection/location/}{\texttt{\ location\ }} .
This location can, in particular, be used to retrieve the physical
\href{/docs/reference/introspection/location/\#definitions-page}{\texttt{\ page\ }}
number and
\href{/docs/reference/introspection/location/\#definitions-position}{\texttt{\ position\ }}
(page, x, y) for that element.

\subsection{Examples}\label{examples}

Locating a specific element:

\begin{verbatim}
#context [
  Introduction is at: \
  #locate(<intro>).position()
]

= Introduction <intro>
\end{verbatim}

\includegraphics[width=5in,height=\textheight,keepaspectratio]{/assets/docs/fizxN7L7L7E8uWpTd8_mMgAAAAAAAAAA.png}

\subsection{Compatibility}\label{compatibility}

In Typst 0.10 and lower, the \texttt{\ locate\ } function took a closure
that made the current location in the document available (like
\href{/docs/reference/introspection/here/}{\texttt{\ here\ }} does now).
This usage pattern is deprecated. Compatibility with the old way will
remain for a while to give package authors time to upgrade. To that
effect, \texttt{\ locate\ } detects whether it received a selector or a
user-defined function and adjusts its semantics accordingly. This
behaviour will be removed in the future.

\subsection{\texorpdfstring{{ Parameters
}}{ Parameters }}\label{parameters}

\phantomsection\label{parameters-tooltip}
Parameters are the inputs to a function. They are specified in
parentheses after the function name.

{ locate } (

{ \href{/docs/reference/foundations/label/}{label}
\href{/docs/reference/foundations/selector/}{selector}
\href{/docs/reference/introspection/location/}{location}
\href{/docs/reference/foundations/function/}{function} }

) -\textgreater{} \href{/docs/reference/foundations/content/}{content}
\href{/docs/reference/introspection/location/}{location}

\subsubsection{\texorpdfstring{\texttt{\ selector\ }}{ selector }}\label{parameters-selector}

\href{/docs/reference/foundations/label/}{label} {or}
\href{/docs/reference/foundations/selector/}{selector} {or}
\href{/docs/reference/introspection/location/}{location} {or}
\href{/docs/reference/foundations/function/}{function}

{Required} {{ Positional }}

\phantomsection\label{parameters-selector-positional-tooltip}
Positional parameters are specified in order, without names.

A selector that should match exactly one element. This element will be
located.

Especially useful in combination with

\begin{itemize}
\tightlist
\item
  \href{/docs/reference/introspection/here/}{\texttt{\ here\ }} to
  locate the current context,
\item
  a
  \href{/docs/reference/introspection/location/}{\texttt{\ location\ }}
  retrieved from some queried element via the
  \href{/docs/reference/foundations/content/\#definitions-location}{\texttt{\ location()\ }}
  method on content.
\end{itemize}

\href{/docs/reference/introspection/here/}{\pandocbounded{\includesvg[keepaspectratio]{/assets/icons/16-arrow-right.svg}}}

{ Here } { Previous page }

\href{/docs/reference/introspection/location/}{\pandocbounded{\includesvg[keepaspectratio]{/assets/icons/16-arrow-right.svg}}}

{ Location } { Next page }
