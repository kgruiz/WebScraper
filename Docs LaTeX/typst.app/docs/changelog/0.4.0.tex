\title{typst.app/docs/changelog/0.4.0}

\begin{itemize}
\tightlist
\item
  \href{/docs}{\includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-docs-dark.svg}}
\item
  \includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-arrow-right.svg}
\item
  \href{/docs/changelog/}{Changelog}
\item
  \includesvg[width=0.16667in,height=0.16667in]{/assets/icons/16-arrow-right.svg}
\item
  \href{/docs/changelog/0.4.0/}{0.4.0}
\end{itemize}

\section{Version 0.4.0 (May 20, 2023)}\label{version-0.4.0-may-20-2023}

\subsection{Footnotes}\label{footnotes}

\begin{itemize}
\tightlist
\item
  Implemented support for footnotes
\item
  The \href{/docs/reference/model/footnote/}{\texttt{\ footnote\ }}
  function inserts a footnote
\item
  The
  \href{/docs/reference/model/footnote/\#definitions-entry}{\texttt{\ footnote.entry\ }}
  function can be used to customize the footnote listing
\item
  The \texttt{\ }{\texttt{\ "chicago-notes"\ }}\texttt{\ }
  \href{/docs/reference/model/cite/\#parameters-style}{citation style}
  is now available
\end{itemize}

\subsection{Documentation}\label{documentation}

\begin{itemize}
\tightlist
\item
  Added a \href{/docs/guides/guide-for-latex-users/}{Guide for LaTeX
  users}
\item
  Now shows default values for optional arguments
\item
  Added richer outlines in "On this Page"
\item
  Added initial support for search keywords: "Table of Contents" will
  now find the \href{/docs/reference/model/outline/}{outline} function.
  Suggestions for more keywords are welcome!
\item
  Fixed issue with search result ranking
\item
  Fixed many more small issues
\end{itemize}

\subsection{Math}\label{math}

\begin{itemize}
\tightlist
\item
  \textbf{Breaking change} : Alignment points ( \texttt{\ \&\ } ) in
  equations now alternate between left and right alignment
\item
  Added support for writing roots with Unicode: For example,
  \texttt{\ }{\texttt{\ \$\ }}\texttt{\ }{\texttt{\ root\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ x+y\ }{\texttt{\ )\ }}\texttt{\ }{\texttt{\ \$\ }}\texttt{\ }
  can now also be written as
  \texttt{\ }{\texttt{\ \$\ }}\texttt{\ }{\texttt{\ âˆš\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ x+y\ }{\texttt{\ )\ }}\texttt{\ }{\texttt{\ \$\ }}\texttt{\ }
\item
  Fixed uneven vertical
  \href{/docs/reference/math/attach/\#functions-attach}{\texttt{\ attachment\ }}
  alignment
\item
  Fixed spacing on decorated elements (e.g., spacing around a
  \href{/docs/reference/math/cancel/}{canceled} operator)
\item
  Fixed styling for stretchable symbols
\item
  Added \texttt{\ tack.r.double\ } , \texttt{\ tack.l.double\ } ,
  \texttt{\ dotless.i\ } and \texttt{\ dotless.j\ }
  \href{/docs/reference/symbols/sym/}{symbols}
\item
  Fixed show rules on symbols (e.g.
  \texttt{\ }{\texttt{\ show\ }}\texttt{\ sym\ }{\texttt{\ .\ }}\texttt{\ }{\texttt{\ tack\ }}\texttt{\ }{\texttt{\ :\ }}\texttt{\ }{\texttt{\ set\ }}\texttt{\ }{\texttt{\ text\ }}\texttt{\ }{\texttt{\ (\ }}\texttt{\ blue\ }{\texttt{\ )\ }}\texttt{\ }
  )
\item
  Fixed missing rename from \texttt{\ ast.op\ } to \texttt{\ ast\ } that
  should have been in the previous release
\end{itemize}

\subsection{Scripting}\label{scripting}

\begin{itemize}
\tightlist
\item
  Added function scopes: A function can now hold related definitions in
  its own scope, similar to a module. The new
  \href{/docs/reference/foundations/assert/\#definitions-eq}{\texttt{\ assert.eq\ }}
  function, for instance, is part of the
  \href{/docs/reference/foundations/assert/}{\texttt{\ assert\ }}
  function\textquotesingle s scope. Note that function scopes are
  currently only available for built-in functions.
\item
  Added
  \href{/docs/reference/foundations/assert/\#definitions-eq}{\texttt{\ assert.eq\ }}
  and
  \href{/docs/reference/foundations/assert/\#definitions-ne}{\texttt{\ assert.ne\ }}
  functions for simpler equality and inequality assertions with more
  helpful error messages
\item
  Exposed \href{/docs/reference/model/list/\#definitions-item}{list} ,
  \href{/docs/reference/model/enum/\#definitions-item}{enum} , and
  \href{/docs/reference/model/terms/\#definitions-item}{term list} items
  in their respective functions\textquotesingle{} scope
\item
  The \texttt{\ at\ } methods on
  \href{/docs/reference/foundations/str/\#definitions-at}{strings} ,
  \href{/docs/reference/foundations/array/\#definitions-at}{arrays} ,
  \href{/docs/reference/foundations/dictionary/\#definitions-at}{dictionaries}
  , and
  \href{/docs/reference/foundations/content/\#definitions-at}{content}
  now support specifying a default value
\item
  Added support for passing a function to
  \href{/docs/reference/foundations/str/\#definitions-replace}{\texttt{\ replace\ }}
  that is called with each match.
\item
  Fixed
  \href{/docs/reference/foundations/str/\#definitions-replace}{replacement}
  strings: They are now inserted completely verbatim instead of
  supporting the previous (unintended) magic dollar syntax for capture
  groups
\item
  Fixed bug with trailing placeholders in destructuring patterns
\item
  Fixed bug with underscore in parameter destructuring
\item
  Fixed crash with nested patterns and when hovering over an invalid
  pattern
\item
  Better error messages when casting to an
  \href{/docs/reference/foundations/int/}{integer} or
  \href{/docs/reference/foundations/float/}{float} fails
\end{itemize}

\subsection{Text and Layout}\label{text-and-layout}

\begin{itemize}
\tightlist
\item
  Implemented sophisticated CJK punctuation adjustment
\item
  Disabled
  \href{/docs/reference/text/text/\#parameters-overhang}{overhang} for
  CJK punctuation
\item
  Added basic translations for Traditional Chinese
\item
  Fixed \href{/docs/reference/text/raw/\#parameters-align}{alignment} of
  text inside raw blocks (centering a raw block, e.g. through a figure,
  will now keep the text itself left-aligned)
\item
  Added support for passing a array instead of a function to configure
  table cell
  \href{/docs/reference/model/table/\#parameters-align}{alignment} and
  \href{/docs/reference/model/table/\#parameters-fill}{fill} per column
\item
  Fixed automatic figure
  \href{/docs/reference/model/figure/\#parameters-kind}{\texttt{\ kind\ }}
  detection
\item
  Made alignment of
  \href{/docs/reference/model/enum/\#parameters-number-align}{enum
  numbers} configurable, defaulting to \texttt{\ end\ }
\item
  Figures can now be made breakable with a show-set rule for blocks in
  figure
\item
  Initial fix for smart quotes in RTL languages
\end{itemize}

\subsection{Export}\label{export}

\begin{itemize}
\tightlist
\item
  Fixed ligatures in PDF export: They are now copyable and searchable
\item
  Exported PDFs now embed ICC profiles for images that have them
\item
  Fixed export of strokes with zero thickness
\end{itemize}

\subsection{Web app}\label{web-app}

\begin{itemize}
\tightlist
\item
  Projects can now contain folders
\item
  Added upload by drag-and-drop into the file panel
\item
  Files from the file panel can now be dragged into the editor to insert
  them into a Typst file
\item
  You can now copy-paste images and other files from your computer
  directly into the editor
\item
  Added a button to resend confirmation email
\item
  Added an option to invert preview colors in dark mode
\item
  Added tips to the loading screen and the Help menu. Feel free to
  propose more!
\item
  Added syntax highlighting for YAML files
\item
  Allowed middle mouse button click on many buttons to navigate into a
  new tab
\item
  Allowed more project names
\item
  Fixed overridden Vim mode keybindings
\item
  Fixed many bugs regarding file upload and more
\end{itemize}

\subsection{Miscellaneous
Improvements}\label{miscellaneous-improvements}

\begin{itemize}
\tightlist
\item
  Improved performance of counters, state, and queries
\item
  Improved incremental parsing for more efficient recompilations
\item
  Added support for \texttt{\ .yaml\ } extension in addition to
  \texttt{\ .yml\ } for bibliographies
\item
  The CLI now emits escape codes only if the output is a TTY
\item
  For users of the \texttt{\ typst\ } crate: The \texttt{\ Document\ }
  is now \texttt{\ Sync\ } again and the \texttt{\ World\ }
  doesn\textquotesingle t have to be
  \texttt{\ \textquotesingle{}static\ } anymore
\end{itemize}

\subsection{Contributors}\label{contributors}

Thanks to everyone who contributed to this release!

\begin{itemize}
\tightlist
\item
  \href{https://github.com/Leedehai}{\includegraphics[width=0.66667in,height=0.66667in]{https://avatars.githubusercontent.com/u/18319900?s=64&v=4}}
\item
  \href{https://github.com/PgBiel}{\includegraphics[width=0.66667in,height=0.66667in]{https://avatars.githubusercontent.com/u/9021226?s=64&v=4}}
\item
  \href{https://github.com/Marmare314}{\includegraphics[width=0.66667in,height=0.66667in]{https://avatars.githubusercontent.com/u/49279081?s=64&v=4}}
\item
  \href{https://github.com/SUPERCILEX}{\includegraphics[width=0.66667in,height=0.66667in]{https://avatars.githubusercontent.com/u/9490724?s=64&v=4}}
\item
  \href{https://github.com/peng1999}{\includegraphics[width=0.66667in,height=0.66667in]{https://avatars.githubusercontent.com/u/12483662?s=64&v=4}}
\item
  \href{https://github.com/sitandr}{\includegraphics[width=0.66667in,height=0.66667in]{https://avatars.githubusercontent.com/u/60141933?s=64&v=4}}
\item
  \href{https://github.com/stevenskevin}{\includegraphics[width=0.66667in,height=0.66667in]{https://avatars.githubusercontent.com/u/48657161?s=64&v=4}}
\item
  \href{https://github.com/AlistairKeiller}{\includegraphics[width=0.66667in,height=0.66667in]{https://avatars.githubusercontent.com/u/43255248?s=64&v=4}}
\item
  \href{https://github.com/HarmoGlace}{\includegraphics[width=0.66667in,height=0.66667in]{https://avatars.githubusercontent.com/u/23212967?s=64&v=4}}
\item
  \href{https://github.com/LaurenzV}{\includegraphics[width=0.66667in,height=0.66667in]{https://avatars.githubusercontent.com/u/47084093?s=64&v=4}}
\item
  \href{https://github.com/MultisampledNight}{\includegraphics[width=0.66667in,height=0.66667in]{https://avatars.githubusercontent.com/u/80128916?s=64&v=4}}
\item
  \href{https://github.com/albertothedev}{\includegraphics[width=0.66667in,height=0.66667in]{https://avatars.githubusercontent.com/u/46131317?s=64&v=4}}
\item
  \href{https://github.com/dvdvgt}{\includegraphics[width=0.66667in,height=0.66667in]{https://avatars.githubusercontent.com/u/40773635?s=64&v=4}}
\item
  \href{https://github.com/emme1444}{\includegraphics[width=0.66667in,height=0.66667in]{https://avatars.githubusercontent.com/u/23585909?s=64&v=4}}
\item
  \href{https://github.com/goggle}{\includegraphics[width=0.66667in,height=0.66667in]{https://avatars.githubusercontent.com/u/1856425?s=64&v=4}}
\item
  \href{https://github.com/jannisko}{\includegraphics[width=0.66667in,height=0.66667in]{https://avatars.githubusercontent.com/u/40455076?s=64&v=4}}
\item
  \href{https://github.com/jassler}{\includegraphics[width=0.66667in,height=0.66667in]{https://avatars.githubusercontent.com/u/24298790?s=64&v=4}}
\item
  \href{https://github.com/johannes-wolf}{\includegraphics[width=0.66667in,height=0.66667in]{https://avatars.githubusercontent.com/u/519002?s=64&v=4}}
\item
  \href{https://github.com/liferooter}{\includegraphics[width=0.66667in,height=0.66667in]{https://avatars.githubusercontent.com/u/54807745?s=64&v=4}}
\item
  \href{https://github.com/maciemesser}{\includegraphics[width=0.66667in,height=0.66667in]{https://avatars.githubusercontent.com/u/34891249?s=64&v=4}}
\item
  \href{https://github.com/mattfbacon}{\includegraphics[width=0.66667in,height=0.66667in]{https://avatars.githubusercontent.com/u/58113890?s=64&v=4}}
\item
  \href{https://github.com/maxwell-thum}{\includegraphics[width=0.66667in,height=0.66667in]{https://avatars.githubusercontent.com/u/119913396?s=64&v=4}}
\item
  \href{https://github.com/maybechris}{\includegraphics[width=0.66667in,height=0.66667in]{https://avatars.githubusercontent.com/u/103339277?s=64&v=4}}
\item
  \href{https://github.com/michidk}{\includegraphics[width=0.66667in,height=0.66667in]{https://avatars.githubusercontent.com/u/3979930?s=64&v=4}}
\item
  \href{https://github.com/naim94a}{\includegraphics[width=0.66667in,height=0.66667in]{https://avatars.githubusercontent.com/u/227396?s=64&v=4}}
\item
  \href{https://github.com/owiecc}{\includegraphics[width=0.66667in,height=0.66667in]{https://avatars.githubusercontent.com/u/6896639?s=64&v=4}}
\item
  \href{https://github.com/pan93412}{\includegraphics[width=0.66667in,height=0.66667in]{https://avatars.githubusercontent.com/u/28441561?s=64&v=4}}
\item
  \href{https://github.com/szdytom}{\includegraphics[width=0.66667in,height=0.66667in]{https://avatars.githubusercontent.com/u/33175397?s=64&v=4}}
\end{itemize}

\href{/docs/changelog/0.5.0/}{\pandocbounded{\includesvg[keepaspectratio]{/assets/icons/16-arrow-right.svg}}}

{ 0.5.0 } { Previous page }

\href{/docs/changelog/0.3.0/}{\pandocbounded{\includesvg[keepaspectratio]{/assets/icons/16-arrow-right.svg}}}

{ 0.3.0 } { Next page }
