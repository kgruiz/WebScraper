<main>
       <!-- Page table of contents -->
       <div class="sidetoc">
        <nav class="pagetoc">
        </nav>
       </div>
       <h1 id="headers">
        <a class="header" href="#headers">
         Headers
        </a>
       </h1>
       <h2 id="hydra-contextual-headers">
        <a class="header" href="#hydra-contextual-headers">
         <code class="hljs">
          <span style="color:var(--fg);">
           hydra
          </span>
         </code>
         : Contextual headers
        </a>
       </h2>
       <p>
        We have discussed in
        <code class="hljs">
         <span style="color:var(--fg);">
          Typst Basics
         </span>
        </code>
        how to get current heading with
        <code class="hljs">
         <span style="color:var(--fg);">
          query(selector(heading).before(here()))
         </span>
        </code>
        for headers. However, this works badly for nested headings with numbering and similar things. For these cases there is
        <code class="hljs">
         <span style="color:var(--fg);">
          hydra
         </span>
        </code>
        :
       </p>
       <div style="margin-bottom: 0.5em">
        <pre style="margin: 0"><code class="language-typ hljs"><span style="color:#859900;">#import </span><span style="color:#839496;">"</span><span style="color:#2aa198;">@preview/hydra:0.5.1</span><span style="color:#839496;">"</span><span style="color:var(--fg);">: hydra
</span><span style="color:var(--fg);">
</span><span style="color:#859900;">#set page</span><span style="color:#657b83;">(</span><span style="color:#268bd2;">height</span><span style="color:var(--fg);">: </span><span style="color:#6c71c4;">10 </span><span style="color:#859900;">* </span><span style="color:#6c71c4;">20pt</span><span style="color:var(--fg);">, </span><span style="color:#268bd2;">margin</span><span style="color:var(--fg);">: </span><span style="color:#657b83;">(</span><span style="color:var(--fg);">y: </span><span style="color:#6c71c4;">4em</span><span style="color:#657b83;">)</span><span style="color:var(--fg);">, </span><span style="color:#268bd2;">numbering</span><span style="color:var(--fg);">: </span><span style="color:#839496;">"</span><span style="color:#2aa198;">1</span><span style="color:#839496;">"</span><span style="color:var(--fg);">, </span><span style="color:#268bd2;">header</span><span style="color:var(--fg);">: context </span><span style="color:#657b83;">{
</span><span style="color:var(--fg);">  </span><span style="color:#859900;">if</span><span style="color:var(--fg);"> calc.</span><span style="color:#859900;">odd</span><span style="color:#657b83;">(</span><span style="color:#859900;">here</span><span style="color:#657b83;">()</span><span style="color:var(--fg);">.</span><span style="color:#859900;">page</span><span style="color:#657b83;">()) {
</span><span style="color:var(--fg);">    </span><span style="color:#859900;">align</span><span style="color:#657b83;">(</span><span style="color:var(--fg);">right, </span><span style="color:#859900;">emph</span><span style="color:#657b83;">(</span><span style="color:#859900;">hydra</span><span style="color:#657b83;">(</span><span style="color:#6c71c4;">1</span><span style="color:#657b83;">)))
</span><span style="color:var(--fg);">  </span><span style="color:#657b83;">} </span><span style="color:#859900;">else </span><span style="color:#657b83;">{
</span><span style="color:var(--fg);">    </span><span style="color:#859900;">align</span><span style="color:#657b83;">(</span><span style="color:var(--fg);">left, </span><span style="color:#859900;">emph</span><span style="color:#657b83;">(</span><span style="color:#859900;">hydra</span><span style="color:#657b83;">(</span><span style="color:#6c71c4;">2</span><span style="color:#657b83;">)))
</span><span style="color:var(--fg);">  </span><span style="color:#657b83;">}
</span><span style="color:var(--fg);">  </span><span style="color:#859900;">line</span><span style="color:#657b83;">(</span><span style="color:#268bd2;">length</span><span style="color:var(--fg);">: </span><span style="color:#6c71c4;">100%</span><span style="color:#657b83;">)
</span><span style="color:#657b83;">})
</span><span style="color:#859900;">#set heading</span><span style="color:#657b83;">(</span><span style="color:#268bd2;">numbering</span><span style="color:var(--fg);">: </span><span style="color:#839496;">"</span><span style="color:#2aa198;">1.1</span><span style="color:#839496;">"</span><span style="color:#657b83;">)
</span><span style="color:#859900;">#show</span><span style="color:var(--fg);"> heading.</span><span style="color:#859900;">where</span><span style="color:#657b83;">(</span><span style="color:#268bd2;">level</span><span style="color:var(--fg);">: </span><span style="color:#6c71c4;">1</span><span style="color:#657b83;">)</span><span style="color:var(--fg);">: it </span><span style="color:#859900;">=&gt; pagebreak</span><span style="color:#657b83;">(</span><span style="color:#268bd2;">weak</span><span style="color:var(--fg);">: </span><span style="color:#b58900;">true</span><span style="color:#657b83;">) </span><span style="color:#859900;">+</span><span style="color:var(--fg);"> it
</span><span style="color:var(--fg);">
</span><span style="color:#b58900;">= </span><span style="color:#cb4b16;">Introduction
</span><span style="color:#b58900;">#lorem</span><span style="color:#657b83;">(</span><span style="color:#6c71c4;">50</span><span style="color:#657b83;">)
</span><span style="color:var(--fg);">
</span><span style="color:#b58900;">= </span><span style="color:#cb4b16;">Content
</span><span style="color:#b58900;">== </span><span style="color:#cb4b16;">First Section
</span><span style="color:#b58900;">#lorem</span><span style="color:#657b83;">(</span><span style="color:#6c71c4;">50</span><span style="color:#657b83;">)
</span><span style="color:#b58900;">== </span><span style="color:#cb4b16;">Second Section
</span><span style="color:#b58900;">#lorem</span><span style="color:#657b83;">(</span><span style="color:#6c71c4;">100</span><span style="color:#657b83;">)</span></code></pre>
        <div style="
                        text-align: center;
                        padding: 0.5em;
                        background: var(--quote-bg);
                        ">
         <img align="middle" alt="Rendered image" src="typst-img/1a1e2d4655c80e3b0cd9cd7db25c191054aac7ff69aa9cf7cda6935041b614ae-1.svg" style="
                        background: white;
                        max-width: 500pt;
                        width: 100%;
                    "/>
        </div>
        <div style="
                        text-align: center;
                        padding: 0.5em;
                        background: var(--quote-bg);
                        ">
         <img align="middle" alt="Rendered image" src="typst-img/1a1e2d4655c80e3b0cd9cd7db25c191054aac7ff69aa9cf7cda6935041b614ae-2.svg" style="
                        background: white;
                        max-width: 500pt;
                        width: 100%;
                    "/>
        </div>
        <div style="
                        text-align: center;
                        padding: 0.5em;
                        background: var(--quote-bg);
                        ">
         <img align="middle" alt="Rendered image" src="typst-img/1a1e2d4655c80e3b0cd9cd7db25c191054aac7ff69aa9cf7cda6935041b614ae-3.svg" style="
                        background: white;
                        max-width: 500pt;
                        width: 100%;
                    "/>
        </div>
        <div style="
                        text-align: center;
                        padding: 0.5em;
                        background: var(--quote-bg);
                        ">
         <img align="middle" alt="Rendered image" src="typst-img/1a1e2d4655c80e3b0cd9cd7db25c191054aac7ff69aa9cf7cda6935041b614ae-4.svg" style="
                        background: white;
                        max-width: 500pt;
                        width: 100%;
                    "/>
        </div>
       </div>
      </main>