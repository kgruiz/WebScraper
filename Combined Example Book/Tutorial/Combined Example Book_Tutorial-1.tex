\title{sitandr.github.io/typst-examples-book/book/basics/tutorial/functions}

\section{\texorpdfstring{\hyperref[functions]{Functions}}{Functions}}\label{functions}

\subsection{\texorpdfstring{\hyperref[functions-1]{Functions}}{Functions}}\label{functions-1}

\begin{verbatim}
Okay, let's now move to more complex things.

First of all, there are *lots of magic* in Typst.
And it major part of it is called "scripting".

To go to scripting mode, type `#` and *some function name*
after that. We will start with _something dull_:

#lorem(50)

_That *function* just generated 50 "Lorem Ipsum" words!_
\end{verbatim}

\pandocbounded{\includesvg[keepaspectratio]{typst-img/036fce36d10e06e8e41be8e77d7d5672f5dfc82c57e7c3ba9b8060d0822ca115-1.svg}}

\subsection{\texorpdfstring{\hyperref[more-functions]{More
functions}}{More functions}}\label{more-functions}

\begin{verbatim}
#underline[functions can do everything!]

#text(orange)[L]ike #text(size: 0.8em)[Really] #sub[E]verything!

#figure(
  caption: [
    This is a screenshot from one of first theses written in Typst. \
    _All these things are written with #text(blue)[custom functions] too._
  ],
  image("../boxes.png", width: 80%)
)

In fact, you can #strong[forget] about markup
and #emph[just write] functions everywhere!

#list[
  All that markup is just a #emph[syntax sugar] over functions!
]
\end{verbatim}

\pandocbounded{\includesvg[keepaspectratio]{typst-img/455e15e83c25259f932178d68517cc012432cb17d072e60c659169470fe191ce-1.svg}}

\subsection{\texorpdfstring{\hyperref[how-to-call-functions]{How to call
functions}}{How to call functions}}\label{how-to-call-functions}

\begin{verbatim}
First, start with `#`. Then write the name.
Finally, write some parentheses and maybe something inside.

You can navigate lots of built-in functions
in #link("https://typst.app/docs/reference/")[Official Reference].

#quote(block: true, attribution: "Typst Examples Book")[
  That's right, links, quotes and lots of
  other document elements are created with functions.
]
\end{verbatim}

\pandocbounded{\includesvg[keepaspectratio]{typst-img/4c63fde73bb1ad0afe1332ab68c5b540ec786c6352a76860f4398fec32034cf0-1.svg}}

\subsection{\texorpdfstring{\hyperref[function-arguments]{Function
arguments}}{Function arguments}}\label{function-arguments}

\begin{verbatim}
There are _two types_ of function arguments:

+ *Positional.* Like `50` in `lorem(50)`.
  Just write them in parentheses and it will be okay.
  If you have many, use commas.
+ *Named.* Like in `#quote(attribution: "Whoever")`.
  Write the value after a name and a colon.

If argument is named, it has some _default value_.
To find out what it is, see
#link("https://typst.app/docs/reference/")[Official Typst Reference].
\end{verbatim}

\pandocbounded{\includesvg[keepaspectratio]{typst-img/d66fb474260490595a207f06c687efcc85808701c39c2a6e8b686bc22ffde279-1.svg}}

\subsection{\texorpdfstring{\hyperref[content]{Content}}{Content}}\label{content}

\begin{verbatim}
The most "universal" type in Typst language is *content*.
Everything you write in the document becomes content.

#[
  But you can explicitly create it with
  _scripting mode_ and *square brackets*.

  There, in square brackets, you can use any markup
  functions or whatever you want.
]
\end{verbatim}

\pandocbounded{\includesvg[keepaspectratio]{typst-img/faf9d7cddd55e68f84d212013a52a724c2ad763f18d83221a99bbd380410d7d1-1.svg}}

\subsection{\texorpdfstring{\hyperref[markup-and-code-modes]{Markup and
code modes}}{Markup and code modes}}\label{markup-and-code-modes}

\begin{verbatim}
When you use `#`, you are "switching" to code mode.
When you use `[]`, you turn back:

// +-- going from markup (the default mode) to scripting for that function
// |                 +-- scripting mode: calling `text`, the last argument is markup
// |     first arg   |
// v     vvvvvvvvv   vvvv
   #rect(width: 5cm, text(red)[hello *world*])
//  ^^^^                       ^^^^^^^^^^^^^ just a markup argument for `text`
//  |
//  +-- calling `rect` in scripting mode, with two arguments: width and other content
\end{verbatim}

\pandocbounded{\includesvg[keepaspectratio]{typst-img/0cabe3da1eb49f805535fb1d7e34a0d6eb1a6c49227b0be98634c6965e892185-1.svg}}

\subsection{\texorpdfstring{\hyperref[passing-content-into-functions]{Passing
content into
functions}}{Passing content into functions}}\label{passing-content-into-functions}

\begin{verbatim}
So what are these square brackets after functions?

If you *write content right after
function, it will be passed as positional argument there*.

#quote(block: true)[
  So #text(red)[_that_] allows me to write
  _literally anything in things
  I pass to #underline[functions]!_
]
\end{verbatim}

\pandocbounded{\includesvg[keepaspectratio]{typst-img/686d2b2a361a60244452ce53bd37ebef0699e92cf962c477bfb62bafdc0f7241-1.svg}}

\subsection{\texorpdfstring{\hyperref[passing-content-part-ii]{Passing
content, part
II}}{Passing content, part II}}\label{passing-content-part-ii}

\begin{verbatim}
So, just to make it clear, when I write

```typ
- #text(red)[red text]
- #text([red text], red)
- #text("red text", red)
//      ^        ^
// Quotes there mean a plain string, not a content!
// This is just text.
```

It all will result in a #text([red text], red).
\end{verbatim}

\pandocbounded{\includesvg[keepaspectratio]{typst-img/4686939b6d0932f1ebebac4111d8f02919dbc16446def7855c521d8dbf293689-1.svg}}


\title{sitandr.github.io/typst-examples-book/book/basics/tutorial/markup}

\section{\texorpdfstring{\hyperref[markup-language]{Markup
language}}{Markup language}}\label{markup-language}

\subsection{\texorpdfstring{\hyperref[starting]{Starting}}{Starting}}\label{starting}

\begin{verbatim}
Starting typing in Typst is easy.
You don't need packages or other weird things for most of things.

Blank line will move text to a new paragraph.

Btw, you can use any language and unicode symbols
without any problems as long as the font supports it: √ü√ß≈ìÃÉ…õÃÉ√∏‚àÄŒ±Œ≤—ë—ã·ÉêüòÜ‚Ä¶
\end{verbatim}

\pandocbounded{\includesvg[keepaspectratio]{typst-img/ee9f64251c99c7aeaaf6fa1d5bc7e907c2d51a34aa38126544d515ca197ca2a8-1.svg}}

\subsection{\texorpdfstring{\hyperref[markup]{Markup}}{Markup}}\label{markup}

\begin{verbatim}
= Markup

This was a heading. Number of `=` in front of name corresponds to heading level.

== Second-level heading

Okay, let's move to _emphasis_ and *bold* text.

Markup syntax is generally similar to
`AsciiDoc` (this was `raw` for monospace text!)
\end{verbatim}

\pandocbounded{\includesvg[keepaspectratio]{typst-img/fa8b95f9b15083387a29c11d17efca9873b8e778643b1b5079aa137891d01c8d-1.svg}}

\subsection{\texorpdfstring{\hyperref[new-lines--escaping]{New lines \&
Escaping}}{New lines \& Escaping}}\label{new-lines--escaping}

\begin{verbatim}
You can break \
line anywhere you \
want using "\\" symbol.

Also you can use that symbol to
escape \_all the symbols you want\_,
if you don't want it to be interpreted as markup
or other special symbols.
\end{verbatim}

\pandocbounded{\includesvg[keepaspectratio]{typst-img/4dabdee2a61e7d10773d51772dba3665271a09d4d5df4a8f66dd80589f0bcd7a-1.svg}}

\subsection{\texorpdfstring{\hyperref[comments--codeblocks]{Comments \&
codeblocks}}{Comments \& codeblocks}}\label{comments--codeblocks}

\begin{verbatim}
You can write comments with `//` and `/* comment */`:
// Like this
/* Or even like
this */

```typ
Just in case you didn't read source,
this is how it is written:

// Like this
/* Or even like
this */

By the way, I'm writing it all in a _fenced code block_ with *syntax highlighting*!
```
\end{verbatim}

\pandocbounded{\includesvg[keepaspectratio]{typst-img/a481d12b3ed0bbe2d9db6cc4b4a1237cba9936de83333254dfce8702832db125-1.svg}}

\subsection{\texorpdfstring{\hyperref[smart-quotes]{Smart
quotes}}{Smart quotes}}\label{smart-quotes}

\begin{verbatim}
== What else?

There are not much things in basic "markup" syntax,
but we will see much more interesting things very soon!
I hope you noticed auto-matched "smart quotes" there.
\end{verbatim}

\pandocbounded{\includesvg[keepaspectratio]{typst-img/89114a6e9af45c2eb9db2ef44d0e5ba41e31bf816e72803bd1a9a02120e69fc3-1.svg}}

\subsection{\texorpdfstring{\hyperref[lists]{Lists}}{Lists}}\label{lists}

\begin{verbatim}
- Writing lists in a simple way is great.
- Nothing complex, start your points with `-`
  and this will become a list.
  - Indented lists are created via indentation.

+ Numbered lists start with `+` instead of `-`.
+ There is no alternative markup syntax for lists
+ So just remember `-` and `+`, all other symbols
  wouldn't work in an unintended way.
  + That is a general property of Typst's markup.
  + Unlike Markdown, there is only one way
    to write something with it.
\end{verbatim}

\pandocbounded{\includesvg[keepaspectratio]{typst-img/ad4e424e067a4362e9f145c0c4ba4b7c1b65e17e7d0e7631b6836841607ef85e-1.svg}}

\textbf{Notice:}

\begin{verbatim}
Typst numbered lists differ from markdown-like syntax for lists. If you write them by hand, numbering is preserved:

1. Apple
1. Orange
1. Peach
\end{verbatim}

\pandocbounded{\includesvg[keepaspectratio]{typst-img/477695c86becc136dceb144e90c0acd2b75faa2a49743f8673d09974b71da324-1.svg}}

\subsection{\texorpdfstring{\hyperref[math]{Math}}{Math}}\label{math}

\begin{verbatim}
I will just mention math ($a + b/c = sum_i x^i$)
is possible and quite pretty there:

$
7.32 beta +
  sum_(i=0)^nabla
    (Q_i (a_i - epsilon)) / 2
$

To learn more about math, see corresponding chapter.
\end{verbatim}

\pandocbounded{\includesvg[keepaspectratio]{typst-img/12cc318c8438cd8e91706013bbd53fee5ee004620a63348cfe2d7dcc3b8a19d4-1.svg}}


\title{sitandr.github.io/typst-examples-book/book/basics/tutorial/templates}

\section{\texorpdfstring{\hyperref[templates]{Templates}}{Templates}}\label{templates}

\subsection{\texorpdfstring{\hyperref[templates-1]{Templates}}{Templates}}\label{templates-1}

If you want to reuse styling in other files, you can use the
\emph{template} idiom. Because \texttt{\ }{\texttt{\ set\ }}\texttt{\ }
and \texttt{\ }{\texttt{\ show\ }}\texttt{\ } rules are only active in
their current scope, they will not affect content in a file you imported
your file into. But functions can circumvent this in a predictable way:

\begin{verbatim}
// define a function that:
// - takes content
// - applies styling to it
// - returns the styled content
#let apply-template(body) = [
  #show heading.where(level: 1): emph
  #set heading(numbering: "1.1")
  // ...
  #body
]
\end{verbatim}

This is equivalent to:

\begin{verbatim}
// we can reduce the number of hashes needed here by using scripting mode
// same as above but we exchanged `[...]` for `{...}` to switch from markup
// into scripting mode
#let apply-template(body) = {
  show heading.where(level: 1): emph
  set heading(numbering: "1.1")
  // ...
  body
}
\end{verbatim}

Then in your main file:

\begin{verbatim}
#import "template.typ": apply-template
#show: apply-template
\end{verbatim}

\emph{This will apply a "template" function to the rest of your
document!}

\subsubsection{\texorpdfstring{\hyperref[passing-arguments]{Passing
arguments}}{Passing arguments}}\label{passing-arguments}

\begin{verbatim}
// add optional named arguments
#let apply-template(body, name: "My document") = {
  show heading.where(level: 1): emph
  set heading(numbering: "1.1")

  align(center, text(name, size: 2em))

  body
}
\end{verbatim}

Then, in template file:

\begin{verbatim}
#import "template.typ": apply-template

// `func.with(..)` applies the arguments to the function and returns the new
// function with those defaults applied
#show: apply-template.with(name: "Report")

// it is functionally the same as this
#let new-template(..args) = apply-template(name: "Report", ..args)
#show: new-template
\end{verbatim}

Writing templates is fairly easy if you understand
\href{../scripting/index.html}{scripting} .

See more information about writing templates in
\href{https://typst.app/docs/tutorial/making-a-template/}{Official
Tutorial} .

There is no official repository for templates yet, but there are a
plenty community ones in
\href{https://github.com/qjcg/awesome-typst?ysclid=lj8pur1am7431908794\#general}{awesome-typst}
.


\title{sitandr.github.io/typst-examples-book/book/basics/tutorial/advanced_styling}

\section{\texorpdfstring{\hyperref[advanced-styling]{Advanced
styling}}{Advanced styling}}\label{advanced-styling}

\subsection{\texorpdfstring{\hyperref[the-show-rule]{The
\texttt{\ }{\texttt{\ show\ }}\texttt{\ }
rule}}{The   show   rule}}\label{the-show-rule}

\begin{verbatim}
Advanced styling comes with another rule. The _`show` rule_.

Now please compare the source code and the output.

#show "Be careful": strong[Play]

This is a very powerful thing, sometimes even too powerful.
Be careful with it.

#show "it is holding me hostage": text(green)[I'm fine]

Wait, what? I told you "Be careful!", not "Play!".

Help, it is holding me hostage.
\end{verbatim}

\pandocbounded{\includesvg[keepaspectratio]{typst-img/8a9ac38769d4ac7b42a2755047d0cd5a6404ad26e9e7f5b72b6984fa67abadf9-1.svg}}

\subsection{\texorpdfstring{\hyperref[now-a-bit-more-serious]{Now a bit
more serious}}{Now a bit more serious}}\label{now-a-bit-more-serious}

\begin{verbatim}
Show rule is a powerful thing that takes a _selector_
and what to apply to it. After that it will apply to
all elements it can find.

It may be extremely useful like that:

#show emph: set text(blue)

Now if I want to _emphasize_ something,
it will be both _emphasized_ and _blue_.
Isn't that cool?
\end{verbatim}

\pandocbounded{\includesvg[keepaspectratio]{typst-img/657acaf5c4ca684408bbc6fe0dec4c74b9fa58d24805ec975be1382aa7bf959c-1.svg}}

\subsection{\texorpdfstring{\hyperref[about-syntax]{About
syntax}}{About syntax}}\label{about-syntax}

\begin{verbatim}
Sometimes show rules may be confusing. They may seem very diverse, but in fact they all are quite the same! So

// actually, this is the same as
// redify = text.with(red)
// `with` creates a new function with this argument already set
#let redify(string) = text(red, string)

// and this is the same as
// framify = rect.with(stroke: orange)
#let framify(object) = rect(object, stroke: orange)

// set default color of text blue for all following text
#show: set text(blue)

Blue text.

// wrap everything into a frame
#show: framify

Framed text.

// it's the same, just creating new function that calls framify
#show: a => framify(a)

Double-framed.

// apply function to `the`
#show "the": redify
// set text color for all the headings
#show heading: set text(purple)

= Conclusion

All these rules do basically the same!
\end{verbatim}

\pandocbounded{\includesvg[keepaspectratio]{typst-img/2dfcde68345d3fa276b99a1f308343118c6eeae09fd106389a8fc488d7244ebb-1.svg}}

\subsection{\texorpdfstring{\hyperref[blocks]{Blocks}}{Blocks}}\label{blocks}

One of the most important usages is that you can set up all spacing
using blocks. Like every element with text contains text that can be set
up, every \emph{block element} contains blocks:

\begin{verbatim}
Text before
= Heading
Text after

#show heading: set block(spacing: 0.5em)

Text before
= Heading
Text after
\end{verbatim}

\pandocbounded{\includesvg[keepaspectratio]{typst-img/7891207932d0918c88b5804b3a7ee051ce5dda93081f8999eb0f7ebaee48400a-1.svg}}

\subsection{\texorpdfstring{\hyperref[selector]{Selector}}{Selector}}\label{selector}

\begin{verbatim}
So show rule can accept _selectors_.

There are lots of different selector types,
for example

- element functions
- strings
- regular expressions
- field filters

Let's see example of the latter:

#show heading.where(level: 1): set align(center)

= Title
== Small title

Of course, you can set align by hand,
no need to use show rules
(but they are very handy!):

#align(center)[== Centered small title]
\end{verbatim}

\pandocbounded{\includesvg[keepaspectratio]{typst-img/f41f337dd75b55211dd8d16e2682132c1ffb1ef19f774ba6cafc94cae090ec75-1.svg}}

\subsection{\texorpdfstring{\hyperref[custom-formatting]{Custom
formatting}}{Custom formatting}}\label{custom-formatting}

\begin{verbatim}
Let's try now writing custom functions.
It is very easy, see yourself:

// "it" is a heading, we take it and output things in braces
#show heading: it => {
  // center it
  set align(center)
  // set size and weight
  set text(12pt, weight: "regular")
  // see more about blocks and boxes
  // in corresponding chapter
  block(smallcaps(it.body))
}

= Smallcaps heading
\end{verbatim}

\pandocbounded{\includesvg[keepaspectratio]{typst-img/a5c37bce3cf9a077a4eb62a4d95f89584b5ef8acee279b81de6019d0e5768ba0-1.svg}}

\subsection{\texorpdfstring{\hyperref[setting-spacing]{Setting
spacing}}{Setting spacing}}\label{setting-spacing}

TODO: explain block spacing for common elements

\subsection{\texorpdfstring{\hyperref[formatting-to-get-an-article-look]{Formatting
to get an "article
look"}}{Formatting to get an "article look"}}\label{formatting-to-get-an-article-look}

\begin{verbatim}
#set page(
  // Header is that small thing on top
  header: align(
    right + horizon,
    [Some header there]
  ),
  height: 12cm
)

#align(center, text(17pt)[
  *Important title*
])

#grid(
  columns: (1fr, 1fr),
  align(center)[
    Some author \
    Some Institute \
    #link("mailto:some@mail.edu")
  ],
  align(center)[
    Another author \
    Another Institute \
    #link("mailto:another@mail.edu")
  ]
)

Now let's split text into two columns:

#show: rest => columns(2, rest)

#show heading.where(
  level: 1
): it => block(width: 100%)[
  #set align(center)
  #set text(12pt, weight: "regular")
  #smallcaps(it.body)
]

#show heading.where(
  level: 2
): it => text(
  size: 11pt,
  weight: "regular",
  style: "italic",
  it.body + [.],
)

// Now let's fill it with words:

= Heading
== Small heading
#lorem(10)
== Second subchapter
#lorem(10)
= Second heading
#lorem(40)

== Second subchapter
#lorem(40)
\end{verbatim}

\pandocbounded{\includesvg[keepaspectratio]{typst-img/76ee0cca809299df178ec9d94371c01031d1808a700b39deac5245dd6b83157f-1.svg}}


\title{sitandr.github.io/typst-examples-book/book/basics/tutorial/index}

\section{\texorpdfstring{\hyperref[tutorial-by-examples]{Tutorial by
Examples}}{Tutorial by Examples}}\label{tutorial-by-examples}

The first section of Typst Basics is very similar to
\href{https://typst.app/docs/tutorial/}{Official Tutorial} , with more
specialized examples and less words. It is \emph{highly recommended to
read the official tutorial anyway} .


\title{sitandr.github.io/typst-examples-book/book/basics/tutorial/basic_styling}

\section{\texorpdfstring{\hyperref[basic-styling]{Basic
styling}}{Basic styling}}\label{basic-styling}

\subsection{\texorpdfstring{\hyperref[set-rule]{\texttt{\ }{\texttt{\ Set\ }}\texttt{\ }
rule}}{  Set   rule}}\label{set-rule}

\begin{verbatim}
#set page(width: 15cm, margin: (left: 4cm, right: 4cm))

That was great, but using functions everywhere, especially
with many arguments every time is awfully cumbersome.

That's why Typst has _rules_. No, not for you, for the document.

#set par(justify: true)

And the first rule we will consider there is `set` rule.
As you see, I've just used it on `par` (which is short from paragraph)
and now all paragraphs became _justified_.

It will apply to all paragraphs after the rule,
but will work only in it's _scope_ (we will discuss them later).

#par(justify: false)[
  Of course, you can override a `set` rule.
  This rule just sets the _default value_
  of an argument of an element.
]

By the way, at first line of this snippet
I've reduced page size to make justifying more visible,
also increasing margins to add blank space on left and right.
\end{verbatim}

\pandocbounded{\includesvg[keepaspectratio]{typst-img/cee42a8b1274afa36891438d4b1611eb55b2cd8bb4546df47128a7d3eb66653b-1.svg}}

\subsection{\texorpdfstring{\hyperref[a-bit-about-length-units]{A bit
about length
units}}{A bit about length units}}\label{a-bit-about-length-units}

\begin{verbatim}
Before we continue with rules, we should talk about length. There are several absolute length units in Typst:

#set rect(height: 1em)

#table(
  columns: 2,
  [Points], rect(width: 72pt),
  [Millimeters], rect(width: 25.4mm),
  [Centimeters], rect(width: 2.54cm),
  [Inches], rect(width: 1in),
  [Relative to font size], rect(width: 6.5em)
)

`1 em` = current font size. \
It is a very convenient unit,
so we are going to use it a lot
\end{verbatim}

\pandocbounded{\includesvg[keepaspectratio]{typst-img/5f8abc94a3d9df0e16f78c258e7f487d5698b4c96491300b3a48ad8e685534bc-1.svg}}

\subsection{\texorpdfstring{\hyperref[setting-something-else]{Setting
something else}}{Setting something else}}\label{setting-something-else}

Of course, you can use \texttt{\ }{\texttt{\ set\ }}\texttt{\ } rule
with all built-in functions and all their named arguments to make some
argument "default".

For example, let\textquotesingle s make all quotes in this snippet
authored by the book:

\begin{verbatim}
#set quote(block: true, attribution: [Typst Examples Book])

#quote[
  Typst is great!
]

#quote[
  The problem with quotes on the internet is
  that it is hard to verify their authenticity.
]
\end{verbatim}

\pandocbounded{\includesvg[keepaspectratio]{typst-img/c34c25cad05b7c20b6e0f146002886a1de65b61f48666cfec3d3494bd694a641-1.svg}}

\subsection{\texorpdfstring{\hyperref[opinionated-defaults]{Opinionated
defaults}}{Opinionated defaults}}\label{opinionated-defaults}

That allows you to set Typst default styling as you want it:

\begin{verbatim}
#set par(justify: true)
#set list(indent: 1em)
#set enum(indent: 1em)
#set page(numbering: "1")

- List item
- List item

+ Enum item
+ Enum item
\end{verbatim}

\pandocbounded{\includesvg[keepaspectratio]{typst-img/773d68bc55eb89f119ad07b882eae5fd31868d8a1bb3d4963573ec80fb1c7466-1.svg}}

Don\textquotesingle t complain about bad defaults!
\texttt{\ }{\texttt{\ Set\ }}\texttt{\ } your own.

\subsection{\texorpdfstring{\hyperref[numbering]{Numbering}}{Numbering}}\label{numbering}

\begin{verbatim}
= Numbering

Some of elements have a property called "numbering".
They accept so-called "numbering patterns" and
are very useful with set rules. Let's see what I mean.

#set heading(numbering: "I.1:")

= This is first level
= Another first
== Second
== Another second
=== Now third
== And second again
= Now returning to first
= These are actual romanian numerals
\end{verbatim}

\pandocbounded{\includesvg[keepaspectratio]{typst-img/39fb958032888b1e41da849152fed716b6f590eed3ea975b051ab786fac4ce5c-1.svg}}

Of course, there are lots of other cool properties that can be
\emph{set} , so feel free to dive into
\href{https://typst.app/docs/reference/}{Official Reference} and explore
them!

And now we are moving into something much more interesting\ldots{}


