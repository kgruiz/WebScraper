<main>
    <div id="banner" style="--banner-accent:#000000;--banner-primary:#000000;--banner-secondary:#000000;--banner-tertiary:#565565;--banner-background:#eff0f3">
     <div class="package-icon" role="img">
     </div>
     <div>
      <div class="title">
       <h1 class="name">
        tabut
       </h1>
       <span class="version">
        1.0.2
       </span>
      </div>
      <p class="description">
       Display data as tables.
      </p>
     </div>
    </div>
    <div class="inner-grid">
     <section id="readme">
      <div>
       <p>
        <em>
         Powerful, Simple, Concise
        </em>
       </p>
       <p>
        A Typst plugin for turning data into tables.
       </p>
       <h2>
        Outline
       </h2>
       <ul>
        <li>
         <p>
          <a href="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/#examples" rel="nofollow ugc" target="_blank">
           Examples
          </a>
         </p>
         <ul>
          <li>
           <p>
            <a href="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/#input-format-and-creation" rel="nofollow ugc" target="_blank">
             Input Format and Creation
            </a>
           </p>
          </li>
          <li>
           <p>
            <a href="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/#basic-table" rel="nofollow ugc" target="_blank">
             Basic Table
            </a>
           </p>
          </li>
          <li>
           <p>
            <a href="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/#table-styling" rel="nofollow ugc" target="_blank">
             Table Styling
            </a>
           </p>
          </li>
          <li>
           <p>
            <a href="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/#header-formatting" rel="nofollow ugc" target="_blank">
             Header Formatting
            </a>
           </p>
          </li>
          <li>
           <p>
            <a href="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/#remove-headers" rel="nofollow ugc" target="_blank">
             Remove Headers
            </a>
           </p>
          </li>
          <li>
           <p>
            <a href="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/#cell-expressions-and-formatting" rel="nofollow ugc" target="_blank">
             Cell Expressions and Formatting
            </a>
           </p>
          </li>
          <li>
           <p>
            <a href="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/#index" rel="nofollow ugc" target="_blank">
             Index
            </a>
           </p>
          </li>
          <li>
           <p>
            <a href="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/#transpose" rel="nofollow ugc" target="_blank">
             Transpose
            </a>
           </p>
          </li>
          <li>
           <p>
            <a href="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/#alignment" rel="nofollow ugc" target="_blank">
             Alignment
            </a>
           </p>
          </li>
          <li>
           <p>
            <a href="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/#column-width" rel="nofollow ugc" target="_blank">
             Column Width
            </a>
           </p>
          </li>
          <li>
           <p>
            <a href="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/#get-cells-only" rel="nofollow ugc" target="_blank">
             Get Cells Only
            </a>
           </p>
          </li>
          <li>
           <p>
            <a href="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/#use-with-tablex" rel="nofollow ugc" target="_blank">
             Use with Tablex
            </a>
           </p>
          </li>
         </ul>
        </li>
        <li>
         <p>
          <a href="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/#data-operation-examples" rel="nofollow ugc" target="_blank">
           Data Operation Examples
          </a>
         </p>
         <ul>
          <li>
           <p>
            <a href="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/#csv-data" rel="nofollow ugc" target="_blank">
             CSV Data
            </a>
           </p>
          </li>
          <li>
           <p>
            <a href="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/#slice" rel="nofollow ugc" target="_blank">
             Slice
            </a>
           </p>
          </li>
          <li>
           <p>
            <a href="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/#sorting-and-reversing" rel="nofollow ugc" target="_blank">
             Sorting and Reversing
            </a>
           </p>
          </li>
          <li>
           <p>
            <a href="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/#filter" rel="nofollow ugc" target="_blank">
             Filter
            </a>
           </p>
          </li>
          <li>
           <p>
            <a href="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/#aggregation-using-map-and-sum" rel="nofollow ugc" target="_blank">
             Aggregation using Map and Sum
            </a>
           </p>
          </li>
          <li>
           <p>
            <a href="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/#grouping" rel="nofollow ugc" target="_blank">
             Grouping
            </a>
           </p>
          </li>
         </ul>
        </li>
        <li>
         <p>
          <a href="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/#function-definitions" rel="nofollow ugc" target="_blank">
           Function Definitions
          </a>
         </p>
         <ul>
          <li>
           <p>
            <a href="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/#tabut" rel="nofollow ugc" target="_blank">
             <code>
              tabut
             </code>
            </a>
           </p>
          </li>
          <li>
           <p>
            <a href="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/#tabut-cells" rel="nofollow ugc" target="_blank">
             <code>
              tabut-cells
             </code>
            </a>
           </p>
          </li>
          <li>
           <p>
            <a href="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/#rows-to-records" rel="nofollow ugc" target="_blank">
             <code>
              rows-to-records
             </code>
            </a>
           </p>
          </li>
          <li>
           <p>
            <a href="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/#records-from-csv" rel="nofollow ugc" target="_blank">
             <code>
              records-from-csv
             </code>
            </a>
           </p>
          </li>
          <li>
           <p>
            <a href="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/#group" rel="nofollow ugc" target="_blank">
             <code>
              group
             </code>
            </a>
           </p>
          </li>
         </ul>
        </li>
       </ul>
      </div>
      <div>
      </div>
      <div>
       <h2>
        Input Format and Creation
        <span id="input-format-and-creation">
        </span>
       </h2>
       <p>
        The
        <code>
         tabut
        </code>
        function takes input in ârecordâ format, an array of dictionaries, with each dictionary representing a single âobjectâ or ârecordâ.
       </p>
       <p>
        In the example below, each record is a listing for an office supply product.
       </p>
       <div>
        <pre><code class="language-typ"><code><span class="typ-key">#</span><span class="typ-key">let</span> supplies <span class="typ-op">=</span> <span class="typ-punct">(</span>
  <span class="typ-punct">(</span>name<span class="typ-punct">:</span> <span class="typ-str">"Notebook"</span><span class="typ-punct">,</span> price<span class="typ-punct">:</span> <span class="typ-num">3.49</span><span class="typ-punct">,</span> quantity<span class="typ-punct">:</span> <span class="typ-num">5</span><span class="typ-punct">)</span><span class="typ-punct">,</span>
  <span class="typ-punct">(</span>name<span class="typ-punct">:</span> <span class="typ-str">"Ballpoint Pens"</span><span class="typ-punct">,</span> price<span class="typ-punct">:</span> <span class="typ-num">5.99</span><span class="typ-punct">,</span> quantity<span class="typ-punct">:</span> <span class="typ-num">2</span><span class="typ-punct">)</span><span class="typ-punct">,</span>
  <span class="typ-punct">(</span>name<span class="typ-punct">:</span> <span class="typ-str">"Printer Paper"</span><span class="typ-punct">,</span> price<span class="typ-punct">:</span> <span class="typ-num">6.99</span><span class="typ-punct">,</span> quantity<span class="typ-punct">:</span> <span class="typ-num">3</span><span class="typ-punct">)</span><span class="typ-punct">,</span>
<span class="typ-punct">)</span>
</code></code></pre>
       </div>
      </div>
      <div>
       <h2>
        Basic Table
        <span id="basic-table">
        </span>
       </h2>
       <p>
        Now create a basic table from the data.
       </p>
       <div>
        <pre><code class="language-typ"><code><span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"@preview/tabut:1.0.2"</span><span class="typ-punct">:</span> tabut
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"example-data/supplies.typ"</span><span class="typ-punct">:</span> supplies

<span class="typ-func">#</span><span class="typ-func">tabut</span><span class="typ-punct">(</span>
  supplies<span class="typ-punct">,</span> <span class="typ-comment">// the source of the data used to generate the table</span>
  <span class="typ-punct">(</span> <span class="typ-comment">// column definitions</span>
    <span class="typ-punct">(</span>
      header<span class="typ-punct">:</span> <span class="typ-punct">[</span>Name<span class="typ-punct">]</span><span class="typ-punct">,</span> <span class="typ-comment">// label, takes content.</span>
      func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>name <span class="typ-comment">// generates the cell content.</span>
    <span class="typ-punct">)</span><span class="typ-punct">,</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span>Price<span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>price<span class="typ-punct">)</span><span class="typ-punct">,</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span>Quantity<span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>quantity<span class="typ-punct">)</span><span class="typ-punct">,</span> 
  <span class="typ-punct">)</span>
<span class="typ-punct">)</span>
</code></code></pre>
       </div>
       <div>
        <p>
         <img src="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/doc/compiled-snippets/basic.svg"/>
        </p>
       </div>
       <p>
        <code>
         funct
        </code>
        takes a function which generates content for a given cell corrosponding to the defined column for each record.
        <code>
         r
        </code>
        is the record, so
        <code>
         r =&gt; r.name
        </code>
        returns the
        <code>
         name
        </code>
        property of each record in the input data if it has one.
       </p>
      </div>
      <div>
       <p>
        The philosphy of
        <code>
         tabut
        </code>
        is that the display of data should be simple and clearly defined, therefore each column and itâs content and formatting should be defined within a single clear column defintion. One consequence is you can comment out, remove or move, any column easily, for example:
       </p>
       <div>
        <pre><code class="language-typ"><code><span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"@preview/tabut:1.0.2"</span><span class="typ-punct">:</span> tabut
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"example-data/supplies.typ"</span><span class="typ-punct">:</span> supplies

<span class="typ-func">#</span><span class="typ-func">tabut</span><span class="typ-punct">(</span>
  supplies<span class="typ-punct">,</span>
  <span class="typ-punct">(</span>
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span>Price<span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>price<span class="typ-punct">)</span><span class="typ-punct">,</span> <span class="typ-comment">// This column is moved to the front</span>
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span>Name<span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>name<span class="typ-punct">)</span><span class="typ-punct">,</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span>Name 2<span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>name<span class="typ-punct">)</span><span class="typ-punct">,</span> <span class="typ-comment">// copied</span>
    <span class="typ-comment">// (header: [Quantity], func: r =&gt; r.quantity), // removed via comment</span>
  <span class="typ-punct">)</span>
<span class="typ-punct">)</span>
</code></code></pre>
       </div>
       <div>
        <p>
         <img src="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/doc/compiled-snippets/rearrange.svg"/>
        </p>
       </div>
      </div>
      <div>
       <h2>
        Table Styling
        <span id="table-styling">
        </span>
       </h2>
       <p>
        Any default Table style options can be tacked on and are passed to the final table function.
       </p>
       <div>
        <pre><code class="language-typ"><code><span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"@preview/tabut:1.0.2"</span><span class="typ-punct">:</span> tabut
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"example-data/supplies.typ"</span><span class="typ-punct">:</span> supplies

<span class="typ-func">#</span><span class="typ-func">tabut</span><span class="typ-punct">(</span>
  supplies<span class="typ-punct">,</span>
  <span class="typ-punct">(</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span>Name<span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>name<span class="typ-punct">)</span><span class="typ-punct">,</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span>Price<span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>price<span class="typ-punct">)</span><span class="typ-punct">,</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span>Quantity<span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>quantity<span class="typ-punct">)</span><span class="typ-punct">,</span>
  <span class="typ-punct">)</span><span class="typ-punct">,</span>
  fill<span class="typ-punct">:</span> <span class="typ-punct">(</span>_<span class="typ-punct">,</span> row<span class="typ-punct">)</span> <span class="typ-op">=&gt;</span> <span class="typ-key">if</span> calc<span class="typ-punct">.</span><span class="typ-func">odd</span><span class="typ-punct">(</span>row<span class="typ-punct">)</span> <span class="typ-punct">{</span> <span class="typ-func">luma</span><span class="typ-punct">(</span><span class="typ-num">240</span><span class="typ-punct">)</span> <span class="typ-punct">}</span> <span class="typ-key">else</span> <span class="typ-punct">{</span> <span class="typ-func">luma</span><span class="typ-punct">(</span><span class="typ-num">220</span><span class="typ-punct">)</span> <span class="typ-punct">}</span><span class="typ-punct">,</span> 
  stroke<span class="typ-punct">:</span> <span class="typ-key">none</span>
<span class="typ-punct">)</span>
</code></code></pre>
       </div>
       <div>
        <p>
         <img src="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/doc/compiled-snippets/styling.svg"/>
        </p>
       </div>
      </div>
      <div>
       <h2>
        Header Formatting
        <span id="header-formatting">
        </span>
       </h2>
       <p>
        You can pass any content or expression into the header property.
       </p>
       <div>
        <pre><code class="language-typ"><code><span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"@preview/tabut:1.0.2"</span><span class="typ-punct">:</span> tabut
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"example-data/supplies.typ"</span><span class="typ-punct">:</span> supplies

<span class="typ-key">#</span><span class="typ-key">let</span> <span class="typ-func">fmt</span><span class="typ-punct">(</span>it<span class="typ-punct">)</span> <span class="typ-op">=</span> <span class="typ-punct">{</span>
  <span class="typ-func">heading</span><span class="typ-punct">(</span>
    outlined<span class="typ-punct">:</span> <span class="typ-key">false</span><span class="typ-punct">,</span>
    <span class="typ-func">upper</span><span class="typ-punct">(</span>it<span class="typ-punct">)</span>
  <span class="typ-punct">)</span>
<span class="typ-punct">}</span>

<span class="typ-func">#</span><span class="typ-func">tabut</span><span class="typ-punct">(</span>
  supplies<span class="typ-punct">,</span>
  <span class="typ-punct">(</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-func">fmt</span><span class="typ-punct">(</span><span class="typ-punct">[</span>Name<span class="typ-punct">]</span><span class="typ-punct">)</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>name <span class="typ-punct">)</span><span class="typ-punct">,</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-func">fmt</span><span class="typ-punct">(</span><span class="typ-punct">[</span>Price<span class="typ-punct">]</span><span class="typ-punct">)</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>price<span class="typ-punct">)</span><span class="typ-punct">,</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-func">fmt</span><span class="typ-punct">(</span><span class="typ-punct">[</span>Quantity<span class="typ-punct">]</span><span class="typ-punct">)</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>quantity<span class="typ-punct">)</span><span class="typ-punct">,</span> 
  <span class="typ-punct">)</span><span class="typ-punct">,</span>
  fill<span class="typ-punct">:</span> <span class="typ-punct">(</span>_<span class="typ-punct">,</span> row<span class="typ-punct">)</span> <span class="typ-op">=&gt;</span> <span class="typ-key">if</span> calc<span class="typ-punct">.</span><span class="typ-func">odd</span><span class="typ-punct">(</span>row<span class="typ-punct">)</span> <span class="typ-punct">{</span> <span class="typ-func">luma</span><span class="typ-punct">(</span><span class="typ-num">240</span><span class="typ-punct">)</span> <span class="typ-punct">}</span> <span class="typ-key">else</span> <span class="typ-punct">{</span> <span class="typ-func">luma</span><span class="typ-punct">(</span><span class="typ-num">220</span><span class="typ-punct">)</span> <span class="typ-punct">}</span><span class="typ-punct">,</span> 
  stroke<span class="typ-punct">:</span> <span class="typ-key">none</span>
<span class="typ-punct">)</span>
</code></code></pre>
       </div>
       <div>
        <p>
         <img src="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/doc/compiled-snippets/title.svg"/>
        </p>
       </div>
      </div>
      <div>
       <h2>
        Remove Headers
        <span id="remove-headers">
        </span>
       </h2>
       <p>
        You can prevent from being generated with the
        <code>
         headers
        </code>
        paramater. This is useful with the
        <code>
         tabut-cells
        </code>
        function as demonstrated in itâs section.
       </p>
       <div>
        <pre><code class="language-typ"><code><span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"@preview/tabut:1.0.2"</span><span class="typ-punct">:</span> tabut
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"example-data/supplies.typ"</span><span class="typ-punct">:</span> supplies

<span class="typ-func">#</span><span class="typ-func">tabut</span><span class="typ-punct">(</span>
  supplies<span class="typ-punct">,</span>
  <span class="typ-punct">(</span>
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Name*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>name<span class="typ-punct">)</span><span class="typ-punct">,</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Price*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>price<span class="typ-punct">)</span><span class="typ-punct">,</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Quantity*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>quantity<span class="typ-punct">)</span><span class="typ-punct">,</span> 
  <span class="typ-punct">)</span><span class="typ-punct">,</span>
  headers<span class="typ-punct">:</span> <span class="typ-key">false</span><span class="typ-punct">,</span> <span class="typ-comment">// Prevents Headers from being generated</span>
  fill<span class="typ-punct">:</span> <span class="typ-punct">(</span>_<span class="typ-punct">,</span> row<span class="typ-punct">)</span> <span class="typ-op">=&gt;</span> <span class="typ-key">if</span> calc<span class="typ-punct">.</span><span class="typ-func">odd</span><span class="typ-punct">(</span>row<span class="typ-punct">)</span> <span class="typ-punct">{</span> <span class="typ-func">luma</span><span class="typ-punct">(</span><span class="typ-num">240</span><span class="typ-punct">)</span> <span class="typ-punct">}</span> <span class="typ-key">else</span> <span class="typ-punct">{</span> <span class="typ-func">luma</span><span class="typ-punct">(</span><span class="typ-num">220</span><span class="typ-punct">)</span> <span class="typ-punct">}</span><span class="typ-punct">,</span> 
  stroke<span class="typ-punct">:</span> <span class="typ-key">none</span><span class="typ-punct">,</span>
<span class="typ-punct">)</span>
</code></code></pre>
       </div>
       <div>
        <p>
         <img src="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/doc/compiled-snippets/no-headers.svg"/>
        </p>
       </div>
      </div>
      <div>
       <h2>
        Cell Expressions and Formatting
        <span id="cell-expressions-and-formatting">
        </span>
       </h2>
       <p>
        Just like the headers, cell contents can be modified and formatted like any content in Typst.
       </p>
       <div>
        <pre><code class="language-typ"><code><span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"@preview/tabut:1.0.2"</span><span class="typ-punct">:</span> tabut
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"usd.typ"</span><span class="typ-punct">:</span> usd
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"example-data/supplies.typ"</span><span class="typ-punct">:</span> supplies

<span class="typ-func">#</span><span class="typ-func">tabut</span><span class="typ-punct">(</span>
  supplies<span class="typ-punct">,</span>
  <span class="typ-punct">(</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Name*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>name <span class="typ-punct">)</span><span class="typ-punct">,</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Price*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> <span class="typ-func">usd</span><span class="typ-punct">(</span>r<span class="typ-punct">.</span>price<span class="typ-punct">)</span><span class="typ-punct">)</span><span class="typ-punct">,</span> 
  <span class="typ-punct">)</span><span class="typ-punct">,</span>
  fill<span class="typ-punct">:</span> <span class="typ-punct">(</span>_<span class="typ-punct">,</span> row<span class="typ-punct">)</span> <span class="typ-op">=&gt;</span> <span class="typ-key">if</span> calc<span class="typ-punct">.</span><span class="typ-func">odd</span><span class="typ-punct">(</span>row<span class="typ-punct">)</span> <span class="typ-punct">{</span> <span class="typ-func">luma</span><span class="typ-punct">(</span><span class="typ-num">240</span><span class="typ-punct">)</span> <span class="typ-punct">}</span> <span class="typ-key">else</span> <span class="typ-punct">{</span> <span class="typ-func">luma</span><span class="typ-punct">(</span><span class="typ-num">220</span><span class="typ-punct">)</span> <span class="typ-punct">}</span><span class="typ-punct">,</span> 
  stroke<span class="typ-punct">:</span> <span class="typ-key">none</span>
<span class="typ-punct">)</span>
</code></code></pre>
       </div>
       <div>
        <p>
         <img src="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/doc/compiled-snippets/format.svg"/>
        </p>
       </div>
      </div>
      <div>
       <p>
        You can have the cell content function do calculations on a record property.
       </p>
       <div>
        <pre><code class="language-typ"><code><span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"@preview/tabut:1.0.2"</span><span class="typ-punct">:</span> tabut
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"usd.typ"</span><span class="typ-punct">:</span> usd
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"example-data/supplies.typ"</span><span class="typ-punct">:</span> supplies

<span class="typ-func">#</span><span class="typ-func">tabut</span><span class="typ-punct">(</span>
  supplies<span class="typ-punct">,</span>
  <span class="typ-punct">(</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Name*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>name <span class="typ-punct">)</span><span class="typ-punct">,</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Price*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> <span class="typ-func">usd</span><span class="typ-punct">(</span>r<span class="typ-punct">.</span>price<span class="typ-punct">)</span><span class="typ-punct">)</span><span class="typ-punct">,</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Tax*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> <span class="typ-func">usd</span><span class="typ-punct">(</span>r<span class="typ-punct">.</span>price <span class="typ-op">*</span> <span class="typ-num">.2</span><span class="typ-punct">)</span><span class="typ-punct">)</span><span class="typ-punct">,</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Total*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> <span class="typ-func">usd</span><span class="typ-punct">(</span>r<span class="typ-punct">.</span>price <span class="typ-op">*</span> <span class="typ-num">1.2</span><span class="typ-punct">)</span><span class="typ-punct">)</span><span class="typ-punct">,</span> 
  <span class="typ-punct">)</span><span class="typ-punct">,</span>
  fill<span class="typ-punct">:</span> <span class="typ-punct">(</span>_<span class="typ-punct">,</span> row<span class="typ-punct">)</span> <span class="typ-op">=&gt;</span> <span class="typ-key">if</span> calc<span class="typ-punct">.</span><span class="typ-func">odd</span><span class="typ-punct">(</span>row<span class="typ-punct">)</span> <span class="typ-punct">{</span> <span class="typ-func">luma</span><span class="typ-punct">(</span><span class="typ-num">240</span><span class="typ-punct">)</span> <span class="typ-punct">}</span> <span class="typ-key">else</span> <span class="typ-punct">{</span> <span class="typ-func">luma</span><span class="typ-punct">(</span><span class="typ-num">220</span><span class="typ-punct">)</span> <span class="typ-punct">}</span><span class="typ-punct">,</span> 
  stroke<span class="typ-punct">:</span> <span class="typ-key">none</span>
<span class="typ-punct">)</span>
</code></code></pre>
       </div>
       <div>
        <p>
         <img src="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/doc/compiled-snippets/calculation.svg"/>
        </p>
       </div>
      </div>
      <div>
       <p>
        Or even combine multiple record properties, go wild.
       </p>
       <div>
        <pre><code class="language-typ"><code><span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"@preview/tabut:1.0.2"</span><span class="typ-punct">:</span> tabut

<span class="typ-key">#</span><span class="typ-key">let</span> employees <span class="typ-op">=</span> <span class="typ-punct">(</span>
    <span class="typ-punct">(</span>id<span class="typ-punct">:</span> <span class="typ-num">3251</span><span class="typ-punct">,</span> first<span class="typ-punct">:</span> <span class="typ-str">"Alice"</span><span class="typ-punct">,</span> last<span class="typ-punct">:</span> <span class="typ-str">"Smith"</span><span class="typ-punct">,</span> middle<span class="typ-punct">:</span> <span class="typ-str">"Jane"</span><span class="typ-punct">)</span><span class="typ-punct">,</span>
    <span class="typ-punct">(</span>id<span class="typ-punct">:</span> <span class="typ-num">4872</span><span class="typ-punct">,</span> first<span class="typ-punct">:</span> <span class="typ-str">"Carlos"</span><span class="typ-punct">,</span> last<span class="typ-punct">:</span> <span class="typ-str">"Garcia"</span><span class="typ-punct">,</span> middle<span class="typ-punct">:</span> <span class="typ-str">"Luis"</span><span class="typ-punct">)</span><span class="typ-punct">,</span>
    <span class="typ-punct">(</span>id<span class="typ-punct">:</span> <span class="typ-num">5639</span><span class="typ-punct">,</span> first<span class="typ-punct">:</span> <span class="typ-str">"Evelyn"</span><span class="typ-punct">,</span> last<span class="typ-punct">:</span> <span class="typ-str">"Chen"</span><span class="typ-punct">,</span> middle<span class="typ-punct">:</span> <span class="typ-str">"Ming"</span><span class="typ-punct">)</span>
<span class="typ-punct">)</span><span class="typ-punct">;</span>

<span class="typ-func">#</span><span class="typ-func">tabut</span><span class="typ-punct">(</span>
  employees<span class="typ-punct">,</span>
  <span class="typ-punct">(</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*ID*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>id <span class="typ-punct">)</span><span class="typ-punct">,</span>
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Full Name*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> <span class="typ-punct">[</span><span class="typ-pol">#</span><span class="typ-pol">r</span><span class="typ-punct">.</span><span class="typ-pol">first</span> <span class="typ-pol">#</span><span class="typ-pol">r</span><span class="typ-punct">.</span><span class="typ-pol">middle</span><span class="typ-punct">.</span><span class="typ-func">first</span><span class="typ-punct">(</span><span class="typ-punct">)</span>, <span class="typ-pol">#</span><span class="typ-pol">r</span><span class="typ-punct">.</span><span class="typ-pol">last</span><span class="typ-punct">]</span> <span class="typ-punct">)</span><span class="typ-punct">,</span>
  <span class="typ-punct">)</span><span class="typ-punct">,</span>
  fill<span class="typ-punct">:</span> <span class="typ-punct">(</span>_<span class="typ-punct">,</span> row<span class="typ-punct">)</span> <span class="typ-op">=&gt;</span> <span class="typ-key">if</span> calc<span class="typ-punct">.</span><span class="typ-func">odd</span><span class="typ-punct">(</span>row<span class="typ-punct">)</span> <span class="typ-punct">{</span> <span class="typ-func">luma</span><span class="typ-punct">(</span><span class="typ-num">240</span><span class="typ-punct">)</span> <span class="typ-punct">}</span> <span class="typ-key">else</span> <span class="typ-punct">{</span> <span class="typ-func">luma</span><span class="typ-punct">(</span><span class="typ-num">220</span><span class="typ-punct">)</span> <span class="typ-punct">}</span><span class="typ-punct">,</span> 
  stroke<span class="typ-punct">:</span> <span class="typ-key">none</span>
<span class="typ-punct">)</span>
</code></code></pre>
       </div>
       <div>
        <p>
         <img src="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/doc/compiled-snippets/combine.svg"/>
        </p>
       </div>
      </div>
      <div>
       <h2>
        Index
        <span id="index">
        </span>
       </h2>
       <p>
        <code>
         tabut
        </code>
        automatically adds an
        <code>
         _index
        </code>
        property to each record.
       </p>
       <div>
        <pre><code class="language-typ"><code><span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"@preview/tabut:1.0.2"</span><span class="typ-punct">:</span> tabut
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"example-data/supplies.typ"</span><span class="typ-punct">:</span> supplies

<span class="typ-func">#</span><span class="typ-func">tabut</span><span class="typ-punct">(</span>
  supplies<span class="typ-punct">,</span>
  <span class="typ-punct">(</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*<span class="typ-escape">\#</span>*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>_index<span class="typ-punct">)</span><span class="typ-punct">,</span>
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Name*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>name <span class="typ-punct">)</span><span class="typ-punct">,</span> 
  <span class="typ-punct">)</span><span class="typ-punct">,</span>
  fill<span class="typ-punct">:</span> <span class="typ-punct">(</span>_<span class="typ-punct">,</span> row<span class="typ-punct">)</span> <span class="typ-op">=&gt;</span> <span class="typ-key">if</span> calc<span class="typ-punct">.</span><span class="typ-func">odd</span><span class="typ-punct">(</span>row<span class="typ-punct">)</span> <span class="typ-punct">{</span> <span class="typ-func">luma</span><span class="typ-punct">(</span><span class="typ-num">240</span><span class="typ-punct">)</span> <span class="typ-punct">}</span> <span class="typ-key">else</span> <span class="typ-punct">{</span> <span class="typ-func">luma</span><span class="typ-punct">(</span><span class="typ-num">220</span><span class="typ-punct">)</span> <span class="typ-punct">}</span><span class="typ-punct">,</span> 
  stroke<span class="typ-punct">:</span> <span class="typ-key">none</span>
<span class="typ-punct">)</span>
</code></code></pre>
       </div>
       <div>
        <p>
         <img src="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/doc/compiled-snippets/index.svg"/>
        </p>
       </div>
       <p>
        You can also prevent the
        <code>
         index
        </code>
        property being generated by setting it to
        <code>
         none
        </code>
        , or you can also set an alternate name of the index property as shown below.
       </p>
       <div>
        <pre><code class="language-typ"><code><span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"@preview/tabut:1.0.2"</span><span class="typ-punct">:</span> tabut
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"example-data/supplies.typ"</span><span class="typ-punct">:</span> supplies

<span class="typ-func">#</span><span class="typ-func">tabut</span><span class="typ-punct">(</span>
  supplies<span class="typ-punct">,</span>
  <span class="typ-punct">(</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*<span class="typ-escape">\#</span>*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>index-alt <span class="typ-punct">)</span><span class="typ-punct">,</span>
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Name*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>name <span class="typ-punct">)</span><span class="typ-punct">,</span> 
  <span class="typ-punct">)</span><span class="typ-punct">,</span>
  index<span class="typ-punct">:</span> <span class="typ-str">"index-alt"</span><span class="typ-punct">,</span> <span class="typ-comment">// set an aternate name for the automatically generated index property.</span>
  fill<span class="typ-punct">:</span> <span class="typ-punct">(</span>_<span class="typ-punct">,</span> row<span class="typ-punct">)</span> <span class="typ-op">=&gt;</span> <span class="typ-key">if</span> calc<span class="typ-punct">.</span><span class="typ-func">odd</span><span class="typ-punct">(</span>row<span class="typ-punct">)</span> <span class="typ-punct">{</span> <span class="typ-func">luma</span><span class="typ-punct">(</span><span class="typ-num">240</span><span class="typ-punct">)</span> <span class="typ-punct">}</span> <span class="typ-key">else</span> <span class="typ-punct">{</span> <span class="typ-func">luma</span><span class="typ-punct">(</span><span class="typ-num">220</span><span class="typ-punct">)</span> <span class="typ-punct">}</span><span class="typ-punct">,</span> 
  stroke<span class="typ-punct">:</span> <span class="typ-key">none</span>
<span class="typ-punct">)</span>
</code></code></pre>
       </div>
       <div>
        <p>
         <img src="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/doc/compiled-snippets/index-alternate.svg"/>
        </p>
       </div>
      </div>
      <div>
       <h2>
        Transpose
        <span id="transpose">
        </span>
       </h2>
       <p>
        This was annoying to implement, and I donât know when youâd actually use this, but here.
       </p>
       <div>
        <pre><code class="language-typ"><code><span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"@preview/tabut:1.0.2"</span><span class="typ-punct">:</span> tabut
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"usd.typ"</span><span class="typ-punct">:</span> usd
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"example-data/supplies.typ"</span><span class="typ-punct">:</span> supplies

<span class="typ-func">#</span><span class="typ-func">tabut</span><span class="typ-punct">(</span>
  supplies<span class="typ-punct">,</span>
  <span class="typ-punct">(</span>
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*<span class="typ-escape">\#</span>*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>_index<span class="typ-punct">)</span><span class="typ-punct">,</span>
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Name*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>name<span class="typ-punct">)</span><span class="typ-punct">,</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Price*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> <span class="typ-func">usd</span><span class="typ-punct">(</span>r<span class="typ-punct">.</span>price<span class="typ-punct">)</span><span class="typ-punct">)</span><span class="typ-punct">,</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Quantity*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>quantity<span class="typ-punct">)</span><span class="typ-punct">,</span>
  <span class="typ-punct">)</span><span class="typ-punct">,</span>
  transpose<span class="typ-punct">:</span> <span class="typ-key">true</span><span class="typ-punct">,</span>  <span class="typ-comment">// set optional name arg `transpose` to `true`</span>
  fill<span class="typ-punct">:</span> <span class="typ-punct">(</span>_<span class="typ-punct">,</span> row<span class="typ-punct">)</span> <span class="typ-op">=&gt;</span> <span class="typ-key">if</span> calc<span class="typ-punct">.</span><span class="typ-func">odd</span><span class="typ-punct">(</span>row<span class="typ-punct">)</span> <span class="typ-punct">{</span> <span class="typ-func">luma</span><span class="typ-punct">(</span><span class="typ-num">240</span><span class="typ-punct">)</span> <span class="typ-punct">}</span> <span class="typ-key">else</span> <span class="typ-punct">{</span> <span class="typ-func">luma</span><span class="typ-punct">(</span><span class="typ-num">220</span><span class="typ-punct">)</span> <span class="typ-punct">}</span><span class="typ-punct">,</span> 
  stroke<span class="typ-punct">:</span> <span class="typ-key">none</span>
<span class="typ-punct">)</span>
</code></code></pre>
       </div>
       <div>
        <p>
         <img src="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/doc/compiled-snippets/transpose.svg"/>
        </p>
       </div>
      </div>
      <div>
       <h2>
        Alignment
        <span id="alignment">
        </span>
       </h2>
       <div>
        <pre><code class="language-typ"><code><span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"@preview/tabut:1.0.2"</span><span class="typ-punct">:</span> tabut
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"usd.typ"</span><span class="typ-punct">:</span> usd
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"example-data/supplies.typ"</span><span class="typ-punct">:</span> supplies

<span class="typ-func">#</span><span class="typ-func">tabut</span><span class="typ-punct">(</span>
  supplies<span class="typ-punct">,</span>
  <span class="typ-punct">(</span> <span class="typ-comment">// Include `align` as an optional arg to a column def</span>
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*<span class="typ-escape">\#</span>*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>_index<span class="typ-punct">)</span><span class="typ-punct">,</span>
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Name*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> align<span class="typ-punct">:</span> right<span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>name<span class="typ-punct">)</span><span class="typ-punct">,</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Price*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> align<span class="typ-punct">:</span> right<span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> <span class="typ-func">usd</span><span class="typ-punct">(</span>r<span class="typ-punct">.</span>price<span class="typ-punct">)</span><span class="typ-punct">)</span><span class="typ-punct">,</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Quantity*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> align<span class="typ-punct">:</span> right<span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>quantity<span class="typ-punct">)</span><span class="typ-punct">,</span>
  <span class="typ-punct">)</span><span class="typ-punct">,</span>
  fill<span class="typ-punct">:</span> <span class="typ-punct">(</span>_<span class="typ-punct">,</span> row<span class="typ-punct">)</span> <span class="typ-op">=&gt;</span> <span class="typ-key">if</span> calc<span class="typ-punct">.</span><span class="typ-func">odd</span><span class="typ-punct">(</span>row<span class="typ-punct">)</span> <span class="typ-punct">{</span> <span class="typ-func">luma</span><span class="typ-punct">(</span><span class="typ-num">240</span><span class="typ-punct">)</span> <span class="typ-punct">}</span> <span class="typ-key">else</span> <span class="typ-punct">{</span> <span class="typ-func">luma</span><span class="typ-punct">(</span><span class="typ-num">220</span><span class="typ-punct">)</span> <span class="typ-punct">}</span><span class="typ-punct">,</span> 
  stroke<span class="typ-punct">:</span> <span class="typ-key">none</span>
<span class="typ-punct">)</span>
</code></code></pre>
       </div>
       <div>
        <p>
         <img src="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/doc/compiled-snippets/align.svg"/>
        </p>
       </div>
       <p>
        You can also define Alignment manually as in the the standard Table Function.
       </p>
       <div>
        <pre><code class="language-typ"><code><span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"@preview/tabut:1.0.2"</span><span class="typ-punct">:</span> tabut
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"usd.typ"</span><span class="typ-punct">:</span> usd
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"example-data/supplies.typ"</span><span class="typ-punct">:</span> supplies

<span class="typ-func">#</span><span class="typ-func">tabut</span><span class="typ-punct">(</span>
  supplies<span class="typ-punct">,</span>
  <span class="typ-punct">(</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*<span class="typ-escape">\#</span>*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>_index<span class="typ-punct">)</span><span class="typ-punct">,</span>
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Name*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>name<span class="typ-punct">)</span><span class="typ-punct">,</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Price*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> <span class="typ-func">usd</span><span class="typ-punct">(</span>r<span class="typ-punct">.</span>price<span class="typ-punct">)</span><span class="typ-punct">)</span><span class="typ-punct">,</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Quantity*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>quantity<span class="typ-punct">)</span><span class="typ-punct">,</span>
  <span class="typ-punct">)</span><span class="typ-punct">,</span>
  align<span class="typ-punct">:</span> <span class="typ-punct">(</span><span class="typ-key">auto</span><span class="typ-punct">,</span> right<span class="typ-punct">,</span> right<span class="typ-punct">,</span> right<span class="typ-punct">)</span><span class="typ-punct">,</span> <span class="typ-comment">// Alignment defined as in standard table function</span>
  fill<span class="typ-punct">:</span> <span class="typ-punct">(</span>_<span class="typ-punct">,</span> row<span class="typ-punct">)</span> <span class="typ-op">=&gt;</span> <span class="typ-key">if</span> calc<span class="typ-punct">.</span><span class="typ-func">odd</span><span class="typ-punct">(</span>row<span class="typ-punct">)</span> <span class="typ-punct">{</span> <span class="typ-func">luma</span><span class="typ-punct">(</span><span class="typ-num">240</span><span class="typ-punct">)</span> <span class="typ-punct">}</span> <span class="typ-key">else</span> <span class="typ-punct">{</span> <span class="typ-func">luma</span><span class="typ-punct">(</span><span class="typ-num">220</span><span class="typ-punct">)</span> <span class="typ-punct">}</span><span class="typ-punct">,</span> 
  stroke<span class="typ-punct">:</span> <span class="typ-key">none</span>
<span class="typ-punct">)</span>
</code></code></pre>
       </div>
       <div>
        <p>
         <img src="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/doc/compiled-snippets/align-manual.svg"/>
        </p>
       </div>
      </div>
      <div>
       <h2>
        Column Width
        <span id="column-width">
        </span>
       </h2>
       <div>
        <pre><code class="language-typ"><code><span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"@preview/tabut:1.0.2"</span><span class="typ-punct">:</span> tabut
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"usd.typ"</span><span class="typ-punct">:</span> usd
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"example-data/supplies.typ"</span><span class="typ-punct">:</span> supplies

<span class="typ-func">#</span><span class="typ-func">box</span><span class="typ-punct">(</span>
  width<span class="typ-punct">:</span> <span class="typ-num">300pt</span><span class="typ-punct">,</span>
  <span class="typ-func">tabut</span><span class="typ-punct">(</span>
    supplies<span class="typ-punct">,</span>
    <span class="typ-punct">(</span> <span class="typ-comment">// Include `width` as an optional arg to a column def</span>
      <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*<span class="typ-escape">\#</span>*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>_index<span class="typ-punct">)</span><span class="typ-punct">,</span>
      <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Name*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> width<span class="typ-punct">:</span> <span class="typ-num">1fr</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>name<span class="typ-punct">)</span><span class="typ-punct">,</span> 
      <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Price*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> width<span class="typ-punct">:</span> <span class="typ-num">20%</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> <span class="typ-func">usd</span><span class="typ-punct">(</span>r<span class="typ-punct">.</span>price<span class="typ-punct">)</span><span class="typ-punct">)</span><span class="typ-punct">,</span> 
      <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Quantity*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> width<span class="typ-punct">:</span> <span class="typ-num">1.5in</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>quantity<span class="typ-punct">)</span><span class="typ-punct">,</span>
    <span class="typ-punct">)</span><span class="typ-punct">,</span>
    fill<span class="typ-punct">:</span> <span class="typ-punct">(</span>_<span class="typ-punct">,</span> row<span class="typ-punct">)</span> <span class="typ-op">=&gt;</span> <span class="typ-key">if</span> calc<span class="typ-punct">.</span><span class="typ-func">odd</span><span class="typ-punct">(</span>row<span class="typ-punct">)</span> <span class="typ-punct">{</span> <span class="typ-func">luma</span><span class="typ-punct">(</span><span class="typ-num">240</span><span class="typ-punct">)</span> <span class="typ-punct">}</span> <span class="typ-key">else</span> <span class="typ-punct">{</span> <span class="typ-func">luma</span><span class="typ-punct">(</span><span class="typ-num">220</span><span class="typ-punct">)</span> <span class="typ-punct">}</span><span class="typ-punct">,</span> 
    stroke<span class="typ-punct">:</span> <span class="typ-key">none</span><span class="typ-punct">,</span>
  <span class="typ-punct">)</span>
<span class="typ-punct">)</span>

</code></code></pre>
       </div>
       <div>
        <p>
         <img src="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/doc/compiled-snippets/width.svg"/>
        </p>
       </div>
       <p>
        You can also define Columns manually as in the the standard Table Function.
       </p>
       <div>
        <pre><code class="language-typ"><code><span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"@preview/tabut:1.0.2"</span><span class="typ-punct">:</span> tabut
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"usd.typ"</span><span class="typ-punct">:</span> usd
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"example-data/supplies.typ"</span><span class="typ-punct">:</span> supplies

<span class="typ-func">#</span><span class="typ-func">box</span><span class="typ-punct">(</span>
  width<span class="typ-punct">:</span> <span class="typ-num">300pt</span><span class="typ-punct">,</span>
  <span class="typ-func">tabut</span><span class="typ-punct">(</span>
    supplies<span class="typ-punct">,</span>
    <span class="typ-punct">(</span>
      <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*<span class="typ-escape">\#</span>*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>_index<span class="typ-punct">)</span><span class="typ-punct">,</span>
      <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Name*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>name<span class="typ-punct">)</span><span class="typ-punct">,</span> 
      <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Price*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> <span class="typ-func">usd</span><span class="typ-punct">(</span>r<span class="typ-punct">.</span>price<span class="typ-punct">)</span><span class="typ-punct">)</span><span class="typ-punct">,</span> 
      <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Quantity*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>quantity<span class="typ-punct">)</span><span class="typ-punct">,</span>
    <span class="typ-punct">)</span><span class="typ-punct">,</span>
    columns<span class="typ-punct">:</span> <span class="typ-punct">(</span><span class="typ-key">auto</span><span class="typ-punct">,</span> <span class="typ-num">1fr</span><span class="typ-punct">,</span> <span class="typ-num">20%</span><span class="typ-punct">,</span> <span class="typ-num">1.5in</span><span class="typ-punct">)</span><span class="typ-punct">,</span>  <span class="typ-comment">// Columns defined as in standard table</span>
    fill<span class="typ-punct">:</span> <span class="typ-punct">(</span>_<span class="typ-punct">,</span> row<span class="typ-punct">)</span> <span class="typ-op">=&gt;</span> <span class="typ-key">if</span> calc<span class="typ-punct">.</span><span class="typ-func">odd</span><span class="typ-punct">(</span>row<span class="typ-punct">)</span> <span class="typ-punct">{</span> <span class="typ-func">luma</span><span class="typ-punct">(</span><span class="typ-num">240</span><span class="typ-punct">)</span> <span class="typ-punct">}</span> <span class="typ-key">else</span> <span class="typ-punct">{</span> <span class="typ-func">luma</span><span class="typ-punct">(</span><span class="typ-num">220</span><span class="typ-punct">)</span> <span class="typ-punct">}</span><span class="typ-punct">,</span> 
    stroke<span class="typ-punct">:</span> <span class="typ-key">none</span><span class="typ-punct">,</span>
  <span class="typ-punct">)</span>
<span class="typ-punct">)</span>

</code></code></pre>
       </div>
       <div>
        <p>
         <img src="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/doc/compiled-snippets/width-manual.svg"/>
        </p>
       </div>
      </div>
      <div>
       <h2>
        Get Cells Only
        <span id="get-cells-only">
        </span>
       </h2>
       <div>
        <pre><code class="language-typ"><code><span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"@preview/tabut:1.0.2"</span><span class="typ-punct">:</span> tabut-cells
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"usd.typ"</span><span class="typ-punct">:</span> usd
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"example-data/supplies.typ"</span><span class="typ-punct">:</span> supplies

<span class="typ-func">#</span><span class="typ-func">tabut-cells</span><span class="typ-punct">(</span>
  supplies<span class="typ-punct">,</span>
  <span class="typ-punct">(</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span>Name<span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>name<span class="typ-punct">)</span><span class="typ-punct">,</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span>Price<span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> <span class="typ-func">usd</span><span class="typ-punct">(</span>r<span class="typ-punct">.</span>price<span class="typ-punct">)</span><span class="typ-punct">)</span><span class="typ-punct">,</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span>Quantity<span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>quantity<span class="typ-punct">)</span><span class="typ-punct">,</span>
  <span class="typ-punct">)</span>
<span class="typ-punct">)</span>
</code></code></pre>
       </div>
       <div>
        <p>
         <img src="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/doc/compiled-snippets/only-cells.svg"/>
        </p>
       </div>
      </div>
      <div>
       <h2>
        Use with Tablex
        <span id="use-with-tablex">
        </span>
       </h2>
       <div>
        <pre><code class="language-typ"><code><span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"@preview/tabut:1.0.2"</span><span class="typ-punct">:</span> tabut-cells
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"usd.typ"</span><span class="typ-punct">:</span> usd
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"example-data/supplies.typ"</span><span class="typ-punct">:</span> supplies

<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"@preview/tablex:0.0.8"</span><span class="typ-punct">:</span> tablex<span class="typ-punct">,</span> rowspanx<span class="typ-punct">,</span> colspanx

<span class="typ-func">#</span><span class="typ-func">tablex</span><span class="typ-punct">(</span>
  auto-vlines<span class="typ-punct">:</span> <span class="typ-key">false</span><span class="typ-punct">,</span>
  header-rows<span class="typ-punct">:</span> <span class="typ-num">2</span><span class="typ-punct">,</span>

  <span class="typ-comment">/* --- header --- */</span>
  <span class="typ-func">rowspanx</span><span class="typ-punct">(</span><span class="typ-num">2</span><span class="typ-punct">)</span><span class="typ-punct">[</span><span class="typ-strong">*Name*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> <span class="typ-func">colspanx</span><span class="typ-punct">(</span><span class="typ-num">2</span><span class="typ-punct">)</span><span class="typ-punct">[</span><span class="typ-strong">*Price*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> <span class="typ-punct">(</span><span class="typ-punct">)</span><span class="typ-punct">,</span> <span class="typ-func">rowspanx</span><span class="typ-punct">(</span><span class="typ-num">2</span><span class="typ-punct">)</span><span class="typ-punct">[</span><span class="typ-strong">*Quantity*</span><span class="typ-punct">]</span><span class="typ-punct">,</span>
  <span class="typ-punct">(</span><span class="typ-punct">)</span><span class="typ-punct">,</span>                 <span class="typ-punct">[</span><span class="typ-strong">*Base*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> <span class="typ-punct">[</span><span class="typ-strong">*W/Tax*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> <span class="typ-punct">(</span><span class="typ-punct">)</span><span class="typ-punct">,</span>
  <span class="typ-comment">/* -------------- */</span>

  <span class="typ-op">..</span><span class="typ-func">tabut-cells</span><span class="typ-punct">(</span>
    supplies<span class="typ-punct">,</span>
    <span class="typ-punct">(</span> 
      <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>name<span class="typ-punct">)</span><span class="typ-punct">,</span> 
      <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> <span class="typ-func">usd</span><span class="typ-punct">(</span>r<span class="typ-punct">.</span>price<span class="typ-punct">)</span><span class="typ-punct">)</span><span class="typ-punct">,</span> 
      <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> <span class="typ-func">usd</span><span class="typ-punct">(</span>r<span class="typ-punct">.</span>price <span class="typ-op">*</span> <span class="typ-num">1.3</span><span class="typ-punct">)</span><span class="typ-punct">)</span><span class="typ-punct">,</span> 
      <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>quantity<span class="typ-punct">)</span><span class="typ-punct">,</span>
    <span class="typ-punct">)</span><span class="typ-punct">,</span>
    headers<span class="typ-punct">:</span> <span class="typ-key">false</span>
  <span class="typ-punct">)</span>
<span class="typ-punct">)</span>
</code></code></pre>
       </div>
       <div>
        <p>
         <img src="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/doc/compiled-snippets/tablex.svg"/>
        </p>
       </div>
      </div>
      <div>
       <p>
        While technically seperate from table display, the following are examples of how to perform operations on data before it is displayed with
        <code>
         tabut
        </code>
        .
       </p>
       <p>
        Since
        <code>
         tabut
        </code>
        assumes an âarray of dictionariesâ format, then most data operations can be performed easily with Typstâs native array functions.
        <code>
         tabut
        </code>
        also provides several functions to provide additional functionality.
       </p>
      </div>
      <div>
       <h2>
        CSV Data
        <span id="csv-data">
        </span>
       </h2>
       <p>
        By default, imported CSV gives a ârowsâ or âarray of arraysâ data format, which can not be directly used by
        <code>
         tabut
        </code>
        . To convert,
        <code>
         tabut
        </code>
        includes a function
        <code>
         rows-to-records
        </code>
        demonstrated below.
       </p>
       <div>
        <pre><code class="language-typ"><code><span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"@preview/tabut:1.0.2"</span><span class="typ-punct">:</span> tabut<span class="typ-punct">,</span> rows-to-records
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"example-data/supplies.typ"</span><span class="typ-punct">:</span> supplies

<span class="typ-key">#</span><span class="typ-key">let</span> titanic <span class="typ-op">=</span> <span class="typ-punct">{</span>
  <span class="typ-key">let</span> titanic-raw <span class="typ-op">=</span> <span class="typ-func">csv</span><span class="typ-punct">(</span><span class="typ-str">"example-data/titanic.csv"</span><span class="typ-punct">)</span><span class="typ-punct">;</span>
  <span class="typ-func">rows-to-records</span><span class="typ-punct">(</span>
    titanic-raw<span class="typ-punct">.</span><span class="typ-func">first</span><span class="typ-punct">(</span><span class="typ-punct">)</span><span class="typ-punct">,</span> <span class="typ-comment">// The header row</span>
    titanic-raw<span class="typ-punct">.</span><span class="typ-func">slice</span><span class="typ-punct">(</span><span class="typ-num">1</span><span class="typ-punct">,</span> <span class="typ-op">-</span><span class="typ-num">1</span><span class="typ-punct">)</span><span class="typ-punct">,</span> <span class="typ-comment">// The rest of the rows</span>
  <span class="typ-punct">)</span>
<span class="typ-punct">}</span>
</code></code></pre>
       </div>
       <p>
        Imported CSV data are all strings, so itâs usefull to convert them to
        <code>
         int
        </code>
        or
        <code>
         float
        </code>
        when possible.
       </p>
       <div>
        <pre><code class="language-typ"><code><span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"@preview/tabut:1.0.2"</span><span class="typ-punct">:</span> tabut<span class="typ-punct">,</span> rows-to-records
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"example-data/supplies.typ"</span><span class="typ-punct">:</span> supplies

<span class="typ-key">#</span><span class="typ-key">let</span> <span class="typ-func">auto-type</span><span class="typ-punct">(</span>input<span class="typ-punct">)</span> <span class="typ-op">=</span> <span class="typ-punct">{</span>
  <span class="typ-key">let</span> is-int <span class="typ-op">=</span> <span class="typ-punct">(</span>input<span class="typ-punct">.</span><span class="typ-func">match</span><span class="typ-punct">(</span><span class="typ-func">regex</span><span class="typ-punct">(</span><span class="typ-str">"^-?\d+$"</span><span class="typ-punct">)</span><span class="typ-punct">)</span> <span class="typ-op">!=</span> <span class="typ-key">none</span><span class="typ-punct">)</span><span class="typ-punct">;</span>
  <span class="typ-key">if</span> is-int <span class="typ-punct">{</span> <span class="typ-key">return</span> <span class="typ-func">int</span><span class="typ-punct">(</span>input<span class="typ-punct">)</span><span class="typ-punct">;</span> <span class="typ-punct">}</span>
  <span class="typ-key">let</span> is-float <span class="typ-op">=</span> <span class="typ-punct">(</span>input<span class="typ-punct">.</span><span class="typ-func">match</span><span class="typ-punct">(</span><span class="typ-func">regex</span><span class="typ-punct">(</span><span class="typ-str">"^-?(inf|nan|\d+|\d*(\.\d+))$"</span><span class="typ-punct">)</span><span class="typ-punct">)</span> <span class="typ-op">!=</span> <span class="typ-key">none</span><span class="typ-punct">)</span><span class="typ-punct">;</span>
  <span class="typ-key">if</span> is-float <span class="typ-punct">{</span> <span class="typ-key">return</span> <span class="typ-func">float</span><span class="typ-punct">(</span>input<span class="typ-punct">)</span> <span class="typ-punct">}</span>
  input
<span class="typ-punct">}</span>

<span class="typ-key">#</span><span class="typ-key">let</span> titanic <span class="typ-op">=</span> <span class="typ-punct">{</span>
  <span class="typ-key">let</span> titanic-raw <span class="typ-op">=</span> <span class="typ-func">csv</span><span class="typ-punct">(</span><span class="typ-str">"example-data/titanic.csv"</span><span class="typ-punct">)</span><span class="typ-punct">;</span>
  <span class="typ-func">rows-to-records</span><span class="typ-punct">(</span> titanic-raw<span class="typ-punct">.</span><span class="typ-func">first</span><span class="typ-punct">(</span><span class="typ-punct">)</span><span class="typ-punct">,</span> titanic-raw<span class="typ-punct">.</span><span class="typ-func">slice</span><span class="typ-punct">(</span><span class="typ-num">1</span><span class="typ-punct">,</span> <span class="typ-op">-</span><span class="typ-num">1</span><span class="typ-punct">)</span> <span class="typ-punct">)</span>
  <span class="typ-punct">.</span><span class="typ-func">map</span><span class="typ-punct">(</span> r <span class="typ-op">=&gt;</span> <span class="typ-punct">{</span>
    <span class="typ-key">let</span> new-record <span class="typ-op">=</span> <span class="typ-punct">(</span><span class="typ-punct">:</span><span class="typ-punct">)</span><span class="typ-punct">;</span>
    <span class="typ-key">for</span> <span class="typ-punct">(</span>k<span class="typ-punct">,</span> v<span class="typ-punct">)</span> <span class="typ-key">in</span> r<span class="typ-punct">.</span><span class="typ-func">pairs</span><span class="typ-punct">(</span><span class="typ-punct">)</span> <span class="typ-punct">{</span> new-record<span class="typ-punct">.</span><span class="typ-func">insert</span><span class="typ-punct">(</span>k<span class="typ-punct">,</span> <span class="typ-func">auto-type</span><span class="typ-punct">(</span>v<span class="typ-punct">)</span><span class="typ-punct">)</span><span class="typ-punct">;</span> <span class="typ-punct">}</span>
    new-record
  <span class="typ-punct">}</span><span class="typ-punct">)</span>
<span class="typ-punct">}</span>
</code></code></pre>
       </div>
       <p>
        <code>
         tabut
        </code>
        includes a function,
        <code>
         records-from-csv
        </code>
        , to automatically perform this process.
       </p>
       <div>
        <pre><code class="language-typ"><code><span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"@preview/tabut:1.0.2"</span><span class="typ-punct">:</span> records-from-csv

<span class="typ-key">#</span><span class="typ-key">let</span> titanic <span class="typ-op">=</span> <span class="typ-func">records-from-csv</span><span class="typ-punct">(</span><span class="typ-func">csv</span><span class="typ-punct">(</span><span class="typ-str">"example-data/titanic.csv"</span><span class="typ-punct">)</span><span class="typ-punct">)</span><span class="typ-punct">;</span>
</code></code></pre>
       </div>
      </div>
      <div>
       <h2>
        Slice
        <span id="slice">
        </span>
       </h2>
       <div>
        <pre><code class="language-typ"><code><span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"@preview/tabut:1.0.2"</span><span class="typ-punct">:</span> tabut<span class="typ-punct">,</span> records-from-csv
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"usd.typ"</span><span class="typ-punct">:</span> usd
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"example-data/titanic.typ"</span><span class="typ-punct">:</span> titanic

<span class="typ-key">#</span><span class="typ-key">let</span> classes <span class="typ-op">=</span> <span class="typ-punct">(</span>
  <span class="typ-str">"N/A"</span><span class="typ-punct">,</span>
  <span class="typ-str">"First"</span><span class="typ-punct">,</span> 
  <span class="typ-str">"Second"</span><span class="typ-punct">,</span> 
  <span class="typ-str">"Third"</span>
<span class="typ-punct">)</span><span class="typ-punct">;</span>

<span class="typ-key">#</span><span class="typ-key">let</span> titanic-head <span class="typ-op">=</span> titanic<span class="typ-punct">.</span><span class="typ-func">slice</span><span class="typ-punct">(</span><span class="typ-num">0</span><span class="typ-punct">,</span> <span class="typ-num">5</span><span class="typ-punct">)</span><span class="typ-punct">;</span>

<span class="typ-func">#</span><span class="typ-func">tabut</span><span class="typ-punct">(</span>
  titanic-head<span class="typ-punct">,</span>
  <span class="typ-punct">(</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Name*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>Name<span class="typ-punct">)</span><span class="typ-punct">,</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Class*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> classes<span class="typ-punct">.</span><span class="typ-func">at</span><span class="typ-punct">(</span>r<span class="typ-punct">.</span>Pclass<span class="typ-punct">)</span><span class="typ-punct">)</span><span class="typ-punct">,</span>
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Fare*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> <span class="typ-func">usd</span><span class="typ-punct">(</span>r<span class="typ-punct">.</span>Fare<span class="typ-punct">)</span><span class="typ-punct">)</span><span class="typ-punct">,</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Survived?*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> <span class="typ-punct">(</span><span class="typ-str">"No"</span><span class="typ-punct">,</span> <span class="typ-str">"Yes"</span><span class="typ-punct">)</span><span class="typ-punct">.</span><span class="typ-func">at</span><span class="typ-punct">(</span>r<span class="typ-punct">.</span>Survived<span class="typ-punct">)</span><span class="typ-punct">)</span><span class="typ-punct">,</span> 
  <span class="typ-punct">)</span><span class="typ-punct">,</span>
  fill<span class="typ-punct">:</span> <span class="typ-punct">(</span>_<span class="typ-punct">,</span> row<span class="typ-punct">)</span> <span class="typ-op">=&gt;</span> <span class="typ-key">if</span> calc<span class="typ-punct">.</span><span class="typ-func">odd</span><span class="typ-punct">(</span>row<span class="typ-punct">)</span> <span class="typ-punct">{</span> <span class="typ-func">luma</span><span class="typ-punct">(</span><span class="typ-num">240</span><span class="typ-punct">)</span> <span class="typ-punct">}</span> <span class="typ-key">else</span> <span class="typ-punct">{</span> <span class="typ-func">luma</span><span class="typ-punct">(</span><span class="typ-num">220</span><span class="typ-punct">)</span> <span class="typ-punct">}</span><span class="typ-punct">,</span> 
  stroke<span class="typ-punct">:</span> <span class="typ-key">none</span>
<span class="typ-punct">)</span>
</code></code></pre>
       </div>
       <div>
        <p>
         <img src="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/doc/compiled-snippets/slice.svg"/>
        </p>
       </div>
      </div>
      <div>
       <h2>
        Sorting and Reversing
        <span id="sorting-and-reversing">
        </span>
       </h2>
       <div>
        <pre><code class="language-typ"><code><span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"@preview/tabut:1.0.2"</span><span class="typ-punct">:</span> tabut
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"usd.typ"</span><span class="typ-punct">:</span> usd
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"example-data/titanic.typ"</span><span class="typ-punct">:</span> titanic<span class="typ-punct">,</span> classes

<span class="typ-func">#</span><span class="typ-func">tabut</span><span class="typ-punct">(</span>
  titanic
  <span class="typ-punct">.</span><span class="typ-func">sorted</span><span class="typ-punct">(</span>key<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>Fare<span class="typ-punct">)</span>
  <span class="typ-punct">.</span><span class="typ-func">rev</span><span class="typ-punct">(</span><span class="typ-punct">)</span>
  <span class="typ-punct">.</span><span class="typ-func">slice</span><span class="typ-punct">(</span><span class="typ-num">0</span><span class="typ-punct">,</span> <span class="typ-num">5</span><span class="typ-punct">)</span><span class="typ-punct">,</span>
  <span class="typ-punct">(</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Name*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>Name<span class="typ-punct">)</span><span class="typ-punct">,</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Class*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> classes<span class="typ-punct">.</span><span class="typ-func">at</span><span class="typ-punct">(</span>r<span class="typ-punct">.</span>Pclass<span class="typ-punct">)</span><span class="typ-punct">)</span><span class="typ-punct">,</span>
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Fare*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> <span class="typ-func">usd</span><span class="typ-punct">(</span>r<span class="typ-punct">.</span>Fare<span class="typ-punct">)</span><span class="typ-punct">)</span><span class="typ-punct">,</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Survived?*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> <span class="typ-punct">(</span><span class="typ-str">"No"</span><span class="typ-punct">,</span> <span class="typ-str">"Yes"</span><span class="typ-punct">)</span><span class="typ-punct">.</span><span class="typ-func">at</span><span class="typ-punct">(</span>r<span class="typ-punct">.</span>Survived<span class="typ-punct">)</span><span class="typ-punct">)</span><span class="typ-punct">,</span> 
  <span class="typ-punct">)</span><span class="typ-punct">,</span>
  fill<span class="typ-punct">:</span> <span class="typ-punct">(</span>_<span class="typ-punct">,</span> row<span class="typ-punct">)</span> <span class="typ-op">=&gt;</span> <span class="typ-key">if</span> calc<span class="typ-punct">.</span><span class="typ-func">odd</span><span class="typ-punct">(</span>row<span class="typ-punct">)</span> <span class="typ-punct">{</span> <span class="typ-func">luma</span><span class="typ-punct">(</span><span class="typ-num">240</span><span class="typ-punct">)</span> <span class="typ-punct">}</span> <span class="typ-key">else</span> <span class="typ-punct">{</span> <span class="typ-func">luma</span><span class="typ-punct">(</span><span class="typ-num">220</span><span class="typ-punct">)</span> <span class="typ-punct">}</span><span class="typ-punct">,</span> 
  stroke<span class="typ-punct">:</span> <span class="typ-key">none</span>
<span class="typ-punct">)</span>
</code></code></pre>
       </div>
       <div>
        <p>
         <img src="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/doc/compiled-snippets/sort.svg"/>
        </p>
       </div>
      </div>
      <div>
       <h2>
        Filter
        <span id="filter">
        </span>
       </h2>
       <div>
        <pre><code class="language-typ"><code><span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"@preview/tabut:1.0.2"</span><span class="typ-punct">:</span> tabut
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"usd.typ"</span><span class="typ-punct">:</span> usd
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"example-data/titanic.typ"</span><span class="typ-punct">:</span> titanic<span class="typ-punct">,</span> classes

<span class="typ-func">#</span><span class="typ-func">tabut</span><span class="typ-punct">(</span>
  titanic
  <span class="typ-punct">.</span><span class="typ-func">filter</span><span class="typ-punct">(</span>r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>Pclass <span class="typ-op">==</span> <span class="typ-num">1</span><span class="typ-punct">)</span>
  <span class="typ-punct">.</span><span class="typ-func">slice</span><span class="typ-punct">(</span><span class="typ-num">0</span><span class="typ-punct">,</span> <span class="typ-num">5</span><span class="typ-punct">)</span><span class="typ-punct">,</span>
  <span class="typ-punct">(</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Name*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>Name<span class="typ-punct">)</span><span class="typ-punct">,</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Class*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> classes<span class="typ-punct">.</span><span class="typ-func">at</span><span class="typ-punct">(</span>r<span class="typ-punct">.</span>Pclass<span class="typ-punct">)</span><span class="typ-punct">)</span><span class="typ-punct">,</span>
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Fare*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> <span class="typ-func">usd</span><span class="typ-punct">(</span>r<span class="typ-punct">.</span>Fare<span class="typ-punct">)</span><span class="typ-punct">)</span><span class="typ-punct">,</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Survived?*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> <span class="typ-punct">(</span><span class="typ-str">"No"</span><span class="typ-punct">,</span> <span class="typ-str">"Yes"</span><span class="typ-punct">)</span><span class="typ-punct">.</span><span class="typ-func">at</span><span class="typ-punct">(</span>r<span class="typ-punct">.</span>Survived<span class="typ-punct">)</span><span class="typ-punct">)</span><span class="typ-punct">,</span> 
  <span class="typ-punct">)</span><span class="typ-punct">,</span>
  fill<span class="typ-punct">:</span> <span class="typ-punct">(</span>_<span class="typ-punct">,</span> row<span class="typ-punct">)</span> <span class="typ-op">=&gt;</span> <span class="typ-key">if</span> calc<span class="typ-punct">.</span><span class="typ-func">odd</span><span class="typ-punct">(</span>row<span class="typ-punct">)</span> <span class="typ-punct">{</span> <span class="typ-func">luma</span><span class="typ-punct">(</span><span class="typ-num">240</span><span class="typ-punct">)</span> <span class="typ-punct">}</span> <span class="typ-key">else</span> <span class="typ-punct">{</span> <span class="typ-func">luma</span><span class="typ-punct">(</span><span class="typ-num">220</span><span class="typ-punct">)</span> <span class="typ-punct">}</span><span class="typ-punct">,</span> 
  stroke<span class="typ-punct">:</span> <span class="typ-key">none</span>
<span class="typ-punct">)</span>
</code></code></pre>
       </div>
       <div>
        <p>
         <img src="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/doc/compiled-snippets/filter.svg"/>
        </p>
       </div>
      </div>
      <div>
       <h2>
        Aggregation using Map and Sum
        <span id="aggregation-using-map-and-sum">
        </span>
       </h2>
       <div>
        <pre><code class="language-typ"><code><span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"usd.typ"</span><span class="typ-punct">:</span> usd
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"example-data/titanic.typ"</span><span class="typ-punct">:</span> titanic<span class="typ-punct">,</span> classes

<span class="typ-func">#</span><span class="typ-func">table</span><span class="typ-punct">(</span>
  columns<span class="typ-punct">:</span> <span class="typ-punct">(</span><span class="typ-key">auto</span><span class="typ-punct">,</span> <span class="typ-key">auto</span><span class="typ-punct">)</span><span class="typ-punct">,</span>
  <span class="typ-punct">[</span><span class="typ-strong">*Fare, Total:*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> <span class="typ-punct">[</span><span class="typ-func">#</span><span class="typ-func">usd</span><span class="typ-punct">(</span>titanic<span class="typ-punct">.</span><span class="typ-func">map</span><span class="typ-punct">(</span>r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>Fare<span class="typ-punct">)</span><span class="typ-punct">.</span><span class="typ-func">sum</span><span class="typ-punct">(</span><span class="typ-punct">)</span><span class="typ-punct">)</span><span class="typ-punct">]</span><span class="typ-punct">,</span>
  <span class="typ-punct">[</span><span class="typ-strong">*Fare, Avg:*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> <span class="typ-punct">[</span><span class="typ-func">#</span><span class="typ-func">usd</span><span class="typ-punct">(</span>titanic<span class="typ-punct">.</span><span class="typ-func">map</span><span class="typ-punct">(</span>r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>Fare<span class="typ-punct">)</span><span class="typ-punct">.</span><span class="typ-func">sum</span><span class="typ-punct">(</span><span class="typ-punct">)</span> <span class="typ-op">/</span> titanic<span class="typ-punct">.</span><span class="typ-func">len</span><span class="typ-punct">(</span><span class="typ-punct">)</span><span class="typ-punct">)</span><span class="typ-punct">]</span><span class="typ-punct">,</span> 
  stroke<span class="typ-punct">:</span> <span class="typ-key">none</span>
<span class="typ-punct">)</span>
</code></code></pre>
       </div>
       <div>
        <p>
         <img src="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/doc/compiled-snippets/aggregation.svg"/>
        </p>
       </div>
      </div>
      <div>
       <h2>
        Grouping
        <span id="grouping">
        </span>
       </h2>
       <div>
        <pre><code class="language-typ"><code><span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"@preview/tabut:1.0.2"</span><span class="typ-punct">:</span> tabut<span class="typ-punct">,</span> group
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"example-data/titanic.typ"</span><span class="typ-punct">:</span> titanic<span class="typ-punct">,</span> classes

<span class="typ-func">#</span><span class="typ-func">tabut</span><span class="typ-punct">(</span>
  <span class="typ-func">group</span><span class="typ-punct">(</span>titanic<span class="typ-punct">,</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>Pclass<span class="typ-punct">)</span><span class="typ-punct">,</span>
  <span class="typ-punct">(</span>
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Class*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> classes<span class="typ-punct">.</span><span class="typ-func">at</span><span class="typ-punct">(</span>r<span class="typ-punct">.</span>value<span class="typ-punct">)</span><span class="typ-punct">)</span><span class="typ-punct">,</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Passengers*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>group<span class="typ-punct">.</span><span class="typ-func">len</span><span class="typ-punct">(</span><span class="typ-punct">)</span><span class="typ-punct">)</span><span class="typ-punct">,</span> 
  <span class="typ-punct">)</span><span class="typ-punct">,</span>
  fill<span class="typ-punct">:</span> <span class="typ-punct">(</span>_<span class="typ-punct">,</span> row<span class="typ-punct">)</span> <span class="typ-op">=&gt;</span> <span class="typ-key">if</span> calc<span class="typ-punct">.</span><span class="typ-func">odd</span><span class="typ-punct">(</span>row<span class="typ-punct">)</span> <span class="typ-punct">{</span> <span class="typ-func">luma</span><span class="typ-punct">(</span><span class="typ-num">240</span><span class="typ-punct">)</span> <span class="typ-punct">}</span> <span class="typ-key">else</span> <span class="typ-punct">{</span> <span class="typ-func">luma</span><span class="typ-punct">(</span><span class="typ-num">220</span><span class="typ-punct">)</span> <span class="typ-punct">}</span><span class="typ-punct">,</span> 
  stroke<span class="typ-punct">:</span> <span class="typ-key">none</span>
<span class="typ-punct">)</span>
</code></code></pre>
       </div>
       <div>
        <p>
         <img src="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/doc/compiled-snippets/group.svg"/>
        </p>
       </div>
       <div>
        <pre><code class="language-typ"><code><span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"@preview/tabut:1.0.2"</span><span class="typ-punct">:</span> tabut<span class="typ-punct">,</span> group
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"usd.typ"</span><span class="typ-punct">:</span> usd
<span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"example-data/titanic.typ"</span><span class="typ-punct">:</span> titanic<span class="typ-punct">,</span> classes

<span class="typ-func">#</span><span class="typ-func">tabut</span><span class="typ-punct">(</span>
  <span class="typ-func">group</span><span class="typ-punct">(</span>titanic<span class="typ-punct">,</span> r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>Pclass<span class="typ-punct">)</span><span class="typ-punct">,</span>
  <span class="typ-punct">(</span>
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Class*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> classes<span class="typ-punct">.</span><span class="typ-func">at</span><span class="typ-punct">(</span>r<span class="typ-punct">.</span>value<span class="typ-punct">)</span><span class="typ-punct">)</span><span class="typ-punct">,</span> 
    <span class="typ-punct">(</span>header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Total Fare*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> <span class="typ-func">usd</span><span class="typ-punct">(</span>r<span class="typ-punct">.</span>group<span class="typ-punct">.</span><span class="typ-func">map</span><span class="typ-punct">(</span>r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>Fare<span class="typ-punct">)</span><span class="typ-punct">.</span><span class="typ-func">sum</span><span class="typ-punct">(</span><span class="typ-punct">)</span><span class="typ-punct">)</span><span class="typ-punct">)</span><span class="typ-punct">,</span> 
    <span class="typ-punct">(</span>
      header<span class="typ-punct">:</span> <span class="typ-punct">[</span><span class="typ-strong">*Avg Fare*</span><span class="typ-punct">]</span><span class="typ-punct">,</span> 
      func<span class="typ-punct">:</span> r <span class="typ-op">=&gt;</span> <span class="typ-func">usd</span><span class="typ-punct">(</span>r<span class="typ-punct">.</span>group<span class="typ-punct">.</span><span class="typ-func">map</span><span class="typ-punct">(</span>r <span class="typ-op">=&gt;</span> r<span class="typ-punct">.</span>Fare<span class="typ-punct">)</span><span class="typ-punct">.</span><span class="typ-func">sum</span><span class="typ-punct">(</span><span class="typ-punct">)</span> <span class="typ-op">/</span> r<span class="typ-punct">.</span>group<span class="typ-punct">.</span><span class="typ-func">len</span><span class="typ-punct">(</span><span class="typ-punct">)</span><span class="typ-punct">)</span>
    <span class="typ-punct">)</span><span class="typ-punct">,</span> 
  <span class="typ-punct">)</span><span class="typ-punct">,</span>
  fill<span class="typ-punct">:</span> <span class="typ-punct">(</span>_<span class="typ-punct">,</span> row<span class="typ-punct">)</span> <span class="typ-op">=&gt;</span> <span class="typ-key">if</span> calc<span class="typ-punct">.</span><span class="typ-func">odd</span><span class="typ-punct">(</span>row<span class="typ-punct">)</span> <span class="typ-punct">{</span> <span class="typ-func">luma</span><span class="typ-punct">(</span><span class="typ-num">240</span><span class="typ-punct">)</span> <span class="typ-punct">}</span> <span class="typ-key">else</span> <span class="typ-punct">{</span> <span class="typ-func">luma</span><span class="typ-punct">(</span><span class="typ-num">220</span><span class="typ-punct">)</span> <span class="typ-punct">}</span><span class="typ-punct">,</span> 
  stroke<span class="typ-punct">:</span> <span class="typ-key">none</span>
<span class="typ-punct">)</span>
</code></code></pre>
       </div>
       <div>
        <p>
         <img src="https://github.com/typst/packages/raw/main/packages/preview/tabut/1.0.2/doc/compiled-snippets/group-aggregation.svg"/>
        </p>
       </div>
      </div>
      <div>
      </div>
      <div>
       <h2>
        <code>
         tabut
        </code>
        <span id="tabut">
        </span>
       </h2>
       <p>
        Takes data and column definitions and outputs a table.
       </p>
       <div>
        <pre><code class="language-typc">tabut(
  data-raw, 
  colDefs, 
  columns: auto,
  align: auto,
  index: "_index",
  transpose: false,
  headers: true,
  ..tableArgs
) -&gt; content
</code></pre>
       </div>
       <h3>
        Parameters
       </h3>
       <p>
        <code>
         data-raw
        </code>
        <br/>
        This is the raw data that will be used to generate the table. The data is expected to be in an array of dictionaries, where each dictionary represents a single record or object.
       </p>
       <p>
        <code>
         colDefs
        </code>
        <br/>
        These are the column definitions. An array of dictionaries, each representing column definition. Must include the properties
        <code>
         header
        </code>
        and a
        <code>
         func
        </code>
        .
        <code>
         header
        </code>
        expects content, and specifies the label of the column.
        <code>
         func
        </code>
        expects a function, the function takes a record dictionary as input and returns the value to be displayed in the cell corresponding to that record and column. There are also two optional properties;
        <code>
         align
        </code>
        sets the alignment of the content within the cells of the column,
        <code>
         width
        </code>
        sets the width of the column.
       </p>
       <p>
        <code>
         columns
        </code>
        <br/>
        (optional, default:
        <code>
         auto
        </code>
        ) Specifies the column widths. If set to
        <code>
         auto
        </code>
        , the function automatically generates column widths by each columnâs column definition. Otherwise functions exactly the
        <code>
         columns
        </code>
        paramater of the standard Typst
        <code>
         table
        </code>
        function. Unlike the
        <code>
         tabut-cells
        </code>
        setting this to
        <code>
         none
        </code>
        will break.
       </p>
       <p>
        <code>
         align
        </code>
        <br/>
        (optional, default:
        <code>
         auto
        </code>
        ) Specifies the column alignment. If set to
        <code>
         auto
        </code>
        , the function automatically generates column alignment by each columnâs column definition. If set to
        <code>
         none
        </code>
        no
        <code>
         align
        </code>
        property is added to the output arg. Otherwise functions exactly the
        <code>
         align
        </code>
        paramater of the standard Typst
        <code>
         table
        </code>
        function.
       </p>
       <p>
        <code>
         index
        </code>
        <br/>
        (optional, default:
        <code>
         "_index"
        </code>
        ) Specifies the property name for the index of each record. By default, an
        <code>
         _index
        </code>
        property is automatically added to each record. If set to
        <code>
         none
        </code>
        , no index property is added.
       </p>
       <p>
        <code>
         transpose
        </code>
        <br/>
        (optional, default:
        <code>
         false
        </code>
        ) If set to
        <code>
         true
        </code>
        , transposes the table, swapping rows and columns.
       </p>
       <p>
        <code>
         headers
        </code>
        <br/>
        (optional, default:
        <code>
         true
        </code>
        ) Determines whether headers should be included in the output. If set to
        <code>
         false
        </code>
        , headers are not generated.
       </p>
       <p>
        <code>
         tableArgs
        </code>
        <br/>
        (optional) Any additional arguments are passed to the
        <code>
         table
        </code>
        function, can be used for styling or anything else.
       </p>
      </div>
      <div>
       <h2>
        <code>
         tabut-cells
        </code>
        <span id="tabut-cells">
        </span>
       </h2>
       <p>
        The
        <code>
         tabut-cells
        </code>
        function functions as
        <code>
         tabut
        </code>
        , but returns
        <code>
         arguments
        </code>
        for use in either the standard
        <code>
         table
        </code>
        function or other tools such as
        <code>
         tablex
        </code>
        . If you just want the array of cells, use the
        <code>
         pos
        </code>
        function on the returned value, ex
        <code>
         tabut-cells(...).pos
        </code>
        .
       </p>
       <p>
        <code>
         tabut-cells
        </code>
        is particularly useful when you need to generate only the cell contents of a table or when these cells need to be passed to another function for further processing or customization.
       </p>
       <h3>
        Function Signature
       </h3>
       <div>
        <pre><code class="language-typc">tabut-cells(
  data-raw, 
  colDefs, 
  columns: auto,
  align: auto,
  index: "_index",
  transpose: false,
  headers: true,
) -&gt; arguments
</code></pre>
       </div>
       <h3>
        Parameters
       </h3>
       <p>
        <code>
         data-raw
        </code>
        <br/>
        This is the raw data that will be used to generate the table. The data is expected to be in an array of dictionaries, where each dictionary represents a single record or object.
       </p>
       <p>
        <code>
         colDefs
        </code>
        <br/>
        These are the column definitions. An array of dictionaries, each representing column definition. Must include the properties
        <code>
         header
        </code>
        and a
        <code>
         func
        </code>
        .
        <code>
         header
        </code>
        expects content, and specifies the label of the column.
        <code>
         func
        </code>
        expects a function, the function takes a record dictionary as input and returns the value to be displayed in the cell corresponding to that record and column. There are also two optional properties;
        <code>
         align
        </code>
        sets the alignment of the content within the cells of the column,
        <code>
         width
        </code>
        sets the width of the column.
       </p>
       <p>
        <code>
         columns
        </code>
        <br/>
        (optional, default:
        <code>
         auto
        </code>
        ) Specifies the column widths. If set to
        <code>
         auto
        </code>
        , the function automatically generates column widths by each columnâs column definition. If set to
        <code>
         none
        </code>
        no
        <code>
         column
        </code>
        property is added to the output arg. Otherwise functions exactly the
        <code>
         columns
        </code>
        paramater of the standard typst
        <code>
         table
        </code>
        function.
       </p>
       <p>
        <code>
         align
        </code>
        <br/>
        (optional, default:
        <code>
         auto
        </code>
        ) Specifies the column alignment. If set to
        <code>
         auto
        </code>
        , the function automatically generates column alignment by each columnâs column definition. If set to
        <code>
         none
        </code>
        no
        <code>
         align
        </code>
        property is added to the output arg. Otherwise functions exactly the
        <code>
         align
        </code>
        paramater of the standard typst
        <code>
         table
        </code>
        function.
       </p>
       <p>
        <code>
         index
        </code>
        <br/>
        (optional, default:
        <code>
         "_index"
        </code>
        ) Specifies the property name for the index of each record. By default, an
        <code>
         _index
        </code>
        property is automatically added to each record. If set to
        <code>
         none
        </code>
        , no index property is added.
       </p>
       <p>
        <code>
         transpose
        </code>
        <br/>
        (optional, default:
        <code>
         false
        </code>
        ) If set to
        <code>
         true
        </code>
        , transposes the table, swapping rows and columns.
       </p>
       <p>
        <code>
         headers
        </code>
        <br/>
        (optional, default:
        <code>
         true
        </code>
        ) Determines whether headers should be included in the output. If set to
        <code>
         false
        </code>
        , headers are not generated.
       </p>
      </div>
      <div>
       <h2>
        <code>
         records-from-csv
        </code>
        <span id="records-from-csv">
        </span>
       </h2>
       <p>
        Automatically converts a CSV data into an array of records.
       </p>
       <div>
        <pre><code class="language-typc">records-from-csv(
  data
) -&gt; array
</code></pre>
       </div>
       <h3>
        Parameters
       </h3>
       <p>
        <code>
         data
        </code>
        <br/>
        The CSV data that needs to be converted, this can be obtained using the native
        <code>
         csv
        </code>
        function, like
        <code>
         records-from-csv(csv(file-path))
        </code>
        .
       </p>
       <p>
        This function simplifies the process of converting CSV data into a format compatible with
        <code>
         tabut
        </code>
        . It reads the CSV data, extracts the headers, and converts each row into a dictionary, using the headers as keys.
       </p>
       <p>
        It also automatically converts data into floats or integers when possible.
       </p>
      </div>
      <div>
       <h2>
        <code>
         rows-to-records
        </code>
        <span id="rows-to-records">
        </span>
       </h2>
       <p>
        Converts rows of data into an array of records based on specified headers.
       </p>
       <p>
        This function is useful for converting data in a ârowsâ format (commonly found in CSV files) into an array of dictionaries format, which is required for
        <code>
         tabut
        </code>
        and allows easy data processing using the built in array functions.
       </p>
       <div>
        <pre><code class="language-typc">rows-to-records(
  headers, 
  rows, 
  default: none
) -&gt; array
</code></pre>
       </div>
       <h3>
        Parameters
       </h3>
       <p>
        <code>
         headers
        </code>
        <br/>
        An array representing the headers of the table. Each item in this array corresponds to a column header.
       </p>
       <p>
        <code>
         rows
        </code>
        <br/>
        An array of arrays, each representing a row of data. Each sub-array contains the cell data for a corresponding row.
       </p>
       <p>
        <code>
         default
        </code>
        <br/>
        (optional, default:
        <code>
         none
        </code>
        ) A default value to use when a cell is empty or there is an error.
       </p>
      </div>
      <div>
       <h2>
        <code>
         group
        </code>
        <span id="group">
        </span>
       </h2>
       <p>
        Groups data based on a specified function and returns an array of grouped records.
       </p>
       <div>
        <pre><code class="language-typc">group(
  data, 
  function
) -&gt; array
</code></pre>
       </div>
       <h3>
        Parameters
       </h3>
       <p>
        <code>
         data
        </code>
        <br/>
        An array of dictionaries. Each dictionary represents a single record or object.
       </p>
       <p>
        <code>
         function
        </code>
        <br/>
        A function that takes a record as input and returns a value based on which the grouping is to be performed.
       </p>
       <p>
        This function iterates over each record in the
        <code>
         data
        </code>
        , applies the
        <code>
         function
        </code>
        to determine the grouping value, and organizes the records into groups based on this value. Each group record is represented as a dictionary with two properties:
        <code>
         value
        </code>
        (the result of the grouping function) and
        <code>
         group
        </code>
        (an array of records belonging to this group).
       </p>
       <p>
        In the context of
        <code>
         tabut
        </code>
        , the
        <code>
         group
        </code>
        function is particularly useful for creating summary tables where records need to be categorized and aggregated based on certain criteria, such as calculating total or average values for each group.
       </p>
      </div>
     </section>
     <aside>
      <section>
       <h3>
        How to add
       </h3>
       <p>
        Copy this into your project and use the import as
        <!-- -->
        <code>
         tabut
        </code>
       </p>
       <div class="import-snippet">
        <pre><code><span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"@preview/tabut:1.0.2"</span></code></pre>
        <button class="copy" title="Copy to clipboard">
         <img alt="Copy" height="16" src="/assets/icons/16-copy.svg" width="16"/>
        </button>
       </div>
       <p class="muted">
        Check the docs for
        <!-- -->
        <a href="https://typst.app/docs/reference/scripting/#packages">
         more information on how to import packages
        </a>
        .
       </p>
      </section>
      <section id="about">
       <h3>
        About
       </h3>
       <dl>
        <dt>
         Author
         <!-- -->
         :
        </dt>
        <dd>
         <a href="https://github.com/Amelia-Mowers" rel="noopener noreferrer" target="_blank">
          Amelia Mowers
         </a>
        </dd>
        <dt>
         License:
        </dt>
        <dd>
         MIT
        </dd>
        <dt>
         Current version:
        </dt>
        <dd>
         1.0.2
        </dd>
        <dt>
         Last updated:
        </dt>
        <dd>
         April 16, 2024
        </dd>
        <dt>
         First released:
        </dt>
        <dd>
         January 29, 2024
        </dd>
        <dt>
         Archive size:
        </dt>
        <dd class="archive-size-value">
         9.40 kB
         <a href="https://packages.typst.org/preview/tabut-1.0.2.tar.gz">
          <img alt="Size icon" src="/assets/icons/16-download.svg"/>
         </a>
        </dd>
        <dt>
         Repository:
        </dt>
        <dd>
         <a href="https://github.com/Amelia-Mowers/typst-tabut" rel="noopener noreferrer" target="_blank">
          GitHub
         </a>
        </dd>
       </dl>
      </section>
      <section>
       <h3>
        Where to report issues?
       </h3>
       <p>
        This
        <!-- -->
        package
        <!-- -->
        is a project of
        <!-- -->
        <!-- -->
        Amelia Mowers
        <!-- -->
        .
        <!-- -->
        <!-- -->
        Report issues on
        <!-- -->
        <a href="https://github.com/Amelia-Mowers/typst-tabut" rel="noopener noreferrer" target="_blank">
         their repository
        </a>
        .
        <!-- -->
        <!-- -->
        You can also try to ask for help with this
        <!-- -->
        package
        <!-- -->
        on the
        <!-- -->
        <a href="https://forum.typst.app" rel="noopener" target="_blank">
         Forum
        </a>
        .
       </p>
       <p>
        Please report this
        <!-- -->
        package
        <!-- -->
        to the Typst team using the
        <!-- -->
        <a href="https://typst.app/contact" rel="noreferrer" target="_blank">
         contact form
        </a>
        <!-- -->
        if you believe it is a safety hazard or infringes upon your rights.
       </p>
      </section>
      <section id="versions">
       <h3>
        Version history
       </h3>
       <table>
        <thead>
         <tr>
          <th align="left">
           Version
          </th>
          <th align="left">
           Release Date
          </th>
         </tr>
        </thead>
        <tbody>
         <tr>
          <td align="left">
           1.0.2
          </td>
          <td align="left">
           April 16, 2024
          </td>
         </tr>
         <tr>
          <td align="left">
           <a href="https://typst.app/universe/package/tabut/1.0.1/">
            1.0.1
           </a>
          </td>
          <td align="left">
           January 31, 2024
          </td>
         </tr>
         <tr>
          <td align="left">
           <a href="https://typst.app/universe/package/tabut/1.0.0/">
            1.0.0
           </a>
          </td>
          <td align="left">
           January 29, 2024
          </td>
         </tr>
        </tbody>
       </table>
      </section>
      <p class="bottom-notice muted">
       Typst GmbH did not create this
       <!-- -->
       package
       <!-- -->
       and cannot guarantee correct functionality of this
       <!-- -->
       package
       <!-- -->
       or compatibility with any version of the Typst compiler or app.
      </p>
     </aside>
    </div>
   </main>