<main>
    <ul aria-label="Breadcrumbs" class="breadcrumbs">
     <li class="root">
      <a href="/docs">
       <img alt="Docs" height="16" src="/assets/icons/16-docs-dark.svg" width="16"/>
      </a>
     </li>
     <li aria-hidden="true">
      <img alt="" height="16" src="/assets/icons/16-arrow-right.svg" width="16"/>
     </li>
     <li>
      <a href="/docs/reference/">
       Reference
      </a>
     </li>
     <li aria-hidden="true">
      <img alt="" height="16" src="/assets/icons/16-arrow-right.svg" width="16"/>
     </li>
     <li>
      <a href="/docs/reference/scripting/">
       Scripting
      </a>
     </li>
    </ul>
    <h1>
     Scripting
    </h1>
    <p>
     Typst embeds a powerful scripting language. You can automate your documents and create more sophisticated styles with code. Below is an overview over the scripting concepts.
    </p>
    <h2 id="expressions">
     Expressions
    </h2>
    <p>
     In Typst, markup and code are fused into one. All but the most common elements are created with
     <em>
      functions.
     </em>
     To make this as convenient as possible, Typst provides compact syntax to embed a code expression into markup: An expression is introduced with a hash (
     <code>
      #
     </code>
     ) and normal markup parsing resumes after the expression is finished. If a character would continue the expression but should be interpreted as text, the expression can forcibly be ended with a semicolon (
     <code>
      ;
     </code>
     ).
    </p>
    <div class="previewed-code">
     <pre><code><span class="typ-func">#</span><span class="typ-func">emph</span><span class="typ-punct">[</span>Hello<span class="typ-punct">]</span> <span class="typ-escape">\</span>
<span class="typ-pol">#</span><span class="typ-pol">emoji</span><span class="typ-punct">.</span><span class="typ-pol">face</span> <span class="typ-escape">\</span>
<span class="typ-str">#</span><span class="typ-str">"hello"</span><span class="typ-punct">.</span><span class="typ-func">len</span><span class="typ-punct">(</span><span class="typ-punct">)</span>
</code></pre>
     <div class="preview">
      <img alt="Preview" height="135/" src="/assets/docs/Vvzr_VTofgbwk2d3ymxPMQAAAAAAAAAA.png" width="480"/>
     </div>
    </div>
    <p>
     The example above shows a few of the available expressions, including
     <a href="/docs/reference/foundations/function/">
      function calls
     </a>
     ,
     <a href="/docs/reference/scripting/#fields">
      field accesses
     </a>
     , and
     <a href="/docs/reference/scripting/#methods">
      method calls
     </a>
     . More kinds of expressions are discussed in the remainder of this chapter. A few kinds of expressions are not compatible with the hash syntax (e.g. binary operator expressions). To embed these into markup, you can use parentheses, as in
     <code>
      <span class="typ-punct">
       #
      </span>
      <span class="typ-punct">
       (
      </span>
      <span class="typ-num">
       1
      </span>
      <span class="typ-op">
       +
      </span>
      <span class="typ-num">
       2
      </span>
      <span class="typ-punct">
       )
      </span>
     </code>
     .
    </p>
    <h2 id="blocks">
     Blocks
    </h2>
    <p>
     To structure your code and embed markup into it, Typst provides two kinds of
     <em>
      blocks:
     </em>
    </p>
    <ul>
     <li>
      <p>
       <strong>
        Code block:
       </strong>
       <code>
        <span class="typ-punct">
         {
        </span>
        <span class="typ-key">
         let
        </span>
        x
        <span class="typ-op">
         =
        </span>
        <span class="typ-num">
         1
        </span>
        <span class="typ-punct">
         ;
        </span>
        x
        <span class="typ-op">
         +
        </span>
        <span class="typ-num">
         2
        </span>
        <span class="typ-punct">
         }
        </span>
       </code>
       <br/>
       When writing code, you'll probably want to split up your computation into multiple statements, create some intermediate variables and so on. Code blocks let you write multiple expressions where one is expected. The individual expressions in a code block should be separated by line breaks or semicolons. The output values of the individual expressions in a code block are joined to determine the block's value. Expressions without useful output, like
       <code>
        <span class="typ-key">
         let
        </span>
       </code>
       bindings yield
       <code>
        <span class="typ-key">
         none
        </span>
       </code>
       , which can be joined with any value without effect.
      </p>
     </li>
     <li>
      <p>
       <strong>
        Content block:
       </strong>
       <code>
        <span class="typ-punct">
         [
        </span>
        <span class="typ-strong">
         *Hey*
        </span>
        there!
        <span class="typ-punct">
         ]
        </span>
       </code>
       <br/>
       With content blocks, you can handle markup/content as a programmatic value, store it in variables and pass it to
       <a href="/docs/reference/foundations/function/">
        functions
       </a>
       . Content blocks are delimited by square brackets and can contain arbitrary markup. A content block results in a value of type
       <a href="/docs/reference/foundations/content/" title="content">
        content
       </a>
       . An arbitrary number of content blocks can be passed as trailing arguments to functions. That is,
       <code>
        <span class="typ-func">
         list
        </span>
        <span class="typ-punct">
         (
        </span>
        <span class="typ-punct">
         [
        </span>
        A
        <span class="typ-punct">
         ]
        </span>
        <span class="typ-punct">
         ,
        </span>
        <span class="typ-punct">
         [
        </span>
        B
        <span class="typ-punct">
         ]
        </span>
        <span class="typ-punct">
         )
        </span>
       </code>
       is equivalent to
       <code>
        <span class="typ-func">
         list
        </span>
        <span class="typ-punct">
         [
        </span>
        A
        <span class="typ-punct">
         ]
        </span>
        <span class="typ-punct">
         [
        </span>
        B
        <span class="typ-punct">
         ]
        </span>
       </code>
       .
      </p>
     </li>
    </ul>
    <p>
     Content and code blocks can be nested arbitrarily. In the example below,
     <code>
      <span class="typ-punct">
       [
      </span>
      hello
      <span class="typ-punct">
       ]
      </span>
     </code>
     is joined with the output of
     <code>
      a
      <span class="typ-op">
       +
      </span>
      <span class="typ-punct">
       [
      </span>
      the
      <span class="typ-punct">
       ]
      </span>
      <span class="typ-op">
       +
      </span>
      b
     </code>
     yielding
     <code>
      <span class="typ-punct">
       [
      </span>
      hello from the
      <span class="typ-strong">
       *world*
      </span>
      <span class="typ-punct">
       ]
      </span>
     </code>
     .
    </p>
    <div class="previewed-code">
     <pre><code><span class="typ-punct">#</span><span class="typ-punct">{</span>
  <span class="typ-key">let</span> a <span class="typ-op">=</span> <span class="typ-punct">[</span>from<span class="typ-punct">]</span>
  <span class="typ-key">let</span> b <span class="typ-op">=</span> <span class="typ-punct">[</span><span class="typ-strong">*world*</span><span class="typ-punct">]</span>
  <span class="typ-punct">[</span>hello <span class="typ-punct">]</span>
  a <span class="typ-op">+</span> <span class="typ-punct">[</span> the <span class="typ-punct">]</span> <span class="typ-op">+</span> b
<span class="typ-punct">}</span>
</code></pre>
     <div class="preview">
      <img alt="Preview" height="74/" src="/assets/docs/9fGlmpI93XiZ44REV_aDoQAAAAAAAAAA.png" width="480"/>
     </div>
    </div>
    <h2 id="bindings">
     Bindings and Destructuring
    </h2>
    <p>
     As already demonstrated above, variables can be defined with
     <code>
      <span class="typ-key">
       let
      </span>
     </code>
     bindings. The variable is assigned the value of the expression that follows the
     <code>
      =
     </code>
     sign. The assignment of a value is optional, if no value is assigned, the variable will be initialized as
     <code>
      <span class="typ-key">
       none
      </span>
     </code>
     . The
     <code>
      <span class="typ-key">
       let
      </span>
     </code>
     keyword can also be used to create a
     <a href="/docs/reference/foundations/function/#defining-functions">
      custom named function
     </a>
     . Variables can be accessed for the rest of the containing block (or the rest of the file if there is no containing block).
    </p>
    <div class="previewed-code">
     <pre><code><span class="typ-key">#</span><span class="typ-key">let</span> name <span class="typ-op">=</span> <span class="typ-str">"Typst"</span>
This is <span class="typ-pol">#</span><span class="typ-pol">name</span>'s documentation.
It explains <span class="typ-pol">#</span><span class="typ-pol">name</span>.

<span class="typ-key">#</span><span class="typ-key">let</span> <span class="typ-func">add</span><span class="typ-punct">(</span>x<span class="typ-punct">,</span> y<span class="typ-punct">)</span> <span class="typ-op">=</span> x <span class="typ-op">+</span> y
Sum is <span class="typ-func">#</span><span class="typ-func">add</span><span class="typ-punct">(</span><span class="typ-num">2</span><span class="typ-punct">,</span> <span class="typ-num">3</span><span class="typ-punct">)</span>.
</code></pre>
     <div class="preview">
      <img alt="Preview" height="144/" src="/assets/docs/yrL9Iv6avU1LgnwbwwruLwAAAAAAAAAA.png" width="480"/>
     </div>
    </div>
    <p>
     Let bindings can also be used to destructure
     <a href="/docs/reference/foundations/array/">
      arrays
     </a>
     and
     <a href="/docs/reference/foundations/dictionary/">
      dictionaries
     </a>
     . In this case, the left-hand side of the assignment should mirror an array or dictionary. The
     <code>
      ..
     </code>
     operator can be used once in the pattern to collect the remainder of the array's or dictionary's items.
    </p>
    <div class="previewed-code">
     <pre><code><span class="typ-key">#</span><span class="typ-key">let</span> <span class="typ-punct">(</span>x<span class="typ-punct">,</span> y<span class="typ-punct">)</span> <span class="typ-op">=</span> <span class="typ-punct">(</span><span class="typ-num">1</span><span class="typ-punct">,</span> <span class="typ-num">2</span><span class="typ-punct">)</span>
The coordinates are <span class="typ-pol">#</span><span class="typ-pol">x</span>, <span class="typ-pol">#</span><span class="typ-pol">y</span>.

<span class="typ-key">#</span><span class="typ-key">let</span> <span class="typ-punct">(</span>a<span class="typ-punct">,</span> <span class="typ-op">..</span><span class="typ-punct">,</span> b<span class="typ-punct">)</span> <span class="typ-op">=</span> <span class="typ-punct">(</span><span class="typ-num">1</span><span class="typ-punct">,</span> <span class="typ-num">2</span><span class="typ-punct">,</span> <span class="typ-num">3</span><span class="typ-punct">,</span> <span class="typ-num">4</span><span class="typ-punct">)</span>
The first element is <span class="typ-pol">#</span><span class="typ-pol">a</span>.
The last element is <span class="typ-pol">#</span><span class="typ-pol">b</span>.

<span class="typ-key">#</span><span class="typ-key">let</span> books <span class="typ-op">=</span> <span class="typ-punct">(</span>
  Shakespeare<span class="typ-punct">:</span> <span class="typ-str">"Hamlet"</span><span class="typ-punct">,</span>
  Homer<span class="typ-punct">:</span> <span class="typ-str">"The Odyssey"</span><span class="typ-punct">,</span>
  Austen<span class="typ-punct">:</span> <span class="typ-str">"Persuasion"</span><span class="typ-punct">,</span>
<span class="typ-punct">)</span>

<span class="typ-key">#</span><span class="typ-key">let</span> <span class="typ-punct">(</span>Austen<span class="typ-punct">,</span><span class="typ-punct">)</span> <span class="typ-op">=</span> books
Austen wrote <span class="typ-pol">#</span><span class="typ-pol">Austen</span>.

<span class="typ-key">#</span><span class="typ-key">let</span> <span class="typ-punct">(</span>Homer<span class="typ-punct">:</span> h<span class="typ-punct">)</span> <span class="typ-op">=</span> books
Homer wrote <span class="typ-pol">#</span><span class="typ-pol">h</span>.

<span class="typ-key">#</span><span class="typ-key">let</span> <span class="typ-punct">(</span>Homer<span class="typ-punct">,</span> <span class="typ-op">..</span>other<span class="typ-punct">)</span> <span class="typ-op">=</span> books
<span class="typ-key">#</span><span class="typ-key">for</span> <span class="typ-punct">(</span>author<span class="typ-punct">,</span> title<span class="typ-punct">)</span> <span class="typ-key">in</span> other <span class="typ-punct">[</span>
  <span class="typ-pol">#</span><span class="typ-pol">author</span> wrote <span class="typ-pol">#</span><span class="typ-pol">title</span>.
<span class="typ-punct">]</span>
</code></pre>
     <div class="preview">
      <img alt="Preview" height="267/" src="/assets/docs/V0qKVNlCRuARFWpYu5iPEAAAAAAAAAAA.png" width="480"/>
     </div>
    </div>
    <p>
     You can use the underscore to discard elements in a destructuring pattern:
    </p>
    <div class="previewed-code">
     <pre><code><span class="typ-key">#</span><span class="typ-key">let</span> <span class="typ-punct">(</span>_<span class="typ-punct">,</span> y<span class="typ-punct">,</span> _<span class="typ-punct">)</span> <span class="typ-op">=</span> <span class="typ-punct">(</span><span class="typ-num">1</span><span class="typ-punct">,</span> <span class="typ-num">2</span><span class="typ-punct">,</span> <span class="typ-num">3</span><span class="typ-punct">)</span>
The y coordinate is <span class="typ-pol">#</span><span class="typ-pol">y</span>.
</code></pre>
     <div class="preview">
      <img alt="Preview" height="74/" src="/assets/docs/LTIPVXoxwTxHgnZJYm9hXgAAAAAAAAAA.png" width="480"/>
     </div>
    </div>
    <p>
     Destructuring also work in argument lists of functions ...
    </p>
    <div class="previewed-code">
     <pre><code><span class="typ-key">#</span><span class="typ-key">let</span> left <span class="typ-op">=</span> <span class="typ-punct">(</span><span class="typ-num">2</span><span class="typ-punct">,</span> <span class="typ-num">4</span><span class="typ-punct">,</span> <span class="typ-num">5</span><span class="typ-punct">)</span>
<span class="typ-key">#</span><span class="typ-key">let</span> right <span class="typ-op">=</span> <span class="typ-punct">(</span><span class="typ-num">3</span><span class="typ-punct">,</span> <span class="typ-num">2</span><span class="typ-punct">,</span> <span class="typ-num">6</span><span class="typ-punct">)</span>
<span class="typ-pol">#</span><span class="typ-pol">left</span><span class="typ-punct">.</span><span class="typ-func">zip</span><span class="typ-punct">(</span>right<span class="typ-punct">)</span><span class="typ-punct">.</span><span class="typ-func">map</span><span class="typ-punct">(</span>
  <span class="typ-punct">(</span><span class="typ-punct">(</span>a<span class="typ-punct">,</span>b<span class="typ-punct">)</span><span class="typ-punct">)</span> <span class="typ-op">=&gt;</span> a <span class="typ-op">+</span> b
<span class="typ-punct">)</span>
</code></pre>
     <div class="preview">
      <img alt="Preview" height="73/" src="/assets/docs/60UdChzzZGHopWziA6zwZwAAAAAAAAAA.png" width="480"/>
     </div>
    </div>
    <p>
     ... and on the left-hand side of normal assignments. This can be useful to swap variables among other things.
    </p>
    <div class="previewed-code">
     <pre><code><span class="typ-punct">#</span><span class="typ-punct">{</span>
  <span class="typ-key">let</span> a <span class="typ-op">=</span> <span class="typ-num">1</span>
  <span class="typ-key">let</span> b <span class="typ-op">=</span> <span class="typ-num">2</span>
  <span class="typ-punct">(</span>a<span class="typ-punct">,</span> b<span class="typ-punct">)</span> <span class="typ-op">=</span> <span class="typ-punct">(</span>b<span class="typ-punct">,</span> a<span class="typ-punct">)</span>
  <span class="typ-punct">[</span>a = <span class="typ-pol">#</span><span class="typ-pol">a</span>, b = <span class="typ-pol">#</span><span class="typ-pol">b</span><span class="typ-punct">]</span>
<span class="typ-punct">}</span>
</code></pre>
     <div class="preview">
      <img alt="Preview" height="74/" src="/assets/docs/LCvMaiUJqV2qC8Tphu5-bQAAAAAAAAAA.png" width="480"/>
     </div>
    </div>
    <h2 id="conditionals">
     Conditionals
    </h2>
    <p>
     With a conditional, you can display or compute different things depending on whether some condition is fulfilled. Typst supports
     <code>
      <span class="typ-key">
       if
      </span>
     </code>
     ,
     <code>
      else
      <span class="typ-key">
       if
      </span>
     </code>
     and
     <code>
      else
     </code>
     expression. When the condition evaluates to
     <code>
      <span class="typ-key">
       true
      </span>
     </code>
     , the conditional yields the value resulting from the if's body, otherwise yields the value resulting from the else's body.
    </p>
    <div class="previewed-code">
     <pre><code><span class="typ-key">#</span><span class="typ-key">if</span> <span class="typ-num">1</span> <span class="typ-op">&lt;</span> <span class="typ-num">2</span> <span class="typ-punct">[</span>
  This is shown
<span class="typ-punct">]</span> <span class="typ-key">else</span> <span class="typ-punct">[</span>
  This is not.
<span class="typ-punct">]</span>
</code></pre>
     <div class="preview">
      <img alt="Preview" height="74/" src="/assets/docs/nwPf6X84WrGm0BEnqRUsTQAAAAAAAAAA.png" width="480"/>
     </div>
    </div>
    <p>
     Each branch can have a code or content block as its body.
    </p>
    <ul>
     <li>
      <code>
       <span class="typ-key">
        if
       </span>
       condition
       <span class="typ-punct">
        {
       </span>
       ..
       <span class="typ-punct">
        }
       </span>
      </code>
     </li>
     <li>
      <code>
       <span class="typ-key">
        if
       </span>
       condition
       <span class="typ-punct">
        [
       </span>
       ..
       <span class="typ-punct">
        ]
       </span>
      </code>
     </li>
     <li>
      <code>
       <span class="typ-key">
        if
       </span>
       condition
       <span class="typ-punct">
        [
       </span>
       ..
       <span class="typ-punct">
        ]
       </span>
       <span class="typ-key">
        else
       </span>
       <span class="typ-punct">
        {
       </span>
       ..
       <span class="typ-punct">
        }
       </span>
      </code>
     </li>
     <li>
      <code>
       <span class="typ-key">
        if
       </span>
       condition
       <span class="typ-punct">
        [
       </span>
       ..
       <span class="typ-punct">
        ]
       </span>
       <span class="typ-key">
        else
       </span>
       <span class="typ-key">
        if
       </span>
       condition
       <span class="typ-punct">
        {
       </span>
       ..
       <span class="typ-punct">
        }
       </span>
       <span class="typ-key">
        else
       </span>
       <span class="typ-punct">
        [
       </span>
       ..
       <span class="typ-punct">
        ]
       </span>
      </code>
     </li>
    </ul>
    <h2 id="loops">
     Loops
    </h2>
    <p>
     With loops, you can repeat content or compute something iteratively. Typst supports two types of loops:
     <code>
      <span class="typ-key">
       for
      </span>
     </code>
     and
     <code>
      <span class="typ-key">
       while
      </span>
     </code>
     loops. The former iterate over a specified collection whereas the latter iterate as long as a condition stays fulfilled. Just like blocks, loops
     <em>
      join
     </em>
     the results from each iteration into one value.
    </p>
    <p>
     In the example below, the three sentences created by the for loop join together into a single content value and the length-1 arrays in the while loop join together into one larger array.
    </p>
    <div class="previewed-code">
     <pre><code><span class="typ-key">#</span><span class="typ-key">for</span> c <span class="typ-key">in</span> <span class="typ-str">"ABC"</span> <span class="typ-punct">[</span>
  <span class="typ-pol">#</span><span class="typ-pol">c</span> is a letter.
<span class="typ-punct">]</span>

<span class="typ-key">#</span><span class="typ-key">let</span> n <span class="typ-op">=</span> <span class="typ-num">2</span>
<span class="typ-key">#</span><span class="typ-key">while</span> n <span class="typ-op">&lt;</span> <span class="typ-num">10</span> <span class="typ-punct">{</span>
  n <span class="typ-op">=</span> <span class="typ-punct">(</span>n <span class="typ-op">*</span> <span class="typ-num">2</span><span class="typ-punct">)</span> <span class="typ-op">-</span> <span class="typ-num">1</span>
  <span class="typ-punct">(</span>n<span class="typ-punct">,</span><span class="typ-punct">)</span>
<span class="typ-punct">}</span>
</code></pre>
     <div class="preview">
      <img alt="Preview" height="114/" src="/assets/docs/74fsCbbxVkZaLeuPLKRiCwAAAAAAAAAA.png" width="480"/>
     </div>
    </div>
    <p>
     For loops can iterate over a variety of collections:
    </p>
    <ul>
     <li>
      <p>
       <code>
        <span class="typ-key">
         for
        </span>
        value
        <span class="typ-key">
         in
        </span>
        array
        <span class="typ-punct">
         {
        </span>
        ..
        <span class="typ-punct">
         }
        </span>
       </code>
       <br/>
       Iterates over the items in the
       <a href="/docs/reference/foundations/array/" title="array">
        array
       </a>
       . The destructuring syntax described in
       <a href="/docs/reference/scripting/#bindings">
        Let binding
       </a>
       can also be used here.
      </p>
     </li>
     <li>
      <p>
       <code>
        <span class="typ-key">
         for
        </span>
        pair
        <span class="typ-key">
         in
        </span>
        dict
        <span class="typ-punct">
         {
        </span>
        ..
        <span class="typ-punct">
         }
        </span>
       </code>
       <br/>
       Iterates over the key-value pairs of the
       <a href="/docs/reference/foundations/dictionary/" title="dictionary">
        dictionary
       </a>
       . The pairs can also be destructured by using
       <code>
        <span class="typ-key">
         for
        </span>
        <span class="typ-punct">
         (
        </span>
        key
        <span class="typ-punct">
         ,
        </span>
        value
        <span class="typ-punct">
         )
        </span>
        <span class="typ-key">
         in
        </span>
        dict
        <span class="typ-punct">
         {
        </span>
        ..
        <span class="typ-punct">
         }
        </span>
       </code>
       . It is more efficient than
       <code>
        <span class="typ-key">
         for
        </span>
        pair
        <span class="typ-key">
         in
        </span>
        dict
        <span class="typ-punct">
         .
        </span>
        <span class="typ-func">
         pairs
        </span>
        <span class="typ-punct">
         (
        </span>
        <span class="typ-punct">
         )
        </span>
        <span class="typ-punct">
         {
        </span>
        ..
        <span class="typ-punct">
         }
        </span>
       </code>
       because it doesn't create a temporary array of all key-value pairs.
      </p>
     </li>
     <li>
      <p>
       <code>
        <span class="typ-key">
         for
        </span>
        letter
        <span class="typ-key">
         in
        </span>
        <span class="typ-str">
         "abc"
        </span>
        <span class="typ-punct">
         {
        </span>
        ..
        <span class="typ-punct">
         }
        </span>
       </code>
       <br/>
       Iterates over the characters of the
       <a href="/docs/reference/foundations/str/">
        string
       </a>
       . Technically, it iterates over the grapheme clusters of the string. Most of the time, a grapheme cluster is just a single codepoint. However, a grapheme cluster could contain multiple codepoints, like a flag emoji.
      </p>
     </li>
     <li>
      <p>
       <code>
        <span class="typ-key">
         for
        </span>
        byte
        <span class="typ-key">
         in
        </span>
        <span class="typ-func">
         bytes
        </span>
        <span class="typ-punct">
         (
        </span>
        <span class="typ-str">
         "ð"
        </span>
        <span class="typ-punct">
         )
        </span>
        <span class="typ-punct">
         {
        </span>
        ..
        <span class="typ-punct">
         }
        </span>
       </code>
       <br/>
       Iterates over the
       <a href="/docs/reference/foundations/bytes/" title="bytes">
        bytes
       </a>
       , which can be converted from a
       <a href="/docs/reference/foundations/str/">
        string
       </a>
       or
       <a href="/docs/reference/data-loading/read/" title="read">
        read
       </a>
       from a file without encoding. Each byte value is an
       <a href="/docs/reference/foundations/int/">
        integer
       </a>
       between
       <code>
        <span class="typ-num">
         0
        </span>
       </code>
       and
       <code>
        <span class="typ-num">
         255
        </span>
       </code>
       .
      </p>
     </li>
    </ul>
    <p>
     To control the execution of the loop, Typst provides the
     <code>
      <span class="typ-key">
       break
      </span>
     </code>
     and
     <code>
      <span class="typ-key">
       continue
      </span>
     </code>
     statements. The former performs an early exit from the loop while the latter skips ahead to the next iteration of the loop.
    </p>
    <div class="previewed-code">
     <pre><code><span class="typ-key">#</span><span class="typ-key">for</span> letter <span class="typ-key">in</span> <span class="typ-str">"abc nope"</span> <span class="typ-punct">{</span>
  <span class="typ-key">if</span> letter <span class="typ-op">==</span> <span class="typ-str">" "</span> <span class="typ-punct">{</span>
    <span class="typ-key">break</span>
  <span class="typ-punct">}</span>

  letter
<span class="typ-punct">}</span>
</code></pre>
     <div class="preview">
      <img alt="Preview" height="74/" src="/assets/docs/i6FFy2h6Ocj5FGq9VflD-QAAAAAAAAAA.png" width="480"/>
     </div>
    </div>
    <p>
     The body of a loop can be a code or content block:
    </p>
    <ul>
     <li>
      <code>
       <span class="typ-key">
        for
       </span>
       .. in collection
       <span class="typ-punct">
        {
       </span>
       ..
       <span class="typ-punct">
        }
       </span>
      </code>
     </li>
     <li>
      <code>
       <span class="typ-key">
        for
       </span>
       .. in collection
       <span class="typ-punct">
        [
       </span>
       ..
       <span class="typ-punct">
        ]
       </span>
      </code>
     </li>
     <li>
      <code>
       <span class="typ-key">
        while
       </span>
       condition
       <span class="typ-punct">
        {
       </span>
       ..
       <span class="typ-punct">
        }
       </span>
      </code>
     </li>
     <li>
      <code>
       <span class="typ-key">
        while
       </span>
       condition
       <span class="typ-punct">
        [
       </span>
       ..
       <span class="typ-punct">
        ]
       </span>
      </code>
     </li>
    </ul>
    <h2 id="fields">
     Fields
    </h2>
    <p>
     You can use
     <em>
      dot notation
     </em>
     to access fields on a value. For values of type
     <a href="/docs/reference/foundations/content/" title="`content`">
      <code>
       content
      </code>
     </a>
     , you can also use the
     <a href="/docs/reference/foundations/content/#definitions-fields">
      <code>
       fields
      </code>
     </a>
     function to list the fields.
    </p>
    <p>
     The value in question can be either:
    </p>
    <ul>
     <li>
      a
      <a href="/docs/reference/foundations/dictionary/" title="dictionary">
       dictionary
      </a>
      that has the specified key,
     </li>
     <li>
      a
      <a href="/docs/reference/symbols/symbol/" title="symbol">
       symbol
      </a>
      that has the specified modifier,
     </li>
     <li>
      a
      <a href="/docs/reference/foundations/module/" title="module">
       module
      </a>
      containing the specified definition,
     </li>
     <li>
      <a href="/docs/reference/foundations/content/" title="content">
       content
      </a>
      consisting of an element that has the specified field. The available fields match the arguments of the
      <a href="/docs/reference/foundations/function/#element-functions">
       element function
      </a>
      that were given when the element was constructed.
     </li>
    </ul>
    <div class="previewed-code">
     <pre><code><span class="typ-key">#</span><span class="typ-key">let</span> it <span class="typ-op">=</span> <span class="typ-punct">[</span><span class="typ-heading">= Heading</span><span class="typ-punct">]</span>
<span class="typ-pol">#</span><span class="typ-pol">it</span><span class="typ-punct">.</span><span class="typ-pol">body</span> <span class="typ-escape">\</span>
<span class="typ-pol">#</span><span class="typ-pol">it</span><span class="typ-punct">.</span><span class="typ-pol">depth</span> <span class="typ-escape">\</span>
<span class="typ-pol">#</span><span class="typ-pol">it</span><span class="typ-punct">.</span><span class="typ-func">fields</span><span class="typ-punct">(</span><span class="typ-punct">)</span>

<span class="typ-key">#</span><span class="typ-key">let</span> dict <span class="typ-op">=</span> <span class="typ-punct">(</span>greet<span class="typ-punct">:</span> <span class="typ-str">"Hello"</span><span class="typ-punct">)</span>
<span class="typ-pol">#</span><span class="typ-pol">dict</span><span class="typ-punct">.</span><span class="typ-pol">greet</span> <span class="typ-escape">\</span>
<span class="typ-pol">#</span><span class="typ-pol">emoji</span><span class="typ-punct">.</span><span class="typ-pol">face</span>

</code></pre>
     <div class="preview">
      <img alt="Preview" height="204/" src="/assets/docs/5WDPdcADtV7mFakfulSQigAAAAAAAAAA.png" width="480"/>
     </div>
    </div>
    <h2 id="methods">
     Methods
    </h2>
    <p>
     A
     <em>
      method call
     </em>
     is a convenient way to call a function that is scoped to a value's
     <a href="/docs/reference/foundations/type/" title="type">
      type
     </a>
     . For example, we can call the
     <a href="/docs/reference/foundations/str/#definitions-len">
      <code>
       str.len
      </code>
     </a>
     function in the following two equivalent ways:
    </p>
    <div class="previewed-code">
     <pre><code><span class="typ-pol">#</span><span class="typ-pol">str</span><span class="typ-punct">.</span><span class="typ-func">len</span><span class="typ-punct">(</span><span class="typ-str">"abc"</span><span class="typ-punct">)</span> is the same as
<span class="typ-str">#</span><span class="typ-str">"abc"</span><span class="typ-punct">.</span><span class="typ-func">len</span><span class="typ-punct">(</span><span class="typ-punct">)</span>
</code></pre>
     <div class="preview">
      <img alt="Preview" height="74/" src="/assets/docs/j8kTSWLqLKb4876qGnfJQAAAAAAAAAAA.png" width="480"/>
     </div>
    </div>
    <p>
     The structure of a method call is
     <code>
      value
      <span class="typ-punct">
       .
      </span>
      <span class="typ-func">
       method
      </span>
      <span class="typ-punct">
       (
      </span>
      <span class="typ-op">
       ..
      </span>
      args
      <span class="typ-punct">
       )
      </span>
     </code>
     and its equivalent full function call is
     <code>
      <span class="typ-func">
       type
      </span>
      <span class="typ-punct">
       (
      </span>
      value
      <span class="typ-punct">
       )
      </span>
      <span class="typ-punct">
       .
      </span>
      <span class="typ-func">
       method
      </span>
      <span class="typ-punct">
       (
      </span>
      value
      <span class="typ-punct">
       ,
      </span>
      <span class="typ-op">
       ..
      </span>
      args
      <span class="typ-punct">
       )
      </span>
     </code>
     . The documentation of each type lists it's scoped functions. You cannot currently define your own methods.
    </p>
    <div class="previewed-code">
     <pre><code><span class="typ-key">#</span><span class="typ-key">let</span> values <span class="typ-op">=</span> <span class="typ-punct">(</span><span class="typ-num">1</span><span class="typ-punct">,</span> <span class="typ-num">2</span><span class="typ-punct">,</span> <span class="typ-num">3</span><span class="typ-punct">,</span> <span class="typ-num">4</span><span class="typ-punct">)</span>
<span class="typ-pol">#</span><span class="typ-pol">values</span><span class="typ-punct">.</span><span class="typ-func">pop</span><span class="typ-punct">(</span><span class="typ-punct">)</span> <span class="typ-escape">\</span>
<span class="typ-pol">#</span><span class="typ-pol">values</span><span class="typ-punct">.</span><span class="typ-func">len</span><span class="typ-punct">(</span><span class="typ-punct">)</span> <span class="typ-escape">\</span>

<span class="typ-punct">#</span><span class="typ-punct">(</span><span class="typ-str">"a, b, c"</span>
    <span class="typ-punct">.</span><span class="typ-func">split</span><span class="typ-punct">(</span><span class="typ-str">", "</span><span class="typ-punct">)</span>
    <span class="typ-punct">.</span><span class="typ-func">join</span><span class="typ-punct">[</span> <span class="typ-escape">---</span> <span class="typ-punct">]</span><span class="typ-punct">)</span>

<span class="typ-str">#</span><span class="typ-str">"abc"</span><span class="typ-punct">.</span><span class="typ-func">len</span><span class="typ-punct">(</span><span class="typ-punct">)</span> is the same as
<span class="typ-pol">#</span><span class="typ-pol">str</span><span class="typ-punct">.</span><span class="typ-func">len</span><span class="typ-punct">(</span><span class="typ-str">"abc"</span><span class="typ-punct">)</span>
</code></pre>
     <div class="preview">
      <img alt="Preview" height="185/" src="/assets/docs/acgddNIdTiEri93pewLJSQAAAAAAAAAA.png" width="480"/>
     </div>
    </div>
    <p>
     There are a few special functions that modify the value they are called on (e.g.
     <a href="/docs/reference/foundations/array/#definitions-push">
      <code>
       array.push
      </code>
     </a>
     ). These functions
     <em>
      must
     </em>
     be called in method form. In some cases, when the method is only called for its side effect, its return value should be ignored (and not participate in joining). The canonical way to discard a value is with a let binding:
     <code>
      <span class="typ-key">
       let
      </span>
      _
      <span class="typ-op">
       =
      </span>
      array
      <span class="typ-punct">
       .
      </span>
      <span class="typ-func">
       remove
      </span>
      <span class="typ-punct">
       (
      </span>
      <span class="typ-num">
       1
      </span>
      <span class="typ-punct">
       )
      </span>
     </code>
     .
    </p>
    <h2 id="modules">
     Modules
    </h2>
    <p>
     You can split up your Typst projects into multiple files called
     <em>
      modules.
     </em>
     A module can refer to the content and definitions of another module in multiple ways:
    </p>
    <ul>
     <li>
      <p>
       <strong>
        Including:
       </strong>
       <code>
        <span class="typ-key">
         include
        </span>
        <span class="typ-str">
         "bar.typ"
        </span>
       </code>
       <br/>
       Evaluates the file at the path
       <code>
        bar.typ
       </code>
       and returns the resulting
       <a href="/docs/reference/foundations/content/" title="content">
        content
       </a>
       .
      </p>
     </li>
     <li>
      <p>
       <strong>
        Import:
       </strong>
       <code>
        <span class="typ-key">
         import
        </span>
        <span class="typ-str">
         "bar.typ"
        </span>
       </code>
       <br/>
       Evaluates the file at the path
       <code>
        bar.typ
       </code>
       and inserts the resulting
       <a href="/docs/reference/foundations/module/" title="module">
        module
       </a>
       into the current scope as
       <code>
        bar
       </code>
       (filename without extension). You can use the
       <code>
        as
       </code>
       keyword to rename the imported module:
       <code>
        <span class="typ-key">
         import
        </span>
        <span class="typ-str">
         "bar.typ"
        </span>
        <span class="typ-key">
         as
        </span>
        baz
       </code>
       . You can import nested items using dot notation:
       <code>
        <span class="typ-key">
         import
        </span>
        <span class="typ-str">
         "bar.typ"
        </span>
        <span class="typ-punct">
         :
        </span>
        baz
        <span class="typ-punct">
         .
        </span>
        a
       </code>
       .
      </p>
     </li>
     <li>
      <p>
       <strong>
        Import items:
       </strong>
       <code>
        <span class="typ-key">
         import
        </span>
        <span class="typ-str">
         "bar.typ"
        </span>
        <span class="typ-punct">
         :
        </span>
        a
        <span class="typ-punct">
         ,
        </span>
        b
       </code>
       <br/>
       Evaluates the file at the path
       <code>
        bar.typ
       </code>
       , extracts the values of the variables
       <code>
        a
       </code>
       and
       <code>
        b
       </code>
       (that need to be defined in
       <code>
        bar.typ
       </code>
       , e.g. through
       <code>
        <span class="typ-key">
         let
        </span>
       </code>
       bindings) and defines them in the current file. Replacing
       <code>
        a, b
       </code>
       with
       <code>
        *
       </code>
       loads all variables defined in a module. You can use the
       <code>
        as
       </code>
       keyword to rename the individual items:
       <code>
        <span class="typ-key">
         import
        </span>
        <span class="typ-str">
         "bar.typ"
        </span>
        <span class="typ-punct">
         :
        </span>
        a
        <span class="typ-key">
         as
        </span>
        one
        <span class="typ-punct">
         ,
        </span>
        b
        <span class="typ-key">
         as
        </span>
        two
       </code>
      </p>
     </li>
    </ul>
    <p>
     Instead of a path, you can also use a
     <a href="/docs/reference/foundations/module/">
      module value
     </a>
     , as shown in the following example:
    </p>
    <div class="previewed-code">
     <pre><code><span class="typ-key">#</span><span class="typ-key">import</span> emoji<span class="typ-punct">:</span> face
<span class="typ-pol">#</span><span class="typ-pol">face</span><span class="typ-punct">.</span><span class="typ-pol">grin</span>
</code></pre>
     <div class="preview">
      <img alt="Preview" height="78/" src="/assets/docs/nDjZVIO8y_dHmoJCcIerKgAAAAAAAAAA.png" width="480"/>
     </div>
    </div>
    <h2 id="packages">
     Packages
    </h2>
    <p>
     To reuse building blocks across projects, you can also create and import Typst
     <em>
      packages.
     </em>
     A package import is specified as a triple of a namespace, a name, and a version.
    </p>
    <div class="previewed-code">
     <pre><code><span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">"@preview/example:0.1.0"</span><span class="typ-punct">:</span> add
<span class="typ-func">#</span><span class="typ-func">add</span><span class="typ-punct">(</span><span class="typ-num">2</span><span class="typ-punct">,</span> <span class="typ-num">7</span><span class="typ-punct">)</span>
</code></pre>
     <div class="preview">
      <img alt="Preview" height="74/" src="/assets/docs/PZlFYONRfjgFeuwUfEQd5gAAAAAAAAAA.png" width="480"/>
     </div>
    </div>
    <p>
     The
     <code>
      preview
     </code>
     namespace contains packages shared by the community. You can find all available community packages on
     <a href="https://typst.app/universe/">
      Typst Universe
     </a>
     .
    </p>
    <p>
     If you are using Typst locally, you can also create your own system-local packages. For more details on this, see the
     <a href="https://github.com/typst/packages">
      package repository
     </a>
     .
    </p>
    <h2 id="operators">
     Operators
    </h2>
    <p>
     The following table lists all available unary and binary operators with effect, arity (unary, binary) and precedence level (higher binds stronger).
    </p>
    <table>
     <thead>
      <tr>
       <th style="text-align:center">
        Operator
       </th>
       <th>
        Effect
       </th>
       <th style="text-align:center">
        Arity
       </th>
       <th style="text-align:center">
        Precedence
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td style="text-align:center">
        <code>
         <span class="typ-op">
          -
         </span>
        </code>
       </td>
       <td>
        Negation
       </td>
       <td style="text-align:center">
        Unary
       </td>
       <td style="text-align:center">
        7
       </td>
      </tr>
      <tr>
       <td style="text-align:center">
        <code>
         <span class="typ-op">
          +
         </span>
        </code>
       </td>
       <td>
        No effect (exists for symmetry)
       </td>
       <td style="text-align:center">
        Unary
       </td>
       <td style="text-align:center">
        7
       </td>
      </tr>
      <tr>
       <td style="text-align:center">
        <code>
         *
        </code>
       </td>
       <td>
        Multiplication
       </td>
       <td style="text-align:center">
        Binary
       </td>
       <td style="text-align:center">
        6
       </td>
      </tr>
      <tr>
       <td style="text-align:center">
        <code>
         /
        </code>
       </td>
       <td>
        Division
       </td>
       <td style="text-align:center">
        Binary
       </td>
       <td style="text-align:center">
        6
       </td>
      </tr>
      <tr>
       <td style="text-align:center">
        <code>
         <span class="typ-op">
          +
         </span>
        </code>
       </td>
       <td>
        Addition
       </td>
       <td style="text-align:center">
        Binary
       </td>
       <td style="text-align:center">
        5
       </td>
      </tr>
      <tr>
       <td style="text-align:center">
        <code>
         <span class="typ-op">
          -
         </span>
        </code>
       </td>
       <td>
        Subtraction
       </td>
       <td style="text-align:center">
        Binary
       </td>
       <td style="text-align:center">
        5
       </td>
      </tr>
      <tr>
       <td style="text-align:center">
        <code>
         ==
        </code>
       </td>
       <td>
        Check equality
       </td>
       <td style="text-align:center">
        Binary
       </td>
       <td style="text-align:center">
        4
       </td>
      </tr>
      <tr>
       <td style="text-align:center">
        <code>
         !=
        </code>
       </td>
       <td>
        Check inequality
       </td>
       <td style="text-align:center">
        Binary
       </td>
       <td style="text-align:center">
        4
       </td>
      </tr>
      <tr>
       <td style="text-align:center">
        <code>
         &lt;
        </code>
       </td>
       <td>
        Check less-than
       </td>
       <td style="text-align:center">
        Binary
       </td>
       <td style="text-align:center">
        4
       </td>
      </tr>
      <tr>
       <td style="text-align:center">
        <code>
         &lt;=
        </code>
       </td>
       <td>
        Check less-than or equal
       </td>
       <td style="text-align:center">
        Binary
       </td>
       <td style="text-align:center">
        4
       </td>
      </tr>
      <tr>
       <td style="text-align:center">
        <code>
         &gt;
        </code>
       </td>
       <td>
        Check greater-than
       </td>
       <td style="text-align:center">
        Binary
       </td>
       <td style="text-align:center">
        4
       </td>
      </tr>
      <tr>
       <td style="text-align:center">
        <code>
         &gt;=
        </code>
       </td>
       <td>
        Check greater-than or equal
       </td>
       <td style="text-align:center">
        Binary
       </td>
       <td style="text-align:center">
        4
       </td>
      </tr>
      <tr>
       <td style="text-align:center">
        <code>
         in
        </code>
       </td>
       <td>
        Check if in collection
       </td>
       <td style="text-align:center">
        Binary
       </td>
       <td style="text-align:center">
        4
       </td>
      </tr>
      <tr>
       <td style="text-align:center">
        <code>
         <span class="typ-key">
          not
         </span>
         <span class="typ-key">
          in
         </span>
        </code>
       </td>
       <td>
        Check if not in collection
       </td>
       <td style="text-align:center">
        Binary
       </td>
       <td style="text-align:center">
        4
       </td>
      </tr>
      <tr>
       <td style="text-align:center">
        <code>
         <span class="typ-key">
          not
         </span>
        </code>
       </td>
       <td>
        Logical "not"
       </td>
       <td style="text-align:center">
        Unary
       </td>
       <td style="text-align:center">
        3
       </td>
      </tr>
      <tr>
       <td style="text-align:center">
        <code>
         and
        </code>
       </td>
       <td>
        Short-circuiting logical "and"
       </td>
       <td style="text-align:center">
        Binary
       </td>
       <td style="text-align:center">
        3
       </td>
      </tr>
      <tr>
       <td style="text-align:center">
        <code>
         or
        </code>
       </td>
       <td>
        Short-circuiting logical "or
       </td>
       <td style="text-align:center">
        Binary
       </td>
       <td style="text-align:center">
        2
       </td>
      </tr>
      <tr>
       <td style="text-align:center">
        <code>
         =
        </code>
       </td>
       <td>
        Assignment
       </td>
       <td style="text-align:center">
        Binary
       </td>
       <td style="text-align:center">
        1
       </td>
      </tr>
      <tr>
       <td style="text-align:center">
        <code>
         +=
        </code>
       </td>
       <td>
        Add-Assignment
       </td>
       <td style="text-align:center">
        Binary
       </td>
       <td style="text-align:center">
        1
       </td>
      </tr>
      <tr>
       <td style="text-align:center">
        <code>
         -=
        </code>
       </td>
       <td>
        Subtraction-Assignment
       </td>
       <td style="text-align:center">
        Binary
       </td>
       <td style="text-align:center">
        1
       </td>
      </tr>
      <tr>
       <td style="text-align:center">
        <code>
         *=
        </code>
       </td>
       <td>
        Multiplication-Assignment
       </td>
       <td style="text-align:center">
        Binary
       </td>
       <td style="text-align:center">
        1
       </td>
      </tr>
      <tr>
       <td style="text-align:center">
        <code>
         /=
        </code>
       </td>
       <td>
        Division-Assignment
       </td>
       <td style="text-align:center">
        Binary
       </td>
       <td style="text-align:center">
        1
       </td>
      </tr>
     </tbody>
    </table>
    <div class="page-end-buttons">
     <a class="previous" href="/docs/reference/styling/">
      <img alt="â" src="/assets/icons/16-arrow-right.svg"/>
      <div>
       <span class="page-title">
        Styling
       </span>
       <span class="hint">
        Previous page
       </span>
      </div>
     </a>
     <a class="next" href="/docs/reference/context/">
      <img alt="â" src="/assets/icons/16-arrow-right.svg"/>
      <div>
       <span class="page-title">
        Context
       </span>
       <span class="hint">
        Next page
       </span>
      </div>
     </a>
    </div>
   </main>